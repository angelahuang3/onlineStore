  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM schema_migrations WHERE version = '20221117183750';[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2023-11-19 01:12:57.306702', '2023-11-19 01:12:57.306705') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddSchemaMigrations (20231119010651)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.9ms)[0m  [1m[32mINSERT INTO schema_migrations (version) VALUES ('20231117183750'), ('20231119184715'),('20231119185005'),('20231119202423'),('20231201192417'),('20231201192708'),('20231202192955'),('20231202194517')[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231119010651') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-11-18 17:20:42 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
Completed 500 Internal Server Error in 53ms (ActiveRecord: 1.2ms | Allocations: 20071)


  
ActiveRecord::StatementInvalid (Could not find table 'carts'):
  
app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
app/controllers/concerns/current_cart.rb:5:in `set_cart'
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateProducts (20231201183750)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" text, "image" varchar, "price" decimal, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231201183750') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Book"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Book"], ["description", "This is a book"], ["image", "book.jpeg"], ["price", 2.22], ["created_at", "2023-11-19 01:42:57.134318"], ["updated_at", "2023-11-19 01:42:57.134318"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Macbook Air"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Macbook Air"], ["description", "This is an apple laptop"], ["image", "macbook.jpeg"], ["price", 1222.22], ["created_at", "2023-11-19 01:42:57.140475"], ["updated_at", "2023-11-19 01:42:57.140475"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Bike"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Bike"], ["description", "What a nice bike"], ["image", "bike.jpeg"], ["price", 222.22], ["created_at", "2023-11-19 01:42:57.144782"], ["updated_at", "2023-11-19 01:42:57.144782"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "iPhone"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "iPhone"], ["description", "a fake funny nose"], ["image", "iPhone.jpeg"], ["price", 22.22], ["created_at", "2023-11-19 01:42:57.147954"], ["updated_at", "2023-11-19 01:42:57.147954"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Book"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Macbook Air"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Bike"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "iPhone"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Delete All (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Book"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Macbook Air"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Bike"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "iPhone"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Delete All (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT * FROM schema_migrations;[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (2.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" text, "image" varchar, "price" decimal, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'd596d0c098ae7f0200af5fd3e118ba35d94539c4', '2023-11-19 01:50:39.947539', '2023-11-19 01:50:39.947542') RETURNING "key"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" text, "image" varchar, "price" decimal, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20231202194517)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20231202192955),
(20231201192708),
(20231201192417),
(20231201183750),
(20231119202423),
(20231119185005),
(20231119184715);[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2023-11-19 01:50:39.959937', '2023-11-19 01:50:39.959940') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2023-11-19 01:50:39.962072' WHERE "ar_internal_metadata"."key" = 'environment'[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'd596d0c098ae7f0200af5fd3e118ba35d94539c4', '2023-11-19 01:50:39.963429', '2023-11-19 01:50:39.963430') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CombineItemsInCart (20231202194517)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.9ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20231202194517'[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CombineItemsInCart (20231202194517)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231202194517') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CombineItemsInCart (20231202194517)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (1.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20231202194517'[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateUsers (20231202192955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2023-11-19 02:09:09.446355', '2023-11-19 02:09:09.446358') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCarts (20231119184715)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231119184715') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateLineitems (20231119185005)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "lineitems" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_774d1bb2b6"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_733d199599"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_lineitems_on_product_id" ON "lineitems" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_lineitems_on_cart_id" ON "lineitems" ("cart_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231119185005') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddQuantityToLineitems (20231119202423)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.6ms)[0m  [1m[35mALTER TABLE "lineitems" ADD "quantity" integer DEFAULT 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231119202423') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProducts (20231201183750)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" text, "image" varchar, "price" decimal, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231201183750') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateOrders (20231201192417)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "address" text, "email" varchar, "paytype" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231201192417') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddOrderToLineitems (20231201192708)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "lineitems" ADD "order_id" integer[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_lineitems_on_order_id" ON "lineitems" ("order_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "alineitems" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_alineitems_on_order_id" ON "alineitems" ("order_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_alineitems_on_cart_id" ON "alineitems" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_alineitems_on_product_id" ON "alineitems" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "alineitems" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "lineitems"[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "lineitems"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "lineitems" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_733d199599"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_774d1bb2b6"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_c468018124"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_lineitems_on_product_id" ON "lineitems" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_lineitems_on_cart_id" ON "lineitems" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_lineitems_on_order_id" ON "lineitems" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "lineitems" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "alineitems"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "alineitems"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231201192708') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateUsers (20231202192955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231202192955') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CombineItemsInCart (20231202194517)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231202194517') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Book"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Book"], ["description", "This is a book"], ["image", "book.jpeg"], ["price", 2.22], ["created_at", "2023-11-19 02:09:54.077493"], ["updated_at", "2023-11-19 02:09:54.077493"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Macbook Air"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Macbook Air"], ["description", "This is an apple laptop"], ["image", "macbook.jpeg"], ["price", 1222.22], ["created_at", "2023-11-19 02:09:54.081761"], ["updated_at", "2023-11-19 02:09:54.081761"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Bike"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Bike"], ["description", "What a nice bike"], ["image", "bike.jpeg"], ["price", 222.22], ["created_at", "2023-11-19 02:09:54.085274"], ["updated_at", "2023-11-19 02:09:54.085274"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "iPhone"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "iPhone"], ["description", "a fake funny nose"], ["image", "iPhone.jpeg"], ["price", 22.22], ["created_at", "2023-11-19 02:09:54.089904"], ["updated_at", "2023-11-19 02:09:54.089904"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Delete All (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "assignment4"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["name", "assignment4"], ["password_digest", "[FILTERED]"], ["created_at", "2023-11-19 02:09:54.104807"], ["updated_at", "2023-11-19 02:09:54.104807"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? AND "users"."id" != ? LIMIT ?[0m  [["name", "assignment4"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-11-19 02:09:54.376426"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2023-11-18 18:11:27 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2023-11-19 02:11:28.049153"], ["updated_at", "2023-11-19 02:11:28.049153"]]
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 407.8ms | Allocations: 142474)
  Rendered layout layouts/application.html.erb (Duration: 408.1ms | Allocations: 142584)
Completed 500 Internal Server Error in 486ms (ActiveRecord: 5.9ms | Allocations: 217107)


  
LoadError (cannot load such file -- sassc):
  
bootsnap (1.17.0) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:17:in `require'
bootsnap (1.17.0) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:17:in `require'
zeitwerk (2.6.12) lib/zeitwerk/kernel.rb:38:in `require'
sprockets (4.2.1) lib/sprockets/autoload/sassc.rb:2:in `<main>'
bootsnap (1.17.0) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:32:in `require'
bootsnap (1.17.0) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:32:in `require'
zeitwerk (2.6.12) lib/zeitwerk/kernel.rb:38:in `require'
sprockets (4.2.1) lib/sprockets/sassc_processor.rb:42:in `initialize'
sprockets (4.2.1) lib/sprockets/sassc_processor.rb:27:in `new'
sprockets (4.2.1) lib/sprockets/sassc_processor.rb:27:in `instance'
sprockets (4.2.1) lib/sprockets/sassc_processor.rb:31:in `call'
sprockets (4.2.1) lib/sprockets/processor_utils.rb:84:in `call_processor'
sprockets (4.2.1) lib/sprockets/processor_utils.rb:66:in `block in call_processors'
sprockets (4.2.1) lib/sprockets/processor_utils.rb:65:in `reverse_each'
sprockets (4.2.1) lib/sprockets/processor_utils.rb:65:in `call_processors'
sprockets (4.2.1) lib/sprockets/processor_utils.rb:22:in `block in <class:CompositeProcessor>'
sprockets (4.2.1) lib/sprockets/processor_utils.rb:33:in `call'
sprockets (4.2.1) lib/sprockets/processor_utils.rb:84:in `call_processor'
sprockets (4.2.1) lib/sprockets/processor_utils.rb:66:in `block in call_processors'
sprockets (4.2.1) lib/sprockets/processor_utils.rb:65:in `reverse_each'
sprockets (4.2.1) lib/sprockets/processor_utils.rb:65:in `call_processors'
sprockets (4.2.1) lib/sprockets/loader.rb:184:in `load_from_unloaded'
sprockets (4.2.1) lib/sprockets/loader.rb:59:in `block in load'
sprockets (4.2.1) lib/sprockets/loader.rb:339:in `fetch_asset_from_dependency_cache'
sprockets (4.2.1) lib/sprockets/loader.rb:43:in `load'
sprockets (4.2.1) lib/sprockets/cached_environment.rb:44:in `block in load'
concurrent-ruby (1.2.2) lib/concurrent-ruby/concurrent/map.rb:207:in `block in fetch_or_store'
concurrent-ruby (1.2.2) lib/concurrent-ruby/concurrent/map.rb:187:in `fetch'
concurrent-ruby (1.2.2) lib/concurrent-ruby/concurrent/map.rb:206:in `fetch_or_store'
sprockets (4.2.1) lib/sprockets/cached_environment.rb:44:in `load'
sprockets (4.2.1) lib/sprockets/bundle.rb:27:in `call'
sprockets (4.2.1) lib/sprockets/processor_utils.rb:84:in `call_processor'
sprockets (4.2.1) lib/sprockets/processor_utils.rb:66:in `block in call_processors'
sprockets (4.2.1) lib/sprockets/processor_utils.rb:65:in `reverse_each'
sprockets (4.2.1) lib/sprockets/processor_utils.rb:65:in `call_processors'
sprockets (4.2.1) lib/sprockets/loader.rb:184:in `load_from_unloaded'
sprockets (4.2.1) lib/sprockets/loader.rb:59:in `block in load'
sprockets (4.2.1) lib/sprockets/loader.rb:339:in `fetch_asset_from_dependency_cache'
sprockets (4.2.1) lib/sprockets/loader.rb:43:in `load'
sprockets (4.2.1) lib/sprockets/cached_environment.rb:44:in `block in load'
concurrent-ruby (1.2.2) lib/concurrent-ruby/concurrent/map.rb:207:in `block in fetch_or_store'
concurrent-ruby (1.2.2) lib/concurrent-ruby/concurrent/map.rb:187:in `fetch'
concurrent-ruby (1.2.2) lib/concurrent-ruby/concurrent/map.rb:206:in `fetch_or_store'
sprockets (4.2.1) lib/sprockets/cached_environment.rb:44:in `load'
sprockets (4.2.1) lib/sprockets/bundle.rb:32:in `block in call'
/Users/angelahuang/.rbenv/versions/3.0.0/lib/ruby/3.0.0/set.rb:344:in `each_key'
/Users/angelahuang/.rbenv/versions/3.0.0/lib/ruby/3.0.0/set.rb:344:in `each'
sprockets (4.2.1) lib/sprockets/bundle.rb:31:in `call'
sprockets (4.2.1) lib/sprockets/processor_utils.rb:84:in `call_processor'
sprockets (4.2.1) lib/sprockets/processor_utils.rb:66:in `block in call_processors'
sprockets (4.2.1) lib/sprockets/processor_utils.rb:65:in `reverse_each'
sprockets (4.2.1) lib/sprockets/processor_utils.rb:65:in `call_processors'
sprockets (4.2.1) lib/sprockets/loader.rb:184:in `load_from_unloaded'
sprockets (4.2.1) lib/sprockets/loader.rb:59:in `block in load'
sprockets (4.2.1) lib/sprockets/loader.rb:339:in `fetch_asset_from_dependency_cache'
sprockets (4.2.1) lib/sprockets/loader.rb:43:in `load'
sprockets (4.2.1) lib/sprockets/cached_environment.rb:44:in `block in load'
concurrent-ruby (1.2.2) lib/concurrent-ruby/concurrent/map.rb:207:in `block in fetch_or_store'
concurrent-ruby (1.2.2) lib/concurrent-ruby/concurrent/map.rb:187:in `fetch'
concurrent-ruby (1.2.2) lib/concurrent-ruby/concurrent/map.rb:206:in `fetch_or_store'
sprockets (4.2.1) lib/sprockets/cached_environment.rb:44:in `load'
sprockets (4.2.1) lib/sprockets/base.rb:81:in `find_asset'
sprockets (4.2.1) lib/sprockets/base.rb:88:in `find_all_linked_assets'
sprockets (4.2.1) lib/sprockets/manifest.rb:125:in `each'
sprockets (4.2.1) lib/sprockets/manifest.rb:125:in `to_a'
sprockets (4.2.1) lib/sprockets/manifest.rb:125:in `block (2 levels) in find'
concurrent-ruby (1.2.2) lib/concurrent-ruby/concurrent/executor/safe_task_executor.rb:24:in `block in execute'
concurrent-ruby (1.2.2) lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `block in synchronize'
concurrent-ruby (1.2.2) lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `synchronize'
concurrent-ruby (1.2.2) lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `synchronize'
concurrent-ruby (1.2.2) lib/concurrent-ruby/concurrent/executor/safe_task_executor.rb:22:in `execute'
concurrent-ruby (1.2.2) lib/concurrent-ruby/concurrent/promise.rb:564:in `block in realize'
concurrent-ruby (1.2.2) lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:352:in `run_task'
concurrent-ruby (1.2.2) lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:343:in `block (3 levels) in create_worker'
concurrent-ruby (1.2.2) lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `loop'
concurrent-ruby (1.2.2) lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `block (2 levels) in create_worker'
concurrent-ruby (1.2.2) lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:333:in `catch'
concurrent-ruby (1.2.2) lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:333:in `block in create_worker'
Started GET "/" for 127.0.0.1 at 2023-11-18 18:14:43 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2023-11-19 02:14:43.346811"], ["updated_at", "2023-11-19 02:14:43.346811"]]
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 272.7ms | Allocations: 129922)
  Rendered layout layouts/application.html.erb (Duration: 288.1ms | Allocations: 139860)
Completed 500 Internal Server Error in 432ms (ActiveRecord: 6.0ms | Allocations: 214394)


  
ActionView::Template::Error (couldn't find file 'turbolinks' with type 'application/javascript'
Checked in these paths: 
  /Users/angelahuang/Desktop/COEN 278/COEN278_assignment4_ChingYuehHuang/onlineStore/app/assets/config
  /Users/angelahuang/Desktop/COEN 278/COEN278_assignment4_ChingYuehHuang/onlineStore/app/assets/images
  /Users/angelahuang/Desktop/COEN 278/COEN278_assignment4_ChingYuehHuang/onlineStore/app/assets/javascripts
  /Users/angelahuang/Desktop/COEN 278/COEN278_assignment4_ChingYuehHuang/onlineStore/app/assets/stylesheets
  /Users/angelahuang/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/stimulus-rails-1.3.0/app/assets/javascripts
  /Users/angelahuang/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/turbo-rails-1.5.0/app/assets/javascripts
  /Users/angelahuang/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/importmap-rails-1.2.3/app/assets/javascripts
  /Users/angelahuang/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/actiontext-7.1.2/app/assets/javascripts
  /Users/angelahuang/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/actiontext-7.1.2/app/assets/stylesheets
  /Users/angelahuang/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/actioncable-7.1.2/app/assets/javascripts
  /Users/angelahuang/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/activestorage-7.1.2/app/assets/javascripts
  /Users/angelahuang/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/actionview-7.1.2/app/assets/javascripts
  /Users/angelahuang/.rbenv/versions/3.0.0/lib/ruby/gems/3.0.0/gems/actionview-7.1.2/lib/assets/compiled
  /Users/angelahuang/Desktop/COEN 278/COEN278_assignment4_ChingYuehHuang/onlineStore/app/javascript
  /Users/angelahuang/Desktop/COEN 278/COEN278_assignment4_ChingYuehHuang/onlineStore/vendor/javascript):
     7:     <%= csp_meta_tag %>
     8: 
     9:     <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    10:     <%= javascript_importmap_tags %>
    11:     <%= javascript_include_tag "application", 'data-turbolinks-track': 'reload' %>
    12:   </head>
    13: 
  
app/views/layouts/application.html.erb:10
Started GET "/" for 127.0.0.1 at 2023-11-18 18:16:16 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2023-11-19 02:16:16.933194"], ["updated_at", "2023-11-19 02:16:16.933194"]]
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 505.8ms | Allocations: 215995)
  Rendered layout layouts/application.html.erb (Duration: 591.9ms | Allocations: 240793)
Completed 500 Internal Server Error in 731ms (ActiveRecord: 4.9ms | Allocations: 315335)


  
LoadError (cannot load such file -- coffee_script):
  
app/views/layouts/application.html.erb:10
Started GET "/" for 127.0.0.1 at 2023-11-18 18:16:37 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2023-11-19 02:16:37.599480"], ["updated_at", "2023-11-19 02:16:37.599480"]]
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 491.7ms | Allocations: 218905)
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 39.2ms | Allocations: 14305)
  Rendered layout layouts/application.html.erb (Duration: 2217.9ms | Allocations: 294633)
Completed 200 OK in 2360ms (Views: 2225.2ms | ActiveRecord: 6.0ms | Allocations: 369216)


Started GET "/search/index" for 127.0.0.1 at 2023-11-18 18:16:43 -0800
Processing by SearchController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering search/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name like '%%' and description like '%%' and price like '%%') ORDER BY "products"."name" ASC[0m
  ↳ app/views/search/index.html.erb:29
  Rendered search/index.html.erb within layouts/application (Duration: 14.2ms | Allocations: 6278)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.9ms | Allocations: 971)
  Rendered layout layouts/application.html.erb (Duration: 30.1ms | Allocations: 14174)
Completed 200 OK in 60ms (Views: 31.7ms | ActiveRecord: 0.7ms | Allocations: 19336)


Started POST "/search/index" for 127.0.0.1 at 2023-11-18 18:16:47 -0800
Processing by SearchController#index as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"b", "description"=>"", "price"=>"", "commit"=>"Search"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering search/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name like '%b%' and description like '%%' and price like '%%') ORDER BY "products"."name" ASC[0m
  ↳ app/views/search/index.html.erb:29
  Rendered search/index.html.erb within layouts/application (Duration: 8.5ms | Allocations: 3660)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.7ms | Allocations: 956)
  Rendered layout layouts/application.html.erb (Duration: 33.0ms | Allocations: 11528)
Completed 200 OK in 38ms (Views: 33.9ms | ActiveRecord: 0.4ms | Allocations: 12580)


Started POST "/search/index" for 127.0.0.1 at 2023-11-18 18:16:53 -0800
Processing by SearchController#index as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"bi", "description"=>"", "price"=>"", "commit"=>"Search"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering search/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name like '%bi%' and description like '%%' and price like '%%') ORDER BY "products"."name" ASC[0m
  ↳ app/views/search/index.html.erb:29
  Rendered search/index.html.erb within layouts/application (Duration: 11.7ms | Allocations: 1963)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 5.7ms | Allocations: 956)
  Rendered layout layouts/application.html.erb (Duration: 47.9ms | Allocations: 9830)
Completed 200 OK in 56ms (Views: 49.4ms | ActiveRecord: 0.4ms | Allocations: 10861)


Started GET "/shopper" for 127.0.0.1 at 2023-11-18 18:16:55 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 39.7ms | Allocations: 4112)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 5.8ms | Allocations: 948)
  Rendered layout layouts/application.html.erb (Duration: 56.9ms | Allocations: 11976)
Completed 200 OK in 61ms (Views: 57.3ms | ActiveRecord: 0.3ms | Allocations: 12990)


Started GET "/navs/contact" for 127.0.0.1 at 2023-11-18 18:16:56 -0800
Processing by NavsController#contact as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/contact.html.erb within layouts/application
  Rendered navs/contact.html.erb within layouts/application (Duration: 2.4ms | Allocations: 105)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 976)
  Rendered layout layouts/application.html.erb (Duration: 22.6ms | Allocations: 8161)
Completed 200 OK in 28ms (Views: 24.0ms | ActiveRecord: 0.2ms | Allocations: 9330)


Started GET "/navs/faq" for 127.0.0.1 at 2023-11-18 18:16:57 -0800
Processing by NavsController#faq as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/faq.html.erb within layouts/application
  Rendered navs/faq.html.erb within layouts/application (Duration: 0.5ms | Allocations: 136)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.6ms | Allocations: 975)
  Rendered layout layouts/application.html.erb (Duration: 15.5ms | Allocations: 8180)
Completed 200 OK in 21ms (Views: 16.0ms | ActiveRecord: 0.1ms | Allocations: 9216)


Started GET "/shopper" for 127.0.0.1 at 2023-11-18 18:16:57 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 13.5ms | Allocations: 4118)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 5.1ms | Allocations: 947)
  Rendered layout layouts/application.html.erb (Duration: 32.1ms | Allocations: 11980)
Completed 200 OK in 37ms (Views: 33.0ms | ActiveRecord: 0.5ms | Allocations: 12963)


Started GET "/navs/contact" for 127.0.0.1 at 2023-11-18 18:16:58 -0800
Processing by NavsController#contact as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/contact.html.erb within layouts/application
  Rendered navs/contact.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.2ms | Allocations: 975)
  Rendered layout layouts/application.html.erb (Duration: 12.3ms | Allocations: 8051)
Completed 200 OK in 15ms (Views: 12.9ms | ActiveRecord: 0.2ms | Allocations: 9013)


Started GET "/search/index" for 127.0.0.1 at 2023-11-18 18:16:59 -0800
Processing by SearchController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering search/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name like '%%' and description like '%%' and price like '%%') ORDER BY "products"."name" ASC[0m
  ↳ app/views/search/index.html.erb:29
  Rendered search/index.html.erb within layouts/application (Duration: 15.9ms | Allocations: 4518)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.2ms | Allocations: 955)
  Rendered layout layouts/application.html.erb (Duration: 34.1ms | Allocations: 12383)
Completed 200 OK in 39ms (Views: 34.6ms | ActiveRecord: 0.4ms | Allocations: 13347)


Started GET "/shopper" for 127.0.0.1 at 2023-11-18 18:17:01 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 17.3ms | Allocations: 4110)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.4ms | Allocations: 947)
  Rendered layout layouts/application.html.erb (Duration: 33.1ms | Allocations: 11973)
Completed 200 OK in 38ms (Views: 34.4ms | ActiveRecord: 0.3ms | Allocations: 12972)


Started POST "/lineitems?product_id=3" for 127.0.0.1 at 2023-11-18 19:21:28 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"3"}
  [1m[36mCart Load (4.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 4], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mLineitem Create (1.0ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 3], ["cart_id", 4], ["created_at", "2023-11-19 03:21:29.110488"], ["updated_at", "2023-11-19 03:21:29.110488"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 6.7ms | Allocations: 1167)
  Rendered lineitems/create.js.erb (Duration: 9.5ms | Allocations: 1439)
Completed 200 OK in 80ms (Views: 11.5ms | ActiveRecord: 9.2ms | Allocations: 62385)


Started DELETE "/carts/4" for 127.0.0.1 at 2023-11-18 19:21:32 -0800
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineitem Load (0.8ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineitem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 1]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 4]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 10ms (ActiveRecord: 1.4ms | Allocations: 4249)


Started GET "/" for 127.0.0.1 at 2023-11-18 19:21:32 -0800
Processing by ShopperController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.0ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2023-11-19 03:21:32.081930"], ["updated_at", "2023-11-19 03:21:32.081930"]]
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 16.9ms | Allocations: 4157)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 5]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.8ms | Allocations: 965)
  Rendered layout layouts/application.html.erb (Duration: 44.0ms | Allocations: 12042)
Completed 200 OK in 50ms (Views: 44.5ms | ActiveRecord: 1.5ms | Allocations: 14763)


Started POST "/lineitems?product_id=3" for 127.0.0.1 at 2023-11-18 19:21:33 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 5], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (3.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mLineitem Create (0.3ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 3], ["cart_id", 5], ["created_at", "2023-11-19 03:21:33.765232"], ["updated_at", "2023-11-19 03:21:33.765232"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 5]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.4ms | Allocations: 1099)
  Rendered lineitems/create.js.erb (Duration: 2.7ms | Allocations: 1252)
Completed 200 OK in 18ms (Views: 3.1ms | ActiveRecord: 3.9ms | Allocations: 6291)


Started GET "/orders/new" for 127.0.0.1 at 2023-11-18 19:21:35 -0800
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "lineitems" WHERE "lineitems"."cart_id" = ? LIMIT ?[0m  [["cart_id", 5], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:18:in `new'
  Rendering layout layouts/application.html.erb
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 22.7ms | Allocations: 3577)
  Rendered orders/new.html.erb within layouts/application (Duration: 25.6ms | Allocations: 3868)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 5]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 3.7ms | Allocations: 1687)
  Rendered layout layouts/application.html.erb (Duration: 39.5ms | Allocations: 12622)
Completed 200 OK in 70ms (Views: 41.0ms | ActiveRecord: 1.2ms | Allocations: 55997)


Started POST "/orders" for 127.0.0.1 at 2023-11-18 19:21:43 -0800
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "order"=>{"name"=>"Ching Yueh Huang", "address"=>"HarbigStrase 14\r\n11.01.05", "email"=>"ilovepink613@gmail.com", "paytype"=>"Credit Card"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mOrder Create (1.6ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "paytype", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Ching Yueh Huang"], ["address", "HarbigStrase 14\r\n11.01.05"], ["email", "ilovepink613@gmail.com"], ["paytype", "Credit Card"], ["created_at", "2023-11-19 03:21:43.152482"], ["updated_at", "2023-11-19 03:21:43.152482"]]
  ↳ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineitem Load (16.8ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 5]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineitem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 5]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 39ms (ActiveRecord: 19.5ms | Allocations: 6613)


Started GET "/" for 127.0.0.1 at 2023-11-18 19:21:43 -0800
Processing by ShopperController#index as HTML
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.9ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2023-11-19 03:21:43.208216"], ["updated_at", "2023-11-19 03:21:43.208216"]]
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 12.3ms | Allocations: 4124)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 4.1ms | Allocations: 965)
  Rendered layout layouts/application.html.erb (Duration: 29.5ms | Allocations: 12070)
Completed 200 OK in 42ms (Views: 30.1ms | ActiveRecord: 2.7ms | Allocations: 14789)


Started GET "/search/index" for 127.0.0.1 at 2023-11-18 19:21:54 -0800
Processing by SearchController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering search/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name like '%%' and description like '%%' and price like '%%') ORDER BY "products"."name" ASC[0m
  ↳ app/views/search/index.html.erb:29
  Rendered search/index.html.erb within layouts/application (Duration: 13.0ms | Allocations: 4515)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.5ms | Allocations: 955)
  Rendered layout layouts/application.html.erb (Duration: 32.7ms | Allocations: 12380)
Completed 200 OK in 35ms (Views: 33.0ms | ActiveRecord: 0.5ms | Allocations: 13338)


Started POST "/search/index" for 127.0.0.1 at 2023-11-18 19:22:01 -0800
Processing by SearchController#index as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"a", "description"=>"", "price"=>"", "commit"=>"Search"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering search/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name like '%a%' and description like '%%' and price like '%%') ORDER BY "products"."name" ASC[0m
  ↳ app/views/search/index.html.erb:29
  Rendered search/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 1968)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.2ms | Allocations: 955)
  Rendered layout layouts/application.html.erb (Duration: 20.3ms | Allocations: 9833)
Completed 200 OK in 23ms (Views: 20.6ms | ActiveRecord: 0.4ms | Allocations: 10852)


Started POST "/search/index" for 127.0.0.1 at 2023-11-18 19:22:04 -0800
Processing by SearchController#index as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"a", "description"=>"a", "price"=>"", "commit"=>"Search"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering search/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name like '%a%' and description like '%a%' and price like '%%') ORDER BY "products"."name" ASC[0m
  ↳ app/views/search/index.html.erb:29
  Rendered search/index.html.erb within layouts/application (Duration: 5.7ms | Allocations: 1969)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.8ms | Allocations: 955)
  Rendered layout layouts/application.html.erb (Duration: 19.9ms | Allocations: 9842)
Completed 200 OK in 24ms (Views: 20.4ms | ActiveRecord: 0.5ms | Allocations: 10843)


Started POST "/search/index" for 127.0.0.1 at 2023-11-18 19:22:06 -0800
Processing by SearchController#index as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"a", "description"=>"a", "price"=>"22", "commit"=>"Search"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering search/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name like '%a%' and description like '%a%' and price like '%22%') ORDER BY "products"."name" ASC[0m
  ↳ app/views/search/index.html.erb:29
  Rendered search/index.html.erb within layouts/application (Duration: 6.3ms | Allocations: 1968)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.6ms | Allocations: 955)
  Rendered layout layouts/application.html.erb (Duration: 20.6ms | Allocations: 9833)
Completed 200 OK in 24ms (Views: 20.8ms | ActiveRecord: 0.5ms | Allocations: 10835)


Started POST "/search/index" for 127.0.0.1 at 2023-11-18 19:22:07 -0800
Processing by SearchController#index as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"a", "description"=>"a", "price"=>"22", "commit"=>"Search"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering search/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name like '%a%' and description like '%a%' and price like '%22%') ORDER BY "products"."name" ASC[0m
  ↳ app/views/search/index.html.erb:29
  Rendered search/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 1968)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.3ms | Allocations: 955)
  Rendered layout layouts/application.html.erb (Duration: 19.3ms | Allocations: 9845)
Completed 200 OK in 23ms (Views: 20.0ms | ActiveRecord: 0.4ms | Allocations: 10847)


Started GET "/shopper" for 127.0.0.1 at 2023-11-18 19:22:09 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 11.9ms | Allocations: 4116)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.3ms | Allocations: 947)
  Rendered layout layouts/application.html.erb (Duration: 27.0ms | Allocations: 11978)
Completed 200 OK in 49ms (Views: 27.5ms | ActiveRecord: 0.3ms | Allocations: 12967)


Started GET "/" for 127.0.0.1 at 2023-11-18 21:59:54 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 136.8ms | Allocations: 89425)
  [1m[36mLineitem Load (0.6ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 26.5ms | Allocations: 11451)
  Rendered layout layouts/application.html.erb (Duration: 235.6ms | Allocations: 122382)
Completed 200 OK in 328ms (Views: 239.8ms | ActiveRecord: 5.2ms | Allocations: 197945)


Started POST "/login" for 127.0.0.1 at 2023-11-18 21:59:58 -0800
Processing by AccessController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/access_controller.rb:13:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 8ms (ActiveRecord: 0.4ms | Allocations: 2712)


Started GET "/login" for 127.0.0.1 at 2023-11-18 21:59:58 -0800
Processing by AccessController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering access/new.html.erb within layouts/application
  Rendered access/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1492)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.2ms | Allocations: 950)
  Rendered layout layouts/application.html.erb (Duration: 14.7ms | Allocations: 9513)
Completed 200 OK in 19ms (Views: 15.8ms | ActiveRecord: 0.1ms | Allocations: 10657)


Started POST "/access/new" for 127.0.0.1 at 2023-11-18 22:00:07 -0800
Processing by AccessController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"assignment4", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "assignment4"], ["LIMIT", 1]]
  ↳ app/controllers/access_controller.rb:13:in `create'
Redirected to http://127.0.0.1:3000/admin
Completed 302 Found in 274ms (ActiveRecord: 0.5ms | Allocations: 16439)


Started GET "/admin" for 127.0.0.1 at 2023-11-18 22:00:07 -0800
Processing by AdminController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mOrder Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  ↳ app/controllers/admin_controller.rb:5:in `index'
  Rendering layout layouts/application.html.erb
  Rendering admin/index.html.erb within layouts/application
  Rendered admin/index.html.erb within layouts/application (Duration: 0.6ms | Allocations: 213)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.3ms | Allocations: 969)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 13.3ms | Allocations: 9615)
Completed 200 OK in 23ms (Views: 14.3ms | ActiveRecord: 1.3ms | Allocations: 13451)


Started GET "/search/index" for 127.0.0.1 at 2023-11-18 22:00:12 -0800
Processing by SearchController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering search/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name like '%%' and description like '%%' and price like '%%') ORDER BY "products"."name" ASC[0m
  ↳ app/views/search/index.html.erb:29
  Rendered search/index.html.erb within layouts/application (Duration: 14.3ms | Allocations: 5428)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 5.6ms | Allocations: 956)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 74.1ms | Allocations: 13970)
Completed 200 OK in 78ms (Views: 74.9ms | ActiveRecord: 0.5ms | Allocations: 15163)


Started POST "/search/index" for 127.0.0.1 at 2023-11-18 22:00:16 -0800
Processing by SearchController#index as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"a", "description"=>"a", "price"=>"", "commit"=>"Search"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering search/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name like '%a%' and description like '%a%' and price like '%%') ORDER BY "products"."name" ASC[0m
  ↳ app/views/search/index.html.erb:29
  Rendered search/index.html.erb within layouts/application (Duration: 5.6ms | Allocations: 1975)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.7ms | Allocations: 955)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 20.1ms | Allocations: 10517)
Completed 200 OK in 23ms (Views: 20.2ms | ActiveRecord: 0.6ms | Allocations: 11538)


Started POST "/lineitems?product_id=2" for 127.0.0.1 at 2023-11-18 22:00:19 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.5ms | Allocations: 5736)


  
NameError (undefined local variable or method `ineitems' for #<Cart id: 6, created_at: "2023-11-19 03:21:43.208216000 +0000", updated_at: "2023-11-19 03:21:43.208216000 +0000">
Did you mean?  lineitems
               lineitems=):
  
app/models/cart.rb:5:in `add_this_item'
app/controllers/lineitems_controller.rb:31:in `create'
Started POST "/lineitems?product_id=2" for 127.0.0.1 at 2023-11-18 22:00:20 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.2ms | Allocations: 4968)


  
NameError (undefined local variable or method `ineitems' for #<Cart id: 6, created_at: "2023-11-19 03:21:43.208216000 +0000", updated_at: "2023-11-19 03:21:43.208216000 +0000">
Did you mean?  lineitems
               lineitems=):
  
app/models/cart.rb:5:in `add_this_item'
app/controllers/lineitems_controller.rb:31:in `create'
Started GET "/" for 127.0.0.1 at 2023-11-18 22:00:55 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 85.6ms | Allocations: 89116)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 20.6ms | Allocations: 11449)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 154.7ms | Allocations: 139133)
Completed 200 OK in 269ms (Views: 156.3ms | ActiveRecord: 4.5ms | Allocations: 214698)


Started POST "/login" for 127.0.0.1 at 2023-11-18 22:00:57 -0800
Processing by AccessController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/access_controller.rb:13:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 4ms (ActiveRecord: 0.2ms | Allocations: 1735)


Started GET "/login" for 127.0.0.1 at 2023-11-18 22:00:57 -0800
Processing by AccessController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
Redirected to http://127.0.0.1:3000/admin
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 882)


Started GET "/admin" for 127.0.0.1 at 2023-11-18 22:00:57 -0800
Processing by AdminController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mOrder Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  ↳ app/controllers/admin_controller.rb:5:in `index'
  Rendering layout layouts/application.html.erb
  Rendering admin/index.html.erb within layouts/application
  Rendered admin/index.html.erb within layouts/application (Duration: 0.8ms | Allocations: 217)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.3ms | Allocations: 973)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 14.7ms | Allocations: 8937)
Completed 200 OK in 23ms (Views: 15.8ms | ActiveRecord: 0.6ms | Allocations: 12765)


Started GET "/search/index" for 127.0.0.1 at 2023-11-18 22:01:01 -0800
Processing by SearchController#index as HTML
  [1m[36mCart Load (2.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering search/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name like '%%' and description like '%%' and price like '%%') ORDER BY "products"."name" ASC[0m
  ↳ app/views/search/index.html.erb:29
  Rendered search/index.html.erb within layouts/application (Duration: 16.5ms | Allocations: 6266)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.4ms | Allocations: 956)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 28.9ms | Allocations: 14807)
Completed 200 OK in 37ms (Views: 30.8ms | ActiveRecord: 2.6ms | Allocations: 16004)


Started POST "/lineitems?product_id=3" for 127.0.0.1 at 2023-11-18 22:01:07 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
  [1m[36mLineitem Load (0.3ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 6], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mLineitem Create (0.3ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 3], ["cart_id", 6], ["created_at", "2023-11-19 06:01:07.752871"], ["updated_at", "2023-11-19 06:01:07.752871"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.7ms | Allocations: 1134)
  Rendered lineitems/create.js.erb (Duration: 3.8ms | Allocations: 1406)
Completed 200 OK in 44ms (Views: 6.1ms | ActiveRecord: 2.6ms | Allocations: 62491)


Started POST "/lineitems?product_id=1" for 127.0.0.1 at 2023-11-18 22:01:11 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 6], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mLineitem Create (0.3ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 1], ["cart_id", 6], ["created_at", "2023-11-19 06:01:11.096273"], ["updated_at", "2023-11-19 06:01:11.096273"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 3.8ms | Allocations: 1910)
  Rendered lineitems/create.js.erb (Duration: 4.2ms | Allocations: 2075)
Completed 200 OK in 18ms (Views: 4.6ms | ActiveRecord: 2.3ms | Allocations: 7155)


Started POST "/lineitems?product_id=1" for 127.0.0.1 at 2023-11-18 22:01:12 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 6], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mLineitem Update (1.4ms)[0m  [1m[33mUPDATE "lineitems" SET "updated_at" = ?, "quantity" = ? WHERE "lineitems"."id" = ?[0m  [["updated_at", "2023-11-19 06:01:12.541767"], ["quantity", 2], ["id", 4]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 17.2ms | Allocations: 2494)
  Rendered lineitems/create.js.erb (Duration: 17.9ms | Allocations: 2659)
Completed 200 OK in 30ms (Views: 18.7ms | ActiveRecord: 2.1ms | Allocations: 6904)


Started POST "/lineitems?product_id=2" for 127.0.0.1 at 2023-11-18 22:01:15 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 6], ["product_id", 2], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (1.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mLineitem Create (0.2ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 2], ["cart_id", 6], ["created_at", "2023-11-19 06:01:15.684338"], ["updated_at", "2023-11-19 06:01:15.684338"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 5.9ms | Allocations: 2715)
  Rendered lineitems/create.js.erb (Duration: 6.2ms | Allocations: 2892)
Completed 200 OK in 21ms (Views: 6.7ms | ActiveRecord: 3.0ms | Allocations: 7964)


Started GET "/orders/new" for 127.0.0.1 at 2023-11-18 22:01:24 -0800
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "lineitems" WHERE "lineitems"."cart_id" = ? LIMIT ?[0m  [["cart_id", 6], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:18:in `new'
  Rendering layout layouts/application.html.erb
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 9.6ms | Allocations: 2916)
  Rendered orders/new.html.erb within layouts/application (Duration: 19.3ms | Allocations: 3209)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 7.5ms | Allocations: 3288)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 56.7ms | Allocations: 14291)
Completed 200 OK in 110ms (Views: 67.9ms | ActiveRecord: 1.0ms | Allocations: 55700)


Started POST "/orders" for 127.0.0.1 at 2023-11-18 22:01:32 -0800
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "order"=>{"name"=>"Ching Yueh Huang", "address"=>"sss", "email"=>"ilovepink613@gmail.com", "paytype"=>""}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.7ms | Allocations: 1902)
  Rendered orders/new.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1983)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 7.1ms | Allocations: 3398)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 23.1ms | Allocations: 13221)
Completed 422 Unprocessable Entity in 27ms (Views: 23.2ms | ActiveRecord: 0.5ms | Allocations: 15077)


Started POST "/orders" for 127.0.0.1 at 2023-11-18 22:01:37 -0800
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "order"=>{"name"=>"Ching Yueh Huang", "address"=>"sss", "email"=>"ilovepink613@gmail.com", "paytype"=>"Check"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mOrder Create (1.0ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "paytype", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Ching Yueh Huang"], ["address", "sss"], ["email", "ilovepink613@gmail.com"], ["paytype", "Check"], ["created_at", "2023-11-19 06:01:37.299940"], ["updated_at", "2023-11-19 06:01:37.299940"]]
  ↳ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineitem Load (0.9ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineitem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 3]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineitem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 4]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineitem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 5]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 6]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 19ms (ActiveRecord: 3.2ms | Allocations: 8015)


Started GET "/" for 127.0.0.1 at 2023-11-18 22:01:37 -0800
Processing by ShopperController#index as HTML
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (0.9ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2023-11-19 06:01:37.333262"], ["updated_at", "2023-11-19 06:01:37.333262"]]
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 9.7ms | Allocations: 4123)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.0ms | Allocations: 965)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 22.3ms | Allocations: 12674)
Completed 200 OK in 27ms (Views: 22.8ms | ActiveRecord: 1.4ms | Allocations: 15509)


Started GET "/orders/new" for 127.0.0.1 at 2023-11-18 22:01:39 -0800
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "lineitems" WHERE "lineitems"."cart_id" = ? LIMIT ?[0m  [["cart_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:18:in `new'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1519)


Started GET "/" for 127.0.0.1 at 2023-11-18 22:01:39 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 6.9ms | Allocations: 4114)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.3ms | Allocations: 951)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 20.5ms | Allocations: 12646)
Completed 200 OK in 23ms (Views: 20.8ms | ActiveRecord: 0.3ms | Allocations: 13657)


Started POST "/lineitems?product_id=3" for 127.0.0.1 at 2023-11-18 22:01:41 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 7], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mLineitem Create (0.2ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 3], ["cart_id", 7], ["created_at", "2023-11-19 06:01:41.712614"], ["updated_at", "2023-11-19 06:01:41.712614"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.7ms | Allocations: 1099)
  Rendered lineitems/create.js.erb (Duration: 3.1ms | Allocations: 1252)
Completed 200 OK in 17ms (Views: 3.6ms | ActiveRecord: 2.4ms | Allocations: 6316)


Started GET "/orders/new" for 127.0.0.1 at 2023-11-18 22:01:42 -0800
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "lineitems" WHERE "lineitems"."cart_id" = ? LIMIT ?[0m  [["cart_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:18:in `new'
  Rendering layout layouts/application.html.erb
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 1.5ms | Allocations: 948)
  Rendered orders/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1020)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 4.2ms | Allocations: 1672)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 17.7ms | Allocations: 10414)
Completed 200 OK in 22ms (Views: 18.0ms | ActiveRecord: 0.5ms | Allocations: 12063)


Started GET "/orders/new" for 127.0.0.1 at 2023-11-18 22:05:54 -0800
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "lineitems" WHERE "lineitems"."cart_id" = ? LIMIT ?[0m  [["cart_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:18:in `new'
  Rendering layout layouts/application.html.erb
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.2ms | Allocations: 1514)
  Rendered orders/new.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1812)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 18.5ms | Allocations: 11905)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 55.2ms | Allocations: 38576)
Completed 200 OK in 92ms (Views: 56.0ms | ActiveRecord: 5.9ms | Allocations: 55818)


Started GET "/navs/faq" for 127.0.0.1 at 2023-11-18 22:06:19 -0800
Processing by NavsController#faq as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/faq.html.erb within layouts/application
  Rendered navs/faq.html.erb within layouts/application (Duration: 0.6ms | Allocations: 136)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 6.3ms | Allocations: 1776)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 19.3ms | Allocations: 9718)
Completed 200 OK in 26ms (Views: 22.5ms | ActiveRecord: 0.4ms | Allocations: 10905)


Started GET "/shopper" for 127.0.0.1 at 2023-11-18 22:06:20 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 12.8ms | Allocations: 4532)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 5.9ms | Allocations: 1743)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 32.5ms | Allocations: 13861)
Completed 200 OK in 41ms (Views: 34.2ms | ActiveRecord: 0.6ms | Allocations: 15077)


Started GET "/navs/news" for 127.0.0.1 at 2023-11-18 22:06:20 -0800
Processing by NavsController#news as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/news.html.erb within layouts/application
  Rendered navs/news.html.erb within layouts/application (Duration: 1.3ms | Allocations: 103)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 4.4ms | Allocations: 1771)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 19.6ms | Allocations: 9609)
Completed 200 OK in 23ms (Views: 20.4ms | ActiveRecord: 0.3ms | Allocations: 10640)


Started GET "/navs/contact" for 127.0.0.1 at 2023-11-18 22:06:24 -0800
Processing by NavsController#contact as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/contact.html.erb within layouts/application
  Rendered navs/contact.html.erb within layouts/application (Duration: 4.5ms | Allocations: 103)
  [1m[36mLineitem Load (0.5ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 10.2ms | Allocations: 1771)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 29.7ms | Allocations: 9609)
Completed 200 OK in 34ms (Views: 30.6ms | ActiveRecord: 0.4ms | Allocations: 10638)


Started GET "/shopper" for 127.0.0.1 at 2023-11-18 22:13:35 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (1.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 9.4ms | Allocations: 4151)
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 4.5ms | Allocations: 1809)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 31.1ms | Allocations: 13566)
Completed 200 OK in 36ms (Views: 31.0ms | ActiveRecord: 3.6ms | Allocations: 14819)


Started GET "/orders" for 127.0.0.1 at 2023-11-18 22:13:37 -0800
Processing by OrdersController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:19
  Rendered orders/index.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1323)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 20.9ms | Allocations: 1743)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 40.9ms | Allocations: 10799)
Completed 200 OK in 44ms (Views: 41.1ms | ActiveRecord: 0.6ms | Allocations: 11911)


Started GET "/orders/1/edit" for 127.0.0.1 at 2023-11-18 22:13:41 -0800
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:72:in `set_order'
  Rendering layout layouts/application.html.erb
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.3ms | Allocations: 1457)
  Rendered orders/edit.html.erb within layouts/application (Duration: 6.8ms | Allocations: 1737)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 4.0ms | Allocations: 1750)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 25.0ms | Allocations: 11205)
Completed 200 OK in 31ms (Views: 25.8ms | ActiveRecord: 0.8ms | Allocations: 13365)


Started PATCH "/orders/1" for 127.0.0.1 at 2023-11-18 22:13:43 -0800
Processing by OrdersController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "order"=>{"name"=>"Ching Yueh Huang", "address"=>"HarbigStrase 14\r\n11.01.05", "email"=>"ilovepink613@gmail.com", "paytype"=>"Credit Card"}, "commit"=>"Place Order", "id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:72:in `set_order'
Redirected to http://127.0.0.1:3000/orders/1
Completed 302 Found in 5ms (ActiveRecord: 0.2ms | Allocations: 1846)


Started GET "/orders/1" for 127.0.0.1 at 2023-11-18 22:13:43 -0800
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:72:in `set_order'
  Rendering layout layouts/application.html.erb
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (Duration: 2.6ms | Allocations: 400)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 4.4ms | Allocations: 1747)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 18.3ms | Allocations: 9876)
Completed 200 OK in 23ms (Views: 18.8ms | ActiveRecord: 0.6ms | Allocations: 11451)


Started GET "/orders" for 127.0.0.1 at 2023-11-18 22:13:47 -0800
Processing by OrdersController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:19
  Rendered orders/index.html.erb within layouts/application (Duration: 4.6ms | Allocations: 822)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 4.8ms | Allocations: 1743)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 26.4ms | Allocations: 10298)
Completed 200 OK in 30ms (Views: 26.9ms | ActiveRecord: 0.6ms | Allocations: 11294)


Started GET "/orders/1" for 127.0.0.1 at 2023-11-18 22:13:49 -0800
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:72:in `set_order'
  Rendering layout layouts/application.html.erb
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (Duration: 0.4ms | Allocations: 90)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 4.6ms | Allocations: 1743)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 21.8ms | Allocations: 9629)
Completed 200 OK in 32ms (Views: 22.0ms | ActiveRecord: 0.9ms | Allocations: 11106)


Started GET "/orders" for 127.0.0.1 at 2023-11-18 22:13:52 -0800
Processing by OrdersController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:19
  Rendered orders/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 822)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 3.3ms | Allocations: 1743)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 25.5ms | Allocations: 10333)
Completed 200 OK in 29ms (Views: 26.0ms | ActiveRecord: 0.4ms | Allocations: 11334)


Started GET "/orders/2/edit" for 127.0.0.1 at 2023-11-18 22:13:54 -0800
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:72:in `set_order'
  Rendering layout layouts/application.html.erb
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 1.9ms | Allocations: 978)
  Rendered orders/edit.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1080)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 5.6ms | Allocations: 1750)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 22.0ms | Allocations: 10556)
Completed 200 OK in 27ms (Views: 22.1ms | ActiveRecord: 1.2ms | Allocations: 12022)


Started GET "/orders" for 127.0.0.1 at 2023-11-18 22:13:56 -0800
Processing by OrdersController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:19
  Rendered orders/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 822)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 6.0ms | Allocations: 1743)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 28.9ms | Allocations: 10326)
Completed 200 OK in 33ms (Views: 29.2ms | ActiveRecord: 0.6ms | Allocations: 11324)


Started GET "/products" for 127.0.0.1 at 2023-11-18 22:13:57 -0800
Processing by ProductsController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (Duration: 8.9ms | Allocations: 3687)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 4.3ms | Allocations: 1743)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 25.8ms | Allocations: 13092)
Completed 200 OK in 30ms (Views: 26.9ms | ActiveRecord: 0.7ms | Allocations: 14331)


Started GET "/users" for 127.0.0.1 at 2023-11-18 22:14:03 -0800
Processing by UsersController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  ↳ app/views/users/index.html.erb:19
  Rendered users/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1112)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 4.1ms | Allocations: 1743)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 22.0ms | Allocations: 10597)
Completed 200 OK in 28ms (Views: 23.4ms | ActiveRecord: 0.6ms | Allocations: 11881)


Started GET "/users/1/edit" for 127.0.0.1 at 2023-11-18 22:14:08 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:66:in `set_user'
  Rendering layout layouts/application.html.erb
  Rendering users/edit.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 7.8ms | Allocations: 1555)
  Rendered users/edit.html.erb within layouts/application (Duration: 9.9ms | Allocations: 1878)
  [1m[36mLineitem Load (0.5ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 7.2ms | Allocations: 1750)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 34.1ms | Allocations: 11346)
Completed 200 OK in 43ms (Views: 34.4ms | ActiveRecord: 0.6ms | Allocations: 12871)


Started PATCH "/users/1" for 127.0.0.1 at 2023-11-18 22:14:12 -0800
Processing by UsersController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"assignment", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Update User", "id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:66:in `set_user'
[31mUnpermitted parameters: :password, :password_confirmation. Context: { controller: UsersController, action: update, request: #<ActionDispatch::Request:0x00007fb0da8467b8>, params: {"_method"=>"patch", "authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"assignment", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Update User", "controller"=>"users", "action"=>"update", "id"=>"1"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:43:in `block in update'
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? AND "users"."id" != ? LIMIT ?[0m  [["name", "assignment"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:43:in `block in update'
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "assignment"], ["updated_at", "2023-11-19 06:14:12.395922"], ["id", 1]]
  ↳ app/controllers/users_controller.rb:43:in `block in update'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/users_controller.rb:43:in `block in update'
Redirected to http://127.0.0.1:3000/users/1
Completed 302 Found in 10ms (ActiveRecord: 1.8ms | Allocations: 4721)


Started GET "/users/1" for 127.0.0.1 at 2023-11-18 22:14:12 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:66:in `set_user'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 0.9ms | Allocations: 289)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 7.2ms | Allocations: 1747)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 18.5ms | Allocations: 9765)
Completed 200 OK in 25ms (Views: 19.5ms | ActiveRecord: 0.5ms | Allocations: 11316)


Started GET "/users" for 127.0.0.1 at 2023-11-18 22:14:16 -0800
Processing by UsersController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  ↳ app/views/users/index.html.erb:19
  Rendered users/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 696)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 4.2ms | Allocations: 1743)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 22.9ms | Allocations: 10172)
Completed 200 OK in 27ms (Views: 23.6ms | ActiveRecord: 0.4ms | Allocations: 11179)


Started GET "/users" for 127.0.0.1 at 2023-11-18 22:16:00 -0800
Processing by UsersController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  ↳ app/views/users/index.html.erb:19
  Rendered users/index.html.erb within layouts/application (Duration: 9.3ms | Allocations: 3405)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 24.1ms | Allocations: 17142)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 61.5ms | Allocations: 42242)
Completed 200 OK in 85ms (Views: 62.6ms | ActiveRecord: 5.4ms | Allocations: 49754)


Started GET "/users" for 127.0.0.1 at 2023-11-18 22:16:20 -0800
Processing by UsersController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  ↳ app/views/users/index.html.erb:19
  Rendered users/index.html.erb within layouts/application (Duration: 5.7ms | Allocations: 3403)
  [1m[36mLineitem Load (0.3ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 22.1ms | Allocations: 17205)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 53.6ms | Allocations: 42364)
Completed 200 OK in 69ms (Views: 53.6ms | ActiveRecord: 4.7ms | Allocations: 49854)


Started GET "/users" for 127.0.0.1 at 2023-11-18 22:16:28 -0800
Processing by UsersController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  ↳ app/views/users/index.html.erb:19
  Rendered users/index.html.erb within layouts/application (Duration: 5.9ms | Allocations: 3407)
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 24.0ms | Allocations: 17142)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 52.1ms | Allocations: 42243)
Completed 200 OK in 69ms (Views: 52.9ms | ActiveRecord: 4.9ms | Allocations: 49808)


Started DELETE "/carts/7" for 127.0.0.1 at 2023-11-18 22:18:03 -0800
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"7"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineitem Load (0.8ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineitem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 6]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 7]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 12ms (ActiveRecord: 2.8ms | Allocations: 4107)


Started GET "/" for 127.0.0.1 at 2023-11-18 22:18:03 -0800
Processing by ShopperController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.0ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2023-11-19 06:18:03.599470"], ["updated_at", "2023-11-19 06:18:03.599470"]]
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 10.5ms | Allocations: 4537)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 8]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.8ms | Allocations: 965)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 26.3ms | Allocations: 13154)
Completed 200 OK in 33ms (Views: 27.0ms | ActiveRecord: 1.5ms | Allocations: 16214)


Started GET "/navs/news" for 127.0.0.1 at 2023-11-18 22:18:05 -0800
Processing by NavsController#news as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/news.html.erb within layouts/application
  Rendered navs/news.html.erb within layouts/application (Duration: 0.5ms | Allocations: 102)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 8]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.8ms | Allocations: 976)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 21.0ms | Allocations: 8818)
Completed 200 OK in 27ms (Views: 22.7ms | ActiveRecord: 0.3ms | Allocations: 10001)


Started GET "/navs/contact" for 127.0.0.1 at 2023-11-18 22:18:07 -0800
Processing by NavsController#contact as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/contact.html.erb within layouts/application
  Rendered navs/contact.html.erb within layouts/application (Duration: 1.3ms | Allocations: 102)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 8]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.3ms | Allocations: 975)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 27.9ms | Allocations: 8871)
Completed 200 OK in 34ms (Views: 28.9ms | ActiveRecord: 0.2ms | Allocations: 9901)


Started GET "/navs/contact" for 127.0.0.1 at 2023-11-18 22:19:10 -0800
Processing by NavsController#contact as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/contact.html.erb within layouts/application
  Rendered navs/contact.html.erb within layouts/application (Duration: 0.6ms | Allocations: 111)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 8]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 9.8ms | Allocations: 7348)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 40.3ms | Allocations: 32344)
Completed 200 OK in 57ms (Views: 41.3ms | ActiveRecord: 4.8ms | Allocations: 38833)


Started GET "/navs/news" for 127.0.0.1 at 2023-11-18 22:19:14 -0800
Processing by NavsController#news as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/news.html.erb within layouts/application
  Rendered navs/news.html.erb within layouts/application (Duration: 2.3ms | Allocations: 102)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 8]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.8ms | Allocations: 977)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 19.9ms | Allocations: 8854)
Completed 200 OK in 24ms (Views: 20.5ms | ActiveRecord: 0.3ms | Allocations: 9887)


Started GET "/navs/faq" for 127.0.0.1 at 2023-11-18 22:19:24 -0800
Processing by NavsController#faq as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/faq.html.erb within layouts/application
  Rendered navs/faq.html.erb within layouts/application (Duration: 2.2ms | Allocations: 135)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 8]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 4.4ms | Allocations: 975)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 64.0ms | Allocations: 8845)
Completed 200 OK in 70ms (Views: 64.5ms | ActiveRecord: 0.2ms | Allocations: 9871)


Started GET "/navs/faq" for 127.0.0.1 at 2023-11-18 22:20:10 -0800
Processing by NavsController#faq as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/faq.html.erb within layouts/application
  Rendered navs/faq.html.erb within layouts/application (Duration: 0.3ms | Allocations: 142)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 8]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 10.0ms | Allocations: 7344)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 39.6ms | Allocations: 32371)
Completed 200 OK in 54ms (Views: 39.9ms | ActiveRecord: 4.8ms | Allocations: 38818)


Started GET "/navs/contact" for 127.0.0.1 at 2023-11-18 22:20:34 -0800
Processing by NavsController#contact as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/contact.html.erb within layouts/application
  Rendered navs/contact.html.erb within layouts/application (Duration: 1.3ms | Allocations: 102)
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 8]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.7ms | Allocations: 977)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 21.4ms | Allocations: 8815)
Completed 200 OK in 25ms (Views: 22.7ms | ActiveRecord: 0.3ms | Allocations: 9837)


Started GET "/search/index" for 127.0.0.1 at 2023-11-18 22:20:35 -0800
Processing by SearchController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering search/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name like '%%' and description like '%%' and price like '%%') ORDER BY "products"."name" ASC[0m
  ↳ app/views/search/index.html.erb:29
  Rendered search/index.html.erb within layouts/application (Duration: 45.0ms | Allocations: 11228)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 8]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.5ms | Allocations: 957)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 61.1ms | Allocations: 19777)
Completed 200 OK in 65ms (Views: 61.5ms | ActiveRecord: 1.1ms | Allocations: 20947)


Started GET "/navs/faq" for 127.0.0.1 at 2023-11-18 22:20:46 -0800
Processing by NavsController#faq as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/faq.html.erb within layouts/application
  Rendered navs/faq.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 8]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 1.9ms | Allocations: 975)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 14.9ms | Allocations: 8721)
Completed 200 OK in 18ms (Views: 15.3ms | ActiveRecord: 0.2ms | Allocations: 9691)


Started GET "/shopper" for 127.0.0.1 at 2023-11-18 22:20:47 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 10.6ms | Allocations: 4458)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 8]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.3ms | Allocations: 947)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 25.8ms | Allocations: 12991)
Completed 200 OK in 30ms (Views: 27.2ms | ActiveRecord: 0.5ms | Allocations: 14198)


Started GET "/shopper" for 127.0.0.1 at 2023-11-20 10:53:15 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.8ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2023-11-20 18:53:15.935517"], ["updated_at", "2023-11-20 18:53:15.935517"]]
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 147.8ms | Allocations: 88840)
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 34.2ms | Allocations: 12050)
  Rendered layout layouts/application.html.erb (Duration: 258.6ms | Allocations: 122394)
Completed 200 OK in 482ms (Views: 273.1ms | ActiveRecord: 9.1ms | Allocations: 196975)


Started POST "/lineitems?product_id=3" for 127.0.0.1 at 2023-11-20 10:53:47 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"3"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 9], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering layout layouts/application.html.erb
  Rendering lineitems/new.html.erb within layouts/application
  Rendered lineitems/_form.html.erb (Duration: 10.7ms | Allocations: 2311)
  Rendered lineitems/new.html.erb within layouts/application (Duration: 12.3ms | Allocations: 2602)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 1005)
  Rendered layout layouts/application.html.erb (Duration: 29.9ms | Allocations: 10674)
Completed 422 Unprocessable Entity in 82ms (Views: 32.1ms | ActiveRecord: 2.1ms | Allocations: 72878)


Started POST "/lineitems?product_id=3" for 127.0.0.1 at 2023-11-20 10:53:49 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 9], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering layout layouts/application.html.erb
  Rendering lineitems/new.html.erb within layouts/application
  Rendered lineitems/_form.html.erb (Duration: 2.2ms | Allocations: 903)
  Rendered lineitems/new.html.erb within layouts/application (Duration: 2.5ms | Allocations: 978)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 5.7ms | Allocations: 993)
  Rendered layout layouts/application.html.erb (Duration: 18.1ms | Allocations: 9024)
Completed 422 Unprocessable Entity in 29ms (Views: 18.7ms | ActiveRecord: 1.4ms | Allocations: 13805)


Started POST "/login" for 127.0.0.1 at 2023-11-20 10:54:00 -0800
Processing by AccessController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/access_controller.rb:13:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 10ms (ActiveRecord: 0.9ms | Allocations: 2662)


Started GET "/login" for 127.0.0.1 at 2023-11-20 10:54:00 -0800
Processing by AccessController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering access/new.html.erb within layouts/application
  Rendered access/new.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1460)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.7ms | Allocations: 949)
  Rendered layout layouts/application.html.erb (Duration: 20.7ms | Allocations: 9470)
Completed 200 OK in 25ms (Views: 22.6ms | ActiveRecord: 0.2ms | Allocations: 10605)


Started POST "/access/new" for 127.0.0.1 at 2023-11-20 10:54:07 -0800
Processing by AccessController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"admin", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  ↳ app/controllers/access_controller.rb:13:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 5ms (ActiveRecord: 0.2ms | Allocations: 1547)


Started GET "/login" for 127.0.0.1 at 2023-11-20 10:54:07 -0800
Processing by AccessController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering access/new.html.erb within layouts/application
  Rendered access/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 294)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.0ms | Allocations: 948)
  Rendered layout layouts/application.html.erb (Duration: 15.9ms | Allocations: 8294)
Completed 200 OK in 19ms (Views: 16.7ms | ActiveRecord: 0.1ms | Allocations: 9279)


Started POST "/access/new" for 127.0.0.1 at 2023-11-20 10:54:23 -0800
Processing by AccessController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"admin", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  ↳ app/controllers/access_controller.rb:13:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 18ms (ActiveRecord: 0.2ms | Allocations: 1381)


Started GET "/login" for 127.0.0.1 at 2023-11-20 10:54:23 -0800
Processing by AccessController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering access/new.html.erb within layouts/application
  Rendered access/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 294)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.0ms | Allocations: 947)
  Rendered layout layouts/application.html.erb (Duration: 16.9ms | Allocations: 8355)
Completed 200 OK in 21ms (Views: 17.6ms | ActiveRecord: 0.2ms | Allocations: 9337)


Started GET "/search/index" for 127.0.0.1 at 2023-11-20 10:54:25 -0800
Processing by SearchController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering search/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name like '%%' and description like '%%' and price like '%%') ORDER BY "products"."name" ASC[0m
  ↳ app/views/search/index.html.erb:29
  Rendered search/index.html.erb within layouts/application (Duration: 20.0ms | Allocations: 5428)
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.1ms | Allocations: 955)
  Rendered layout layouts/application.html.erb (Duration: 36.0ms | Allocations: 13302)
Completed 200 OK in 41ms (Views: 36.9ms | ActiveRecord: 0.6ms | Allocations: 14494)


Started POST "/login" for 127.0.0.1 at 2023-11-20 10:54:26 -0800
Processing by AccessController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/access_controller.rb:13:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 4ms (ActiveRecord: 0.1ms | Allocations: 1516)


Started GET "/login" for 127.0.0.1 at 2023-11-20 10:54:26 -0800
Processing by AccessController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering access/new.html.erb within layouts/application
  Rendered access/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 294)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 4.9ms | Allocations: 948)
  Rendered layout layouts/application.html.erb (Duration: 17.6ms | Allocations: 8295)
Completed 200 OK in 22ms (Views: 18.5ms | ActiveRecord: 0.2ms | Allocations: 9272)


Started GET "/" for 127.0.0.1 at 2023-11-20 10:54:29 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 10.1ms | Allocations: 4112)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.4ms | Allocations: 947)
  Rendered layout layouts/application.html.erb (Duration: 25.7ms | Allocations: 11980)
Completed 200 OK in 30ms (Views: 27.1ms | ActiveRecord: 0.3ms | Allocations: 12981)


Started POST "/login" for 127.0.0.1 at 2023-11-20 10:54:31 -0800
Processing by AccessController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/access_controller.rb:13:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 4ms (ActiveRecord: 0.2ms | Allocations: 1496)


Started GET "/login" for 127.0.0.1 at 2023-11-20 10:54:31 -0800
Processing by AccessController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering access/new.html.erb within layouts/application
  Rendered access/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 292)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.2ms | Allocations: 947)
  Rendered layout layouts/application.html.erb (Duration: 14.4ms | Allocations: 8293)
Completed 200 OK in 18ms (Views: 15.3ms | ActiveRecord: 0.2ms | Allocations: 9269)


Started POST "/access/new" for 127.0.0.1 at 2023-11-20 10:54:34 -0800
Processing by AccessController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"admin", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  ↳ app/controllers/access_controller.rb:13:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 5ms (ActiveRecord: 0.2ms | Allocations: 1402)


Started GET "/login" for 127.0.0.1 at 2023-11-20 10:54:34 -0800
Processing by AccessController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering access/new.html.erb within layouts/application
  Rendered access/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 292)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.3ms | Allocations: 947)
  Rendered layout layouts/application.html.erb (Duration: 14.6ms | Allocations: 8343)
Completed 200 OK in 18ms (Views: 15.3ms | ActiveRecord: 0.2ms | Allocations: 9328)


  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-11-20 10:55:28 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 120.2ms | Allocations: 89280)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 86.6ms | Allocations: 11429)
  Rendered layout layouts/application.html.erb (Duration: 276.0ms | Allocations: 122213)
Completed 200 OK in 515ms (Views: 283.8ms | ActiveRecord: 5.4ms | Allocations: 197738)


Started POST "/login" for 127.0.0.1 at 2023-11-20 10:55:31 -0800
Processing by AccessController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/access_controller.rb:13:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 7ms (ActiveRecord: 0.4ms | Allocations: 2723)


Started GET "/login" for 127.0.0.1 at 2023-11-20 10:55:31 -0800
Processing by AccessController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering access/new.html.erb within layouts/application
  Rendered access/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1491)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.3ms | Allocations: 950)
  Rendered layout layouts/application.html.erb (Duration: 16.5ms | Allocations: 9502)
Completed 200 OK in 21ms (Views: 17.8ms | ActiveRecord: 0.2ms | Allocations: 10626)


Started POST "/access/new" for 127.0.0.1 at 2023-11-20 10:55:38 -0800
Processing by AccessController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"admin", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  ↳ app/controllers/access_controller.rb:13:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 4ms (ActiveRecord: 0.3ms | Allocations: 1535)


Started GET "/login" for 127.0.0.1 at 2023-11-20 10:55:38 -0800
Processing by AccessController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering access/new.html.erb within layouts/application
  Rendered access/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 294)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.1ms | Allocations: 948)
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | Allocations: 8294)
Completed 200 OK in 15ms (Views: 12.1ms | ActiveRecord: 0.2ms | Allocations: 9289)


Started GET "/" for 127.0.0.1 at 2023-11-20 10:56:07 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 109.1ms | Allocations: 88867)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 23.9ms | Allocations: 11429)
  Rendered layout layouts/application.html.erb (Duration: 176.3ms | Allocations: 121800)
Completed 200 OK in 327ms (Views: 184.2ms | ActiveRecord: 3.7ms | Allocations: 197329)


Started POST "/login" for 127.0.0.1 at 2023-11-20 10:56:09 -0800
Processing by AccessController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/access_controller.rb:13:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 8ms (ActiveRecord: 0.4ms | Allocations: 2703)


Started GET "/login" for 127.0.0.1 at 2023-11-20 10:56:09 -0800
Processing by AccessController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering access/new.html.erb within layouts/application
  Rendered access/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1491)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.5ms | Allocations: 950)
  Rendered layout layouts/application.html.erb (Duration: 14.4ms | Allocations: 9502)
Completed 200 OK in 19ms (Views: 15.8ms | ActiveRecord: 0.2ms | Allocations: 10624)


Started POST "/access/new" for 127.0.0.1 at 2023-11-20 10:56:14 -0800
Processing by AccessController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"admin", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  ↳ app/controllers/access_controller.rb:13:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 5ms (ActiveRecord: 0.2ms | Allocations: 1525)


Started GET "/login" for 127.0.0.1 at 2023-11-20 10:56:14 -0800
Processing by AccessController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering access/new.html.erb within layouts/application
  Rendered access/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 294)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.4ms | Allocations: 948)
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | Allocations: 8294)
Completed 200 OK in 14ms (Views: 11.8ms | ActiveRecord: 0.2ms | Allocations: 9273)


  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Book"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Macbook Air"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Bike"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "iPhone"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Delete All (1.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["name", "admin"], ["password_digest", "[FILTERED]"], ["created_at", "2023-11-20 18:56:50.141785"], ["updated_at", "2023-11-20 18:56:50.141785"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? AND "users"."id" != ? LIMIT ?[0m  [["name", "admin"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-11-20 18:56:50.405567"], ["id", 2]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2023-11-20 10:57:02 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 192.1ms | Allocations: 89314)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 23.8ms | Allocations: 11429)
  Rendered layout layouts/application.html.erb (Duration: 280.4ms | Allocations: 122247)
Completed 200 OK in 408ms (Views: 287.4ms | ActiveRecord: 3.7ms | Allocations: 197774)


Started POST "/login" for 127.0.0.1 at 2023-11-20 10:57:05 -0800
Processing by AccessController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/access_controller.rb:13:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 8ms (ActiveRecord: 0.5ms | Allocations: 2722)


Started GET "/login" for 127.0.0.1 at 2023-11-20 10:57:05 -0800
Processing by AccessController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering access/new.html.erb within layouts/application
  Rendered access/new.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1491)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.0ms | Allocations: 950)
  Rendered layout layouts/application.html.erb (Duration: 15.0ms | Allocations: 9502)
Completed 200 OK in 19ms (Views: 16.1ms | ActiveRecord: 0.2ms | Allocations: 10642)


Started POST "/access/new" for 127.0.0.1 at 2023-11-20 10:57:13 -0800
Processing by AccessController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"admin", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  ↳ app/controllers/access_controller.rb:13:in `create'
Redirected to http://127.0.0.1:3000/admin
Completed 302 Found in 269ms (ActiveRecord: 0.5ms | Allocations: 16353)


Started GET "/admin" for 127.0.0.1 at 2023-11-20 10:57:13 -0800
Processing by AdminController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mOrder Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  ↳ app/controllers/admin_controller.rb:5:in `index'
  Rendering layout layouts/application.html.erb
  Rendering admin/index.html.erb within layouts/application
  Rendered admin/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 222)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.1ms | Allocations: 969)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 13.1ms | Allocations: 9613)
Completed 200 OK in 24ms (Views: 14.1ms | ActiveRecord: 1.3ms | Allocations: 13427)


Started GET "/shopper" for 127.0.0.1 at 2023-11-20 10:57:19 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 12.0ms | Allocations: 4111)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.9ms | Allocations: 948)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 28.5ms | Allocations: 12641)
Completed 200 OK in 32ms (Views: 29.1ms | ActiveRecord: 0.3ms | Allocations: 13654)


Started POST "/login" for 127.0.0.1 at 2023-11-20 10:57:23 -0800
Processing by AccessController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/access_controller.rb:13:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 4ms (ActiveRecord: 0.2ms | Allocations: 1498)


Started GET "/login" for 127.0.0.1 at 2023-11-20 10:57:23 -0800
Processing by AccessController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
Redirected to http://127.0.0.1:3000/admin
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 874)


Started GET "/admin" for 127.0.0.1 at 2023-11-20 10:57:23 -0800
Processing by AdminController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mOrder Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  ↳ app/controllers/admin_controller.rb:5:in `index'
  Rendering layout layouts/application.html.erb
  Rendering admin/index.html.erb within layouts/application
  Rendered admin/index.html.erb within layouts/application (Duration: 0.2ms | Allocations: 42)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.3ms | Allocations: 969)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 13.7ms | Allocations: 8745)
Completed 200 OK in 18ms (Views: 14.4ms | ActiveRecord: 0.4ms | Allocations: 10238)


Started GET "/navs/faq" for 127.0.0.1 at 2023-11-20 10:57:26 -0800
Processing by NavsController#faq as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/faq.html.erb within layouts/application
  Rendered navs/faq.html.erb within layouts/application (Duration: 1.0ms | Allocations: 136)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.6ms | Allocations: 977)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 18.9ms | Allocations: 8858)
Completed 200 OK in 23ms (Views: 20.0ms | ActiveRecord: 0.3ms | Allocations: 10063)


Started GET "/navs/contact" for 127.0.0.1 at 2023-11-20 10:57:29 -0800
Processing by NavsController#contact as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/contact.html.erb within layouts/application
  Rendered navs/contact.html.erb within layouts/application (Duration: 0.6ms | Allocations: 103)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.3ms | Allocations: 975)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 27.7ms | Allocations: 8813)
Completed 200 OK in 33ms (Views: 29.0ms | ActiveRecord: 0.3ms | Allocations: 9853)


Started GET "/search/index" for 127.0.0.1 at 2023-11-20 10:57:31 -0800
Processing by SearchController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering search/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name like '%%' and description like '%%' and price like '%%') ORDER BY "products"."name" ASC[0m
  ↳ app/views/search/index.html.erb:29
  Rendered search/index.html.erb within layouts/application (Duration: 14.4ms | Allocations: 5428)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 1.8ms | Allocations: 955)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 27.3ms | Allocations: 13980)
Completed 200 OK in 34ms (Views: 28.8ms | ActiveRecord: 0.4ms | Allocations: 15149)


Started POST "/search/index" for 127.0.0.1 at 2023-11-20 10:57:35 -0800
Processing by SearchController#index as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"b", "description"=>"", "price"=>"", "commit"=>"Search"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering search/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name like '%b%' and description like '%%' and price like '%%') ORDER BY "products"."name" ASC[0m
  ↳ app/views/search/index.html.erb:29
  Rendered search/index.html.erb within layouts/application (Duration: 7.9ms | Allocations: 3655)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 1.9ms | Allocations: 955)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 20.6ms | Allocations: 12186)
Completed 200 OK in 24ms (Views: 21.1ms | ActiveRecord: 0.4ms | Allocations: 13200)


Started POST "/lineitems?product_id=3" for 127.0.0.1 at 2023-11-20 10:57:40 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"3"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
  [1m[36mLineitem Load (0.3ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 9], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering layout layouts/application.html.erb
  Rendering lineitems/new.html.erb within layouts/application
  Rendered lineitems/_form.html.erb (Duration: 8.5ms | Allocations: 2276)
  Rendered lineitems/new.html.erb within layouts/application (Duration: 10.1ms | Allocations: 2562)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.5ms | Allocations: 995)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 23.7ms | Allocations: 11299)
Completed 422 Unprocessable Entity in 63ms (Views: 25.5ms | ActiveRecord: 2.2ms | Allocations: 70768)


Started POST "/lineitems?product_id=3" for 127.0.0.1 at 2023-11-20 10:57:43 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 9], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering layout layouts/application.html.erb
  Rendering lineitems/new.html.erb within layouts/application
  Rendered lineitems/_form.html.erb (Duration: 2.3ms | Allocations: 903)
  Rendered lineitems/new.html.erb within layouts/application (Duration: 2.5ms | Allocations: 978)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.6ms | Allocations: 993)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 14.1ms | Allocations: 9691)
Completed 422 Unprocessable Entity in 25ms (Views: 14.7ms | ActiveRecord: 1.9ms | Allocations: 14462)


Started POST "/lineitems?product_id=3" for 127.0.0.1 at 2023-11-20 10:57:44 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 9], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering layout layouts/application.html.erb
  Rendering lineitems/new.html.erb within layouts/application
  Rendered lineitems/_form.html.erb (Duration: 2.0ms | Allocations: 903)
  Rendered lineitems/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 978)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.5ms | Allocations: 993)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 14.2ms | Allocations: 9691)
Completed 422 Unprocessable Entity in 25ms (Views: 14.5ms | ActiveRecord: 2.0ms | Allocations: 14466)


Started POST "/lineitems?product_id=3" for 127.0.0.1 at 2023-11-20 10:57:44 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 9], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering layout layouts/application.html.erb
  Rendering lineitems/new.html.erb within layouts/application
  Rendered lineitems/_form.html.erb (Duration: 2.1ms | Allocations: 903)
  Rendered lineitems/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 978)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 1.9ms | Allocations: 993)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 20.1ms | Allocations: 9691)
Completed 422 Unprocessable Entity in 30ms (Views: 20.5ms | ActiveRecord: 1.7ms | Allocations: 14451)


Started POST "/lineitems?product_id=3" for 127.0.0.1 at 2023-11-20 10:57:44 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 9], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering layout layouts/application.html.erb
  Rendering lineitems/new.html.erb within layouts/application
  Rendered lineitems/_form.html.erb (Duration: 2.2ms | Allocations: 903)
  Rendered lineitems/new.html.erb within layouts/application (Duration: 2.7ms | Allocations: 978)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.5ms | Allocations: 993)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 15.7ms | Allocations: 9691)
Completed 422 Unprocessable Entity in 27ms (Views: 16.2ms | ActiveRecord: 1.6ms | Allocations: 14451)


Started POST "/lineitems?product_id=1" for 127.0.0.1 at 2023-11-20 10:57:46 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 9], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering layout layouts/application.html.erb
  Rendering lineitems/new.html.erb within layouts/application
  Rendered lineitems/_form.html.erb (Duration: 1.8ms | Allocations: 902)
  Rendered lineitems/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 977)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.5ms | Allocations: 993)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 17.1ms | Allocations: 9690)
Completed 422 Unprocessable Entity in 28ms (Views: 17.4ms | ActiveRecord: 2.6ms | Allocations: 14451)


Started POST "/lineitems?product_id=1" for 127.0.0.1 at 2023-11-20 10:57:46 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 9], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering layout layouts/application.html.erb
  Rendering lineitems/new.html.erb within layouts/application
  Rendered lineitems/_form.html.erb (Duration: 2.2ms | Allocations: 902)
  Rendered lineitems/new.html.erb within layouts/application (Duration: 2.5ms | Allocations: 977)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.0ms | Allocations: 993)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 15.1ms | Allocations: 9690)
Completed 422 Unprocessable Entity in 26ms (Views: 15.5ms | ActiveRecord: 1.7ms | Allocations: 14455)


Started POST "/lineitems?product_id=1" for 127.0.0.1 at 2023-11-20 10:57:46 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 9], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering layout layouts/application.html.erb
  Rendering lineitems/new.html.erb within layouts/application
  Rendered lineitems/_form.html.erb (Duration: 2.1ms | Allocations: 902)
  Rendered lineitems/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 977)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.2ms | Allocations: 993)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 15.7ms | Allocations: 9690)
Completed 422 Unprocessable Entity in 26ms (Views: 16.5ms | ActiveRecord: 1.6ms | Allocations: 14451)


Started POST "/lineitems?product_id=1" for 127.0.0.1 at 2023-11-20 10:57:46 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 9], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering layout layouts/application.html.erb
  Rendering lineitems/new.html.erb within layouts/application
  Rendered lineitems/_form.html.erb (Duration: 2.5ms | Allocations: 902)
  Rendered lineitems/new.html.erb within layouts/application (Duration: 2.8ms | Allocations: 977)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.9ms | Allocations: 993)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 16.0ms | Allocations: 9690)
Completed 422 Unprocessable Entity in 27ms (Views: 16.5ms | ActiveRecord: 1.9ms | Allocations: 14453)


Started GET "/shopper" for 127.0.0.1 at 2023-11-20 10:58:15 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 15.7ms | Allocations: 4118)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.9ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 31.9ms | Allocations: 12709)
Completed 200 OK in 36ms (Views: 32.3ms | ActiveRecord: 0.4ms | Allocations: 13704)


Started POST "/lineitems?product_id=3" for 127.0.0.1 at 2023-11-20 10:58:17 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 9], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering layout layouts/application.html.erb
  Rendering lineitems/new.html.erb within layouts/application
  Rendered lineitems/_form.html.erb (Duration: 1.7ms | Allocations: 900)
  Rendered lineitems/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 975)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.5ms | Allocations: 993)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 16.1ms | Allocations: 9701)
Completed 422 Unprocessable Entity in 27ms (Views: 16.6ms | ActiveRecord: 1.8ms | Allocations: 14478)


Started POST "/lineitems?product_id=3" for 127.0.0.1 at 2023-11-20 10:58:18 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 9], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering layout layouts/application.html.erb
  Rendering lineitems/new.html.erb within layouts/application
  Rendered lineitems/_form.html.erb (Duration: 1.7ms | Allocations: 900)
  Rendered lineitems/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 975)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.2ms | Allocations: 993)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 15.4ms | Allocations: 9688)
Completed 422 Unprocessable Entity in 27ms (Views: 16.0ms | ActiveRecord: 2.1ms | Allocations: 14462)


Started POST "/lineitems?product_id=1" for 127.0.0.1 at 2023-11-20 10:58:19 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 9], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering layout layouts/application.html.erb
  Rendering lineitems/new.html.erb within layouts/application
  Rendered lineitems/_form.html.erb (Duration: 1.8ms | Allocations: 900)
  Rendered lineitems/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 975)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 1.9ms | Allocations: 993)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 14.5ms | Allocations: 9689)
Completed 422 Unprocessable Entity in 25ms (Views: 14.9ms | ActiveRecord: 1.5ms | Allocations: 14461)


Started GET "/" for 127.0.0.1 at 2023-11-20 11:01:09 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 107.6ms | Allocations: 89541)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 24.3ms | Allocations: 11431)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 200.7ms | Allocations: 139599)
Completed 200 OK in 289ms (Views: 206.2ms | ActiveRecord: 4.1ms | Allocations: 215121)


Started POST "/login" for 127.0.0.1 at 2023-11-20 11:01:24 -0800
Processing by AccessController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/access_controller.rb:13:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 5ms (ActiveRecord: 0.2ms | Allocations: 1733)


Started GET "/login" for 127.0.0.1 at 2023-11-20 11:01:24 -0800
Processing by AccessController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
Redirected to http://127.0.0.1:3000/admin
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 872)


Started GET "/admin" for 127.0.0.1 at 2023-11-20 11:01:24 -0800
Processing by AdminController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mOrder Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  ↳ app/controllers/admin_controller.rb:5:in `index'
  Rendering layout layouts/application.html.erb
  Rendering admin/index.html.erb within layouts/application
  Rendered admin/index.html.erb within layouts/application (Duration: 0.8ms | Allocations: 226)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.3ms | Allocations: 973)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 15.4ms | Allocations: 8957)
Completed 200 OK in 26ms (Views: 16.8ms | ActiveRecord: 0.7ms | Allocations: 12794)


Started GET "/shopper" for 127.0.0.1 at 2023-11-20 11:01:26 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 13.2ms | Allocations: 4120)
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.0ms | Allocations: 948)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 30.6ms | Allocations: 12653)
Completed 200 OK in 34ms (Views: 31.4ms | ActiveRecord: 0.4ms | Allocations: 13680)


Started POST "/lineitems?product_id=3" for 127.0.0.1 at 2023-11-20 11:01:28 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 9], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering layout layouts/application.html.erb
  Rendering lineitems/new.html.erb within layouts/application
  Rendered lineitems/_form.html.erb (Duration: 7.9ms | Allocations: 2306)
  Rendered lineitems/new.html.erb within layouts/application (Duration: 9.8ms | Allocations: 2595)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.6ms | Allocations: 995)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 23.5ms | Allocations: 11385)
Completed 422 Unprocessable Entity in 125ms (Views: 25.4ms | ActiveRecord: 1.9ms | Allocations: 70837)


Started POST "/lineitems?product_id=3" for 127.0.0.1 at 2023-11-20 11:01:29 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 9], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering layout layouts/application.html.erb
  Rendering lineitems/new.html.erb within layouts/application
  Rendered lineitems/_form.html.erb (Duration: 2.3ms | Allocations: 901)
  Rendered lineitems/new.html.erb within layouts/application (Duration: 2.7ms | Allocations: 976)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.6ms | Allocations: 993)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 17.1ms | Allocations: 9725)
Completed 422 Unprocessable Entity in 30ms (Views: 17.7ms | ActiveRecord: 1.7ms | Allocations: 14511)


  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Book"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Macbook Air"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Bike"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "iPhone"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Delete All (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mLineitem Delete All (0.7ms)[0m  [1m[31mDELETE FROM "lineitems"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["name", "admin"], ["password_digest", "[FILTERED]"], ["created_at", "2023-11-20 19:02:28.650345"], ["updated_at", "2023-11-20 19:02:28.650345"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? AND "users"."id" != ? LIMIT ?[0m  [["name", "admin"], ["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-11-20 19:02:28.920555"], ["id", 3]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2023-11-20 11:02:39 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 80.2ms | Allocations: 89237)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 30.4ms | Allocations: 11429)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 151.9ms | Allocations: 126271)
Completed 500 Internal Server Error in 265ms (ActiveRecord: 4.2ms | Allocations: 201755)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    39:         <%= button_to 'Login', login_path%>
    40:       </ul>
    41:       <% if session[:user_id] %>
    42:         Hello, <%= User.find_by(id: session[:user_id]).name%>
    43:         <ul>
    44:           <li><%= link_to 'Orders',orders_path %></li>
    45:           <li><%= link_to 'Products', products_path %></li>
  
app/views/layouts/application.html.erb:42
Started GET "/" for 127.0.0.1 at 2023-11-20 11:02:40 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 7.6ms | Allocations: 4120)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.0ms | Allocations: 950)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 20.6ms | Allocations: 13840)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.3ms | Allocations: 14841)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    39:         <%= button_to 'Login', login_path%>
    40:       </ul>
    41:       <% if session[:user_id] %>
    42:         Hello, <%= User.find_by(id: session[:user_id]).name%>
    43:         <ul>
    44:           <li><%= link_to 'Orders',orders_path %></li>
    45:           <li><%= link_to 'Products', products_path %></li>
  
app/views/layouts/application.html.erb:42
Started GET "/" for 127.0.0.1 at 2023-11-20 11:02:58 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 10.4ms | Allocations: 4120)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 1.8ms | Allocations: 948)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 23.7ms | Allocations: 13838)
Completed 500 Internal Server Error in 27ms (ActiveRecord: 0.6ms | Allocations: 14832)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    39:         <%= button_to 'Login', login_path%>
    40:       </ul>
    41:       <% if session[:user_id] %>
    42:         Hello, <%= User.find_by(id: session[:user_id]).name%>
    43:         <ul>
    44:           <li><%= link_to 'Orders',orders_path %></li>
    45:           <li><%= link_to 'Products', products_path %></li>
  
app/views/layouts/application.html.erb:42
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Book"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Macbook Air"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Bike"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "iPhone"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Delete All (1.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["name", "admin"], ["password_digest", "[FILTERED]"], ["created_at", "2023-11-20 19:04:11.034490"], ["updated_at", "2023-11-20 19:04:11.034490"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? AND "users"."id" != ? LIMIT ?[0m  [["name", "admin"], ["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-11-20 19:04:11.306130"], ["id", 4]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2023-11-20 11:04:18 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 80.2ms | Allocations: 88896)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 14.8ms | Allocations: 11429)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 131.7ms | Allocations: 125929)
Completed 500 Internal Server Error in 243ms (ActiveRecord: 3.7ms | Allocations: 201413)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    39:         <%= button_to 'Login', login_path%>
    40:       </ul>
    41:       <% if session[:user_id] %>
    42:         Hello, <%= User.find_by(id: session[:user_id]).name%>
    43:         <ul>
    44:           <li><%= link_to 'Orders',orders_path %></li>
    45:           <li><%= link_to 'Products', products_path %></li>
  
app/views/layouts/application.html.erb:42
Started GET "/" for 127.0.0.1 at 2023-11-20 11:04:21 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 8.9ms | Allocations: 4120)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.1ms | Allocations: 950)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 21.0ms | Allocations: 13840)
Completed 500 Internal Server Error in 24ms (ActiveRecord: 0.3ms | Allocations: 14841)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    39:         <%= button_to 'Login', login_path%>
    40:       </ul>
    41:       <% if session[:user_id] %>
    42:         Hello, <%= User.find_by(id: session[:user_id]).name%>
    43:         <ul>
    44:           <li><%= link_to 'Orders',orders_path %></li>
    45:           <li><%= link_to 'Products', products_path %></li>
  
app/views/layouts/application.html.erb:42
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Book"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Macbook Air"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Bike"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "iPhone"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Delete All (1.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["name", "admin"], ["password_digest", "[FILTERED]"], ["created_at", "2023-11-20 19:05:06.020567"], ["updated_at", "2023-11-20 19:05:06.020567"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? AND "users"."id" != ? LIMIT ?[0m  [["name", "admin"], ["id", 5], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-11-20 19:05:06.290997"], ["id", 5]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Book"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Macbook Air"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Bike"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "iPhone"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Delete All (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["name", "admin"], ["password_digest", "[FILTERED]"], ["created_at", "2023-11-20 19:06:21.388050"], ["updated_at", "2023-11-20 19:06:21.388050"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? AND "users"."id" != ? LIMIT ?[0m  [["name", "admin"], ["id", 6], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-11-20 19:06:21.657692"], ["id", 6]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2023-11-20 11:06:27 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 85.0ms | Allocations: 89600)
  [1m[36mLineitem Load (0.5ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 32.6ms | Allocations: 11429)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 160.6ms | Allocations: 126633)
Completed 500 Internal Server Error in 281ms (ActiveRecord: 4.9ms | Allocations: 202117)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    39:         <%= button_to 'Login', login_path%>
    40:       </ul>
    41:       <% if session[:user_id] %>
    42:         Hello, <%= User.find_by(id: session[:user_id]).name%>
    43:         <ul>
    44:           <li><%= link_to 'Orders',orders_path %></li>
    45:           <li><%= link_to 'Products', products_path %></li>
  
app/views/layouts/application.html.erb:42
Started GET "/" for 127.0.0.1 at 2023-11-20 11:10:25 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 14.4ms | Allocations: 7466)
  Rendered layout layouts/application.html.erb (Duration: 15.6ms | Allocations: 8859)
Completed 500 Internal Server Error in 36ms (ActiveRecord: 3.5ms | Allocations: 17509)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <!DOCTYPE html>
<html>
  <head>
    <title>OnlineStore</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
    <%= javascript_include_tag "application", 'data-turbolinks-track': 'reload' %>
  </head>

  <body class='<%= controller.controller_name %>'>

    <div id="banner">
      <%= @page_title || "Our Products" %>
      <p>
       <strong> Temp User and Password </strong>
      </p>
      <p>
        username: admin
        <br />
        password: admin
      </p>
    </div>

    <div id="columns">
    <div id="side">
      <div id='cart'>
        <%= render @cart%>
      </div>
      <ul>
        <li><a href="/shopper">Home</a></li>
        <li><a href="/navs/faq">Questions</a></li>
        <li><a href="/navs/news">News</a></li>
        <li><a href="/navs/contact">Contact</a></li>
        <li><a href="/search/index">Search</a></li>
        <%= button_to 'Login', login_path%>
      </ul>
      <% if session[:user_id] %>
        <% user = User.find_by(id: session[:user_id]) %>
        <% if user && user.name.present? %>
        <ul>
          <li><%= link_to 'Orders',orders_path %></li>
          <li><%= link_to 'Products', products_path %></li>
          <li><%= link_to 'Users',    users_path    %></li>
        </ul>
        <%= button_to 'Logout', logout_path%>
      <% end %>
    </div>
    <div id="main">
      <%= yield %>
    </div>
  </div>

  </body>
</html>

):
1:    <!DOCTYPE html>
2:    <html>
3:      <head>
4:        <title>OnlineStore</title>
5:        <meta name="viewport" content="width=device-width,initial-scale=1">
6:        <%= csrf_meta_tags %>
7:        <%= csp_meta_tag %>
8:    
9:        <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
10:        <%= javascript_importmap_tags %>
11:        <%= javascript_include_tag "application", 'data-turbolinks-track': 'reload' %>
12:      </head>
13:    
14:      <body class='<%= controller.controller_name %>'>
15:    
16:        <div id="banner">
17:          <%= @page_title || "Our Products" %>
18:          <p>
19:           <strong> Temp User and Password </strong>
20:          </p>
21:          <p>
22:            username: admin
23:            <br />
24:            password: admin
25:          </p>
26:        </div>
27:    
28:        <div id="columns">
29:        <div id="side">
30:          <div id='cart'>
31:            <%= render @cart%>
32:          </div>
33:          <ul>
34:            <li><a href="/shopper">Home</a></li>
35:            <li><a href="/navs/faq">Questions</a></li>
36:            <li><a href="/navs/news">News</a></li>
37:            <li><a href="/navs/contact">Contact</a></li>
38:            <li><a href="/search/index">Search</a></li>
39:            <%= button_to 'Login', login_path%>
40:          </ul>
41:          <% if session[:user_id] %>
42:            <% user = User.find_by(id: session[:user_id]) %>
43:            <% if user && user.name.present? %>
44:            <ul>
45:              <li><%= link_to 'Orders',orders_path %></li>
46:              <li><%= link_to 'Products', products_path %></li>
47:              <li><%= link_to 'Users',    users_path    %></li>
48:            </ul>
49:            <%= button_to 'Logout', logout_path%>
50:          <% end %>
51:        </div>
52:        <div id="main">
53:          <%= yield %>
54:        </div>
55:      </div>
56:    
57:      </body>
58:    </html>
  
app/views/layouts/application.html.erb:61: syntax error, unexpected end-of-input, expecting `end'
Started GET "/" for 127.0.0.1 at 2023-11-20 11:10:53 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 15.0ms | Allocations: 7463)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 9.9ms | Allocations: 7298)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 54.1ms | Allocations: 37003)
Completed 200 OK in 76ms (Views: 55.5ms | ActiveRecord: 3.5ms | Allocations: 45710)


Started POST "/login" for 127.0.0.1 at 2023-11-20 11:10:56 -0800
Processing by AccessController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/access_controller.rb:13:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 4ms (ActiveRecord: 0.3ms | Allocations: 1730)


Started GET "/login" for 127.0.0.1 at 2023-11-20 11:10:56 -0800
Processing by AccessController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
Redirected to http://127.0.0.1:3000/admin
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 880)


Started GET "/admin" for 127.0.0.1 at 2023-11-20 11:10:56 -0800
Processing by AdminController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mOrder Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  ↳ app/controllers/admin_controller.rb:5:in `index'
  Rendering layout layouts/application.html.erb
  Rendering admin/index.html.erb within layouts/application
  Rendered admin/index.html.erb within layouts/application (Duration: 1.0ms | Allocations: 226)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.0ms | Allocations: 973)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 20.9ms | Allocations: 8793)
Completed 200 OK in 32ms (Views: 22.2ms | ActiveRecord: 0.5ms | Allocations: 12615)


Started GET "/shopper" for 127.0.0.1 at 2023-11-20 11:11:06 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 11.9ms | Allocations: 4119)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.5ms | Allocations: 948)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 28.6ms | Allocations: 12488)
Completed 200 OK in 32ms (Views: 29.0ms | ActiveRecord: 0.4ms | Allocations: 13503)


Started POST "/lineitems?product_id=3" for 127.0.0.1 at 2023-11-20 11:11:07 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 9], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering layout layouts/application.html.erb
  Rendering lineitems/new.html.erb within layouts/application
  Rendered lineitems/_form.html.erb (Duration: 7.1ms | Allocations: 2303)
  Rendered lineitems/new.html.erb within layouts/application (Duration: 8.6ms | Allocations: 2589)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.1ms | Allocations: 995)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 22.0ms | Allocations: 11151)
Completed 422 Unprocessable Entity in 62ms (Views: 24.0ms | ActiveRecord: 1.6ms | Allocations: 70580)


Started POST "/lineitems?product_id=3" for 127.0.0.1 at 2023-11-20 11:11:09 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 9], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering layout layouts/application.html.erb
  Rendering lineitems/new.html.erb within layouts/application
  Rendered lineitems/_form.html.erb (Duration: 1.8ms | Allocations: 901)
  Rendered lineitems/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 976)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.2ms | Allocations: 993)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 15.4ms | Allocations: 9528)
Completed 422 Unprocessable Entity in 27ms (Views: 16.1ms | ActiveRecord: 1.7ms | Allocations: 14322)


Started POST "/lineitems?product_id=3" for 127.0.0.1 at 2023-11-20 11:11:09 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 9], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering layout layouts/application.html.erb
  Rendering lineitems/new.html.erb within layouts/application
  Rendered lineitems/_form.html.erb (Duration: 1.8ms | Allocations: 901)
  Rendered lineitems/new.html.erb within layouts/application (Duration: 2.6ms | Allocations: 976)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.8ms | Allocations: 993)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 16.1ms | Allocations: 9527)
Completed 422 Unprocessable Entity in 27ms (Views: 16.5ms | ActiveRecord: 1.5ms | Allocations: 14301)


  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Book"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Macbook Air"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Bike"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "iPhone"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (9.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started GET "/shopper" for 127.0.0.1 at 2023-11-20 11:12:28 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 121.7ms | Allocations: 89415)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 22.4ms | Allocations: 11429)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 195.5ms | Allocations: 126448)
Completed 500 Internal Server Error in 327ms (ActiveRecord: 4.1ms | Allocations: 201922)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    39:         <%= button_to 'Login', login_path%>
    40:       </ul>
    41:       <% if session[:user_id] %>
    42:         Hello, <%= User.find_by(id: session[:user_id]).name%>
    43:         <ul>
    44:           <li><%= link_to 'Orders',orders_path %></li>
    45:           <li><%= link_to 'Products', products_path %></li>
  
app/views/layouts/application.html.erb:42
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Book"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Macbook Air"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Bike"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "iPhone"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (10.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Book"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Macbook Air"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Bike"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "iPhone"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (10.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started GET "/" for 127.0.0.1 at 2023-11-20 11:13:35 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 109.9ms | Allocations: 89005)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 22.1ms | Allocations: 11429)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 180.0ms | Allocations: 126039)
Completed 500 Internal Server Error in 311ms (ActiveRecord: 3.5ms | Allocations: 201513)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    39:         <%= button_to 'Login', login_path%>
    40:       </ul>
    41:       <% if session[:user_id] %>
    42:         Hello, <%= User.find_by(id: session[:user_id]).name%>
    43:         <ul>
    44:           <li><%= link_to 'Orders',orders_path %></li>
    45:           <li><%= link_to 'Products', products_path %></li>
  
app/views/layouts/application.html.erb:42
Started GET "/" for 127.0.0.1 at 2023-11-20 11:13:36 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 10.3ms | Allocations: 4120)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.1ms | Allocations: 950)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 25.0ms | Allocations: 13840)
Completed 500 Internal Server Error in 28ms (ActiveRecord: 0.4ms | Allocations: 14831)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    39:         <%= button_to 'Login', login_path%>
    40:       </ul>
    41:       <% if session[:user_id] %>
    42:         Hello, <%= User.find_by(id: session[:user_id]).name%>
    43:         <ul>
    44:           <li><%= link_to 'Orders',orders_path %></li>
    45:           <li><%= link_to 'Products', products_path %></li>
  
app/views/layouts/application.html.erb:42
Started GET "/" for 127.0.0.1 at 2023-11-20 11:15:52 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 86.8ms | Allocations: 88775)
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 20.7ms | Allocations: 11429)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 154.0ms | Allocations: 125808)
Completed 500 Internal Server Error in 268ms (ActiveRecord: 3.6ms | Allocations: 201282)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    39:         <%= button_to 'Login', login_path%>
    40:       </ul>
    41:       <% if session[:user_id] %>
    42:         Hello, <%= User.find_by(id: session[:user_id]).name%>
    43:         <ul>
    44:           <li><%= link_to 'Orders',orders_path %></li>
    45:           <li><%= link_to 'Products', products_path %></li>
  
app/views/layouts/application.html.erb:42
Started GET "/" for 127.0.0.1 at 2023-11-20 11:17:15 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 89.7ms | Allocations: 88446)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 19.8ms | Allocations: 11429)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:44
  Rendered layout layouts/application.html.erb (Duration: 169.9ms | Allocations: 125518)
Completed 500 Internal Server Error in 300ms (ActiveRecord: 4.6ms | Allocations: 200994)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    41:       <% if session[:user_id] %>
    42:       <%# Output session user_id for debugging %>
    43:       <%= "Session User ID: #{session[:user_id]}" %>
    44:         Hello, <%= User.find_by(id: session[:user_id]).name%>
    45:         <ul>
    46:           <li><%= link_to 'Orders',orders_path %></li>
    47:           <li><%= link_to 'Products', products_path %></li>
  
app/views/layouts/application.html.erb:44
Started GET "/" for 127.0.0.1 at 2023-11-20 11:18:32 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 17.3ms | Allocations: 7466)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 11.7ms | Allocations: 7299)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 69.6ms | Allocations: 38202)
Completed 500 Internal Server Error in 94ms (ActiveRecord: 3.9ms | Allocations: 46815)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    39:         <%= button_to 'Login', login_path%>
    40:       </ul>
    41:       <% if session[:user_id] %>
    42:         Hello, <%= User.find_by(id: session[:user_id]).name%>
    43:         <ul>
    44:           <li><%= link_to 'Orders',orders_path %></li>
    45:           <li><%= link_to 'Products', products_path %></li>
  
app/views/layouts/application.html.erb:42
Started GET "/" for 127.0.0.1 at 2023-11-20 11:18:35 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 9.2ms | Allocations: 4120)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.6ms | Allocations: 950)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 25.1ms | Allocations: 13840)
Completed 500 Internal Server Error in 29ms (ActiveRecord: 0.4ms | Allocations: 14829)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    39:         <%= button_to 'Login', login_path%>
    40:       </ul>
    41:       <% if session[:user_id] %>
    42:         Hello, <%= User.find_by(id: session[:user_id]).name%>
    43:         <ul>
    44:           <li><%= link_to 'Orders',orders_path %></li>
    45:           <li><%= link_to 'Products', products_path %></li>
  
app/views/layouts/application.html.erb:42
Started GET "/" for 127.0.0.1 at 2023-11-20 11:20:14 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2023-11-20 19:20:14.257900"], ["updated_at", "2023-11-20 19:20:14.257900"]]
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 107.2ms | Allocations: 88994)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 10]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 22.8ms | Allocations: 12050)
  Rendered layout layouts/application.html.erb (Duration: 170.7ms | Allocations: 122548)
Completed 200 OK in 307ms (Views: 178.0ms | ActiveRecord: 5.6ms | Allocations: 198733)


Started POST "/login" for 127.0.0.1 at 2023-11-20 11:20:19 -0800
Processing by AccessController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/access_controller.rb:13:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 17ms (ActiveRecord: 0.4ms | Allocations: 5655)


Started GET "/login" for 127.0.0.1 at 2023-11-20 11:20:19 -0800
Processing by AccessController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering access/new.html.erb within layouts/application
  Rendered access/new.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1492)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 10]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.1ms | Allocations: 965)
  Rendered layout layouts/application.html.erb (Duration: 14.8ms | Allocations: 9524)
Completed 200 OK in 19ms (Views: 16.0ms | ActiveRecord: 0.2ms | Allocations: 10656)


Started POST "/access/new" for 127.0.0.1 at 2023-11-20 11:20:24 -0800
Processing by AccessController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"admin", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  ↳ app/controllers/access_controller.rb:13:in `create'
Redirected to http://127.0.0.1:3000/admin
Completed 302 Found in 269ms (ActiveRecord: 0.5ms | Allocations: 16357)


Started GET "/admin" for 127.0.0.1 at 2023-11-20 11:20:24 -0800
Processing by AdminController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mOrder Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  ↳ app/controllers/admin_controller.rb:5:in `index'
  Rendering layout layouts/application.html.erb
  Rendering admin/index.html.erb within layouts/application
  Rendered admin/index.html.erb within layouts/application (Duration: 1.0ms | Allocations: 222)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 10]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.1ms | Allocations: 969)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 14.0ms | Allocations: 9613)
Completed 200 OK in 23ms (Views: 14.9ms | ActiveRecord: 0.5ms | Allocations: 13433)


Started GET "/shopper" for 127.0.0.1 at 2023-11-20 11:20:30 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 13.8ms | Allocations: 4111)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 10]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.2ms | Allocations: 948)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 30.2ms | Allocations: 12641)
Completed 200 OK in 33ms (Views: 30.7ms | ActiveRecord: 0.5ms | Allocations: 13662)


Started POST "/lineitems?product_id=3" for 127.0.0.1 at 2023-11-20 11:20:32 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 10], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering layout layouts/application.html.erb
  Rendering lineitems/new.html.erb within layouts/application
  Rendered lineitems/_form.html.erb (Duration: 8.6ms | Allocations: 2273)
  Rendered lineitems/new.html.erb within layouts/application (Duration: 10.1ms | Allocations: 2560)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 10]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.4ms | Allocations: 995)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 34.7ms | Allocations: 11284)
Completed 422 Unprocessable Entity in 68ms (Views: 37.6ms | ActiveRecord: 1.5ms | Allocations: 70560)


Started POST "/lineitems?product_id=3" for 127.0.0.1 at 2023-11-20 11:20:33 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 10], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering layout layouts/application.html.erb
  Rendering lineitems/new.html.erb within layouts/application
  Rendered lineitems/_form.html.erb (Duration: 1.6ms | Allocations: 901)
  Rendered lineitems/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 976)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 10]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.3ms | Allocations: 993)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 17.3ms | Allocations: 9702)
Completed 422 Unprocessable Entity in 30ms (Views: 17.7ms | ActiveRecord: 1.8ms | Allocations: 14493)


  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CombineItemsInCart (20231202194517)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (1.0ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20231202194517'[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateUsers (20231202192955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.5ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20231202192955'[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddOrderToLineitems (20231201192708)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "alineitems" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_alineitems_on_order_id" ON "alineitems" ("order_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_alineitems_on_cart_id" ON "alineitems" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_alineitems_on_product_id" ON "alineitems" ("product_id")[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "alineitems" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "lineitems"[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "lineitems"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "lineitems" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_774d1bb2b6"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_733d199599"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_lineitems_on_product_id" ON "lineitems" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_lineitems_on_cart_id" ON "lineitems" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_lineitems_on_order_id" ON "lineitems" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "lineitems" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "alineitems"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "alineitems"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "alineitems" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_alineitems_on_order_id" ON "alineitems" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_alineitems_on_cart_id" ON "alineitems" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_alineitems_on_product_id" ON "alineitems" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "alineitems" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "lineitems"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "lineitems"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "lineitems" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, CONSTRAINT "fk_rails_733d199599"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_774d1bb2b6"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_lineitems_on_product_id" ON "lineitems" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_lineitems_on_cart_id" ON "lineitems" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "lineitems" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "alineitems"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "alineitems"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.0ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20231201192708'[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-11-20 11:21:55 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate

You have 3 pending migrations:

db/migrate/20231201192708_add_order_to_lineitems.rb
db/migrate/20231202192955_create_users.rb
db/migrate/20231202194517_combine_items_in_cart.rb


):
  
activerecord (7.1.2) lib/active_record/migration.rb:754:in `check_pending_migrations'
activerecord (7.1.2) lib/active_record/migration.rb:643:in `block (2 levels) in call'
activesupport (7.1.2) lib/active_support/file_update_checker.rb:85:in `execute'
activerecord (7.1.2) lib/active_record/migration.rb:648:in `block in call'
activerecord (7.1.2) lib/active_record/migration.rb:640:in `synchronize'
activerecord (7.1.2) lib/active_record/migration.rb:640:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.2) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.2) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.2) lib/active_support/tagged_logging.rb:135:in `block in tagged'
activesupport (7.1.2) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.2) lib/active_support/tagged_logging.rb:135:in `tagged'
activesupport (7.1.2) lib/active_support/broadcast_logger.rb:240:in `method_missing'
railties (7.1.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.0.8) lib/rack/method_override.rb:28:in `call'
rack (3.0.8) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.2) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.2) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.0.8) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.2) lib/rails/engine.rb:529:in `call'
puma (6.4.0) lib/puma/configuration.rb:272:in `call'
puma (6.4.0) lib/puma/request.rb:100:in `block in handle_request'
puma (6.4.0) lib/puma/thread_pool.rb:378:in `with_force_shutdown'
puma (6.4.0) lib/puma/request.rb:99:in `handle_request'
puma (6.4.0) lib/puma/server.rb:443:in `process_client'
puma (6.4.0) lib/puma/server.rb:241:in `block in run'
puma (6.4.0) lib/puma/thread_pool.rb:155:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2023-11-20 11:21:56 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate

You have 3 pending migrations:

db/migrate/20231201192708_add_order_to_lineitems.rb
db/migrate/20231202192955_create_users.rb
db/migrate/20231202194517_combine_items_in_cart.rb


):
  
activerecord (7.1.2) lib/active_record/migration.rb:754:in `check_pending_migrations'
activerecord (7.1.2) lib/active_record/migration.rb:643:in `block (2 levels) in call'
activesupport (7.1.2) lib/active_support/file_update_checker.rb:85:in `execute'
activerecord (7.1.2) lib/active_record/migration.rb:648:in `block in call'
activerecord (7.1.2) lib/active_record/migration.rb:640:in `synchronize'
activerecord (7.1.2) lib/active_record/migration.rb:640:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.2) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.2) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.2) lib/active_support/tagged_logging.rb:135:in `block in tagged'
activesupport (7.1.2) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.2) lib/active_support/tagged_logging.rb:135:in `tagged'
activesupport (7.1.2) lib/active_support/broadcast_logger.rb:240:in `method_missing'
railties (7.1.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.0.8) lib/rack/method_override.rb:28:in `call'
rack (3.0.8) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.2) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.2) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.0.8) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.2) lib/rails/engine.rb:529:in `call'
puma (6.4.0) lib/puma/configuration.rb:272:in `call'
puma (6.4.0) lib/puma/request.rb:100:in `block in handle_request'
puma (6.4.0) lib/puma/thread_pool.rb:378:in `with_force_shutdown'
puma (6.4.0) lib/puma/request.rb:99:in `handle_request'
puma (6.4.0) lib/puma/server.rb:443:in `process_client'
puma (6.4.0) lib/puma/server.rb:241:in `block in run'
puma (6.4.0) lib/puma/thread_pool.rb:155:in `block in spawn_thread'
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddOrderToLineitems (20231201192708)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "lineitems" ADD "order_id" integer[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_lineitems_on_order_id" ON "lineitems" ("order_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "alineitems" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_alineitems_on_order_id" ON "alineitems" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_alineitems_on_cart_id" ON "alineitems" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_alineitems_on_product_id" ON "alineitems" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "alineitems" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "lineitems"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "lineitems"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "lineitems" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_774d1bb2b6"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_733d199599"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_c468018124"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_lineitems_on_product_id" ON "lineitems" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_lineitems_on_cart_id" ON "lineitems" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_lineitems_on_order_id" ON "lineitems" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "lineitems" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "alineitems"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "alineitems"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231201192708') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateUsers (20231202192955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231202192955') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CombineItemsInCart (20231202194517)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231202194517') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-11-20 11:22:23 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 130.3ms | Allocations: 89025)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 10]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 23.3ms | Allocations: 11429)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 210.1ms | Allocations: 126057)
Completed 500 Internal Server Error in 352ms (ActiveRecord: 4.9ms | Allocations: 201533)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    39:         <%= button_to 'Login', login_path%>
    40:       </ul>
    41:       <% if session[:user_id] %>
    42:         Hello, <%= User.find_by(id: session[:user_id]).name%>
    43:         <ul>
    44:           <li><%= link_to 'Orders',orders_path %></li>
    45:           <li><%= link_to 'Products', products_path %></li>
  
app/views/layouts/application.html.erb:42
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Book"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Macbook Air"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Bike"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "iPhone"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Delete All (1.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["name", "admin"], ["password_digest", "[FILTERED]"], ["created_at", "2023-11-20 19:22:49.210424"], ["updated_at", "2023-11-20 19:22:49.210424"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2023-11-20 11:23:21 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 160.4ms | Allocations: 88971)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 10]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 83.8ms | Allocations: 11429)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 314.0ms | Allocations: 126006)
Completed 500 Internal Server Error in 435ms (ActiveRecord: 4.4ms | Allocations: 201482)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    39:         <%= button_to 'Login', login_path%>
    40:       </ul>
    41:       <% if session[:user_id] %>
    42:         Hello, <%= User.find_by(id: session[:user_id]).name%>
    43:         <ul>
    44:           <li><%= link_to 'Orders',orders_path %></li>
    45:           <li><%= link_to 'Products', products_path %></li>
  
app/views/layouts/application.html.erb:42
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Book"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Macbook Air"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Bike"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "iPhone"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Delete All (1.0ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["name", "admin"], ["password_digest", "[FILTERED]"], ["created_at", "2023-11-20 19:24:01.241782"], ["updated_at", "2023-11-20 19:24:01.241782"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? AND "users"."id" != ? LIMIT ?[0m  [["name", "admin"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-11-20 19:24:01.512600"], ["id", 2]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2023-11-20 11:24:07 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 85.4ms | Allocations: 88954)
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 10]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 20.9ms | Allocations: 11429)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 148.4ms | Allocations: 125988)
Completed 500 Internal Server Error in 264ms (ActiveRecord: 3.9ms | Allocations: 201465)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    39:         <%= button_to 'Login', login_path%>
    40:       </ul>
    41:       <% if session[:user_id] %>
    42:         Hello, <%= User.find_by(id: session[:user_id]).name%>
    43:         <ul>
    44:           <li><%= link_to 'Orders',orders_path %></li>
    45:           <li><%= link_to 'Products', products_path %></li>
  
app/views/layouts/application.html.erb:42
Started GET "/" for 127.0.0.1 at 2023-11-20 11:24:48 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2023-11-20 19:24:48.807786"], ["updated_at", "2023-11-20 19:24:48.807786"]]
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 80.8ms | Allocations: 88880)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 16.4ms | Allocations: 12050)
  Rendered layout layouts/application.html.erb (Duration: 126.2ms | Allocations: 122435)
Completed 200 OK in 262ms (Views: 132.3ms | ActiveRecord: 5.9ms | Allocations: 198620)


Started POST "/lineitems?product_id=3" for 127.0.0.1 at 2023-11-20 11:24:56 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 11], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering layout layouts/application.html.erb
  Rendering lineitems/new.html.erb within layouts/application
  Rendered lineitems/_form.html.erb (Duration: 6.8ms | Allocations: 2310)
  Rendered lineitems/new.html.erb within layouts/application (Duration: 8.5ms | Allocations: 2601)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.6ms | Allocations: 1005)
  Rendered layout layouts/application.html.erb (Duration: 20.8ms | Allocations: 10673)
Completed 422 Unprocessable Entity in 56ms (Views: 22.9ms | ActiveRecord: 1.5ms | Allocations: 72901)


Started POST "/login" for 127.0.0.1 at 2023-11-20 11:24:59 -0800
Processing by AccessController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/access_controller.rb:13:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 7ms (ActiveRecord: 0.4ms | Allocations: 2691)


Started GET "/login" for 127.0.0.1 at 2023-11-20 11:24:59 -0800
Processing by AccessController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering access/new.html.erb within layouts/application
  Rendered access/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1460)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.0ms | Allocations: 950)
  Rendered layout layouts/application.html.erb (Duration: 14.6ms | Allocations: 9471)
Completed 200 OK in 19ms (Views: 15.8ms | ActiveRecord: 0.2ms | Allocations: 10623)


Started POST "/access/new" for 127.0.0.1 at 2023-11-20 11:25:03 -0800
Processing by AccessController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"admin", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  ↳ app/controllers/access_controller.rb:13:in `create'
Redirected to http://127.0.0.1:3000/admin
Completed 302 Found in 268ms (ActiveRecord: 0.5ms | Allocations: 16361)


Started GET "/admin" for 127.0.0.1 at 2023-11-20 11:25:04 -0800
Processing by AdminController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mOrder Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  ↳ app/controllers/admin_controller.rb:5:in `index'
  Rendering layout layouts/application.html.erb
  Rendering admin/index.html.erb within layouts/application
  Rendered admin/index.html.erb within layouts/application (Duration: 1.0ms | Allocations: 220)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.1ms | Allocations: 969)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | Allocations: 9606)
Completed 200 OK in 25ms (Views: 15.5ms | ActiveRecord: 1.2ms | Allocations: 13424)


Started GET "/shopper" for 127.0.0.1 at 2023-11-20 11:25:10 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 16.1ms | Allocations: 4111)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.9ms | Allocations: 948)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 46.5ms | Allocations: 12641)
Completed 200 OK in 50ms (Views: 47.2ms | ActiveRecord: 0.4ms | Allocations: 13669)


Started POST "/lineitems?product_id=3" for 127.0.0.1 at 2023-11-20 11:25:11 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 11], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (2.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering layout layouts/application.html.erb
  Rendering lineitems/new.html.erb within layouts/application
  Rendered lineitems/_form.html.erb (Duration: 2.3ms | Allocations: 901)
  Rendered lineitems/new.html.erb within layouts/application (Duration: 2.7ms | Allocations: 976)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.5ms | Allocations: 993)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 17.6ms | Allocations: 9702)
Completed 422 Unprocessable Entity in 34ms (Views: 18.5ms | ActiveRecord: 2.6ms | Allocations: 14502)


  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Book"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Macbook Air"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Bike"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "iPhone"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Delete All (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "admin2"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["name", "admin2"], ["password_digest", "[FILTERED]"], ["created_at", "2023-11-20 19:26:59.973080"], ["updated_at", "2023-11-20 19:26:59.973080"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? AND "users"."id" != ? LIMIT ?[0m  [["name", "admin2"], ["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-11-20 19:27:00.243656"], ["id", 3]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Started GET "/shopper" for 127.0.0.1 at 2023-11-20 11:27:05 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 99.1ms | Allocations: 88366)
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 15.3ms | Allocations: 11429)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 158.5ms | Allocations: 125400)
Completed 500 Internal Server Error in 281ms (ActiveRecord: 4.3ms | Allocations: 200870)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    39:         <%= button_to 'Login', login_path%>
    40:       </ul>
    41:       <% if session[:user_id] %>
    42:         Hello, <%= User.find_by(id: session[:user_id]).name%>
    43:         <ul>
    44:           <li><%= link_to 'Orders',orders_path %></li>
    45:           <li><%= link_to 'Products', products_path %></li>
  
app/views/layouts/application.html.erb:42
Started GET "/" for 127.0.0.1 at 2023-11-20 11:27:09 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 9.1ms | Allocations: 4120)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.3ms | Allocations: 950)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 23.2ms | Allocations: 13840)
Completed 500 Internal Server Error in 27ms (ActiveRecord: 0.4ms | Allocations: 14827)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    39:         <%= button_to 'Login', login_path%>
    40:       </ul>
    41:       <% if session[:user_id] %>
    42:         Hello, <%= User.find_by(id: session[:user_id]).name%>
    43:         <ul>
    44:           <li><%= link_to 'Orders',orders_path %></li>
    45:           <li><%= link_to 'Products', products_path %></li>
  
app/views/layouts/application.html.erb:42
Started GET "/" for 127.0.0.1 at 2023-11-20 11:27:09 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 9.3ms | Allocations: 4120)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.3ms | Allocations: 948)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 23.3ms | Allocations: 13838)
Completed 500 Internal Server Error in 26ms (ActiveRecord: 0.3ms | Allocations: 14818)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    39:         <%= button_to 'Login', login_path%>
    40:       </ul>
    41:       <% if session[:user_id] %>
    42:         Hello, <%= User.find_by(id: session[:user_id]).name%>
    43:         <ul>
    44:           <li><%= link_to 'Orders',orders_path %></li>
    45:           <li><%= link_to 'Products', products_path %></li>
  
app/views/layouts/application.html.erb:42
Started GET "/" for 127.0.0.1 at 2023-11-20 11:27:33 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 88.8ms | Allocations: 88948)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 16.7ms | Allocations: 11429)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 142.2ms | Allocations: 125982)
Completed 500 Internal Server Error in 268ms (ActiveRecord: 4.6ms | Allocations: 201452)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    39:         <%= button_to 'Login', login_path%>
    40:       </ul>
    41:       <% if session[:user_id] %>
    42:         Hello, <%= User.find_by(id: session[:user_id]).name%>
    43:         <ul>
    44:           <li><%= link_to 'Orders',orders_path %></li>
    45:           <li><%= link_to 'Products', products_path %></li>
  
app/views/layouts/application.html.erb:42
Started GET "/" for 127.0.0.1 at 2023-11-20 11:27:36 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 9.7ms | Allocations: 4120)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.2ms | Allocations: 950)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 23.0ms | Allocations: 13840)
Completed 500 Internal Server Error in 27ms (ActiveRecord: 0.4ms | Allocations: 14827)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    39:         <%= button_to 'Login', login_path%>
    40:       </ul>
    41:       <% if session[:user_id] %>
    42:         Hello, <%= User.find_by(id: session[:user_id]).name%>
    43:         <ul>
    44:           <li><%= link_to 'Orders',orders_path %></li>
    45:           <li><%= link_to 'Products', products_path %></li>
  
app/views/layouts/application.html.erb:42
Started GET "/" for 127.0.0.1 at 2023-11-20 11:27:37 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 10.0ms | Allocations: 4120)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.4ms | Allocations: 948)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 25.5ms | Allocations: 13838)
Completed 500 Internal Server Error in 29ms (ActiveRecord: 0.3ms | Allocations: 14818)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    39:         <%= button_to 'Login', login_path%>
    40:       </ul>
    41:       <% if session[:user_id] %>
    42:         Hello, <%= User.find_by(id: session[:user_id]).name%>
    43:         <ul>
    44:           <li><%= link_to 'Orders',orders_path %></li>
    45:           <li><%= link_to 'Products', products_path %></li>
  
app/views/layouts/application.html.erb:42
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Book"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Macbook Air"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Bike"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "iPhone"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Delete All (1.0ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "admin2"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["name", "admin2"], ["password_digest", "[FILTERED]"], ["created_at", "2023-11-20 19:27:54.794383"], ["updated_at", "2023-11-20 19:27:54.794383"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? AND "users"."id" != ? LIMIT ?[0m  [["name", "admin2"], ["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-11-20 19:27:55.065290"], ["id", 4]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2023-11-20 11:28:00 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 81.3ms | Allocations: 88653)
  [1m[36mLineitem Load (0.4ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 16.8ms | Allocations: 11429)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 135.8ms | Allocations: 125686)
Completed 500 Internal Server Error in 263ms (ActiveRecord: 4.8ms | Allocations: 201156)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    39:         <%= button_to 'Login', login_path%>
    40:       </ul>
    41:       <% if session[:user_id] %>
    42:         Hello, <%= User.find_by(id: session[:user_id]).name%>
    43:         <ul>
    44:           <li><%= link_to 'Orders',orders_path %></li>
    45:           <li><%= link_to 'Products', products_path %></li>
  
app/views/layouts/application.html.erb:42
Started GET "/" for 127.0.0.1 at 2023-11-20 11:28:21 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.8ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2023-11-20 19:28:21.645973"], ["updated_at", "2023-11-20 19:28:21.645973"]]
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 88.3ms | Allocations: 89301)
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 17.0ms | Allocations: 12050)
  Rendered layout layouts/application.html.erb (Duration: 133.8ms | Allocations: 122855)
Completed 200 OK in 254ms (Views: 138.3ms | ActiveRecord: 6.1ms | Allocations: 199048)


Started GET "/shopper" for 127.0.0.1 at 2023-11-20 11:28:26 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 11.2ms | Allocations: 4111)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.2ms | Allocations: 963)
  Rendered layout layouts/application.html.erb (Duration: 25.7ms | Allocations: 11996)
Completed 200 OK in 40ms (Views: 26.3ms | ActiveRecord: 0.3ms | Allocations: 16017)


Started GET "/navs/faq" for 127.0.0.1 at 2023-11-20 11:28:27 -0800
Processing by NavsController#faq as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/faq.html.erb within layouts/application
  Rendered navs/faq.html.erb within layouts/application (Duration: 0.8ms | Allocations: 136)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.4ms | Allocations: 977)
  Rendered layout layouts/application.html.erb (Duration: 13.3ms | Allocations: 8192)
Completed 200 OK in 19ms (Views: 15.0ms | ActiveRecord: 0.2ms | Allocations: 9385)


Started GET "/navs/contact" for 127.0.0.1 at 2023-11-20 11:28:29 -0800
Processing by NavsController#contact as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/contact.html.erb within layouts/application
  Rendered navs/contact.html.erb within layouts/application (Duration: 1.2ms | Allocations: 103)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.4ms | Allocations: 976)
  Rendered layout layouts/application.html.erb (Duration: 15.4ms | Allocations: 8148)
Completed 200 OK in 21ms (Views: 17.4ms | ActiveRecord: 0.1ms | Allocations: 9179)


Started GET "/search/index" for 127.0.0.1 at 2023-11-20 11:28:30 -0800
Processing by SearchController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering search/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name like '%%' and description like '%%' and price like '%%') ORDER BY "products"."name" ASC[0m
  ↳ app/views/search/index.html.erb:29
  Rendered search/index.html.erb within layouts/application (Duration: 15.0ms | Allocations: 6276)
  [1m[36mLineitem Load (0.3ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.5ms | Allocations: 956)
  Rendered layout layouts/application.html.erb (Duration: 28.8ms | Allocations: 14151)
Completed 200 OK in 36ms (Views: 30.9ms | ActiveRecord: 0.6ms | Allocations: 15343)


Started POST "/login" for 127.0.0.1 at 2023-11-20 11:28:33 -0800
Processing by AccessController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/access_controller.rb:13:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 6ms (ActiveRecord: 0.4ms | Allocations: 2700)


Started GET "/login" for 127.0.0.1 at 2023-11-20 11:28:33 -0800
Processing by AccessController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering access/new.html.erb within layouts/application
  Rendered access/new.html.erb within layouts/application (Duration: 1.9ms | Allocations: 645)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.0ms | Allocations: 949)
  Rendered layout layouts/application.html.erb (Duration: 13.9ms | Allocations: 8655)
Completed 200 OK in 18ms (Views: 15.2ms | ActiveRecord: 0.2ms | Allocations: 9795)


Started GET "/login" for 127.0.0.1 at 2023-11-20 11:28:48 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AccessController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering access/new.html.erb within layouts/application
  Rendered access/new.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1737)
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 20.4ms | Allocations: 13136)
  Rendered layout layouts/application.html.erb (Duration: 113.1ms | Allocations: 67890)
Completed 200 OK in 230ms (Views: 118.0ms | ActiveRecord: 3.6ms | Allocations: 141001)


Started POST "/access/new" for 127.0.0.1 at 2023-11-20 11:28:56 -0800
Processing by AccessController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"admin2", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "admin2"], ["LIMIT", 1]]
  ↳ app/controllers/access_controller.rb:13:in `create'
Redirected to http://127.0.0.1:3000/admin
Completed 302 Found in 275ms (ActiveRecord: 0.6ms | Allocations: 29487)


Started GET "/admin" for 127.0.0.1 at 2023-11-20 11:28:56 -0800
Processing by AdminController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mOrder Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  ↳ app/controllers/admin_controller.rb:5:in `index'
  Rendering layout layouts/application.html.erb
  Rendering admin/index.html.erb within layouts/application
  Rendered admin/index.html.erb within layouts/application (Duration: 0.9ms | Allocations: 223)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.3ms | Allocations: 969)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 14.1ms | Allocations: 9614)
Completed 200 OK in 24ms (Views: 15.0ms | ActiveRecord: 0.8ms | Allocations: 13491)


Started GET "/shopper" for 127.0.0.1 at 2023-11-20 11:29:02 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 26.4ms | Allocations: 43976)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.2ms | Allocations: 950)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 39.5ms | Allocations: 52520)
Completed 200 OK in 52ms (Views: 39.9ms | ActiveRecord: 1.1ms | Allocations: 55942)


Started POST "/lineitems?product_id=3" for 127.0.0.1 at 2023-11-20 11:29:03 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
  [1m[36mLineitem Load (0.3ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering layout layouts/application.html.erb
  Rendering lineitems/new.html.erb within layouts/application
  Rendered lineitems/_form.html.erb (Duration: 3.9ms | Allocations: 2274)
  Rendered lineitems/new.html.erb within layouts/application (Duration: 5.1ms | Allocations: 2561)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.5ms | Allocations: 995)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 18.3ms | Allocations: 11285)
Completed 422 Unprocessable Entity in 50ms (Views: 19.8ms | ActiveRecord: 1.7ms | Allocations: 70731)


Started POST "/lineitems?product_id=1" for 127.0.0.1 at 2023-11-20 11:29:05 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (1.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering layout layouts/application.html.erb
  Rendering lineitems/new.html.erb within layouts/application
  Rendered lineitems/_form.html.erb (Duration: 2.5ms | Allocations: 901)
  Rendered lineitems/new.html.erb within layouts/application (Duration: 2.8ms | Allocations: 976)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.4ms | Allocations: 993)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 15.1ms | Allocations: 9690)
Completed 422 Unprocessable Entity in 27ms (Views: 15.6ms | ActiveRecord: 2.3ms | Allocations: 14500)


Started POST "/lineitems?product_id=2" for 127.0.0.1 at 2023-11-20 11:29:06 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 2], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (12.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering layout layouts/application.html.erb
  Rendering lineitems/new.html.erb within layouts/application
  Rendered lineitems/_form.html.erb (Duration: 1.8ms | Allocations: 901)
  Rendered lineitems/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 976)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.3ms | Allocations: 1007)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 15.9ms | Allocations: 9766)
Completed 422 Unprocessable Entity in 38ms (Views: 16.5ms | ActiveRecord: 12.8ms | Allocations: 14561)


Started GET "/search/index" for 127.0.0.1 at 2023-11-20 11:29:08 -0800
Processing by SearchController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering search/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name like '%%' and description like '%%' and price like '%%') ORDER BY "products"."name" ASC[0m
  ↳ app/views/search/index.html.erb:29
  Rendered search/index.html.erb within layouts/application (Duration: 17.2ms | Allocations: 5420)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.8ms | Allocations: 955)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 33.0ms | Allocations: 13972)
Completed 200 OK in 37ms (Views: 33.9ms | ActiveRecord: 0.6ms | Allocations: 15140)


Started POST "/lineitems?product_id=3" for 127.0.0.1 at 2023-11-20 11:29:11 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (5.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering layout layouts/application.html.erb
  Rendering lineitems/new.html.erb within layouts/application
  Rendered lineitems/_form.html.erb (Duration: 8.2ms | Allocations: 902)
  Rendered lineitems/new.html.erb within layouts/application (Duration: 8.7ms | Allocations: 977)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 6.1ms | Allocations: 993)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 27.7ms | Allocations: 9697)
Completed 422 Unprocessable Entity in 47ms (Views: 28.0ms | ActiveRecord: 6.0ms | Allocations: 14486)


Started GET "/" for 127.0.0.1 at 2023-11-20 11:32:23 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 79.9ms | Allocations: 88997)
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 18.1ms | Allocations: 11480)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 134.5ms | Allocations: 139069)
Completed 200 OK in 263ms (Views: 136.5ms | ActiveRecord: 4.9ms | Allocations: 214727)


Started POST "/lineitems?product_id=3" for 127.0.0.1 at 2023-11-20 11:32:26 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mLineitem Create (0.4ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 3], ["cart_id", 12], ["created_at", "2023-11-20 19:32:26.769071"], ["updated_at", "2023-11-20 19:32:26.769071"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.4ms | Allocations: 1136)
  Rendered lineitems/create.js.erb (Duration: 3.3ms | Allocations: 1408)
Completed 200 OK in 41ms (Views: 4.9ms | ActiveRecord: 2.9ms | Allocations: 62516)


Started GET "/products" for 127.0.0.1 at 2023-11-20 11:55:08 -0800
Processing by ProductsController#index as HTML
  [1m[36mCart Load (1.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (Duration: 11.4ms | Allocations: 3683)
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 4.6ms | Allocations: 1828)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 29.8ms | Allocations: 13137)
Completed 200 OK in 37ms (Views: 30.5ms | ActiveRecord: 3.5ms | Allocations: 14661)


Started GET "/shopper" for 127.0.0.1 at 2023-11-20 11:55:44 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 11.3ms | Allocations: 4143)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 6.5ms | Allocations: 1750)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 30.4ms | Allocations: 13474)
Completed 200 OK in 34ms (Views: 30.8ms | ActiveRecord: 0.6ms | Allocations: 14474)


Started GET "/shopper" for 127.0.0.1 at 2023-11-20 12:11:48 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (2.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 10.8ms | Allocations: 4143)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 3.8ms | Allocations: 1816)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 31.5ms | Allocations: 13565)
Completed 200 OK in 37ms (Views: 31.1ms | ActiveRecord: 4.3ms | Allocations: 14822)


Started GET "/navs/news" for 127.0.0.1 at 2023-11-20 12:11:49 -0800
Processing by NavsController#news as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/news.html.erb within layouts/application
  Rendered navs/news.html.erb within layouts/application (Duration: 0.5ms | Allocations: 105)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 5.6ms | Allocations: 1780)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 22.3ms | Allocations: 9692)
Completed 200 OK in 27ms (Views: 23.5ms | ActiveRecord: 0.5ms | Allocations: 10883)


Started GET "/search/index" for 127.0.0.1 at 2023-11-20 12:11:51 -0800
Processing by SearchController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering search/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name like '%%' and description like '%%' and price like '%%') ORDER BY "products"."name" ASC[0m
  ↳ app/views/search/index.html.erb:29
  Rendered search/index.html.erb within layouts/application (Duration: 14.9ms | Allocations: 6271)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 5.3ms | Allocations: 1758)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 38.2ms | Allocations: 15614)
Completed 200 OK in 44ms (Views: 39.1ms | ActiveRecord: 0.8ms | Allocations: 16800)


Started GET "/navs/contact" for 127.0.0.1 at 2023-11-20 12:11:52 -0800
Processing by NavsController#contact as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/contact.html.erb within layouts/application
  Rendered navs/contact.html.erb within layouts/application (Duration: 1.3ms | Allocations: 103)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 4.9ms | Allocations: 1779)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 20.2ms | Allocations: 9618)
Completed 200 OK in 26ms (Views: 22.1ms | ActiveRecord: 0.3ms | Allocations: 10684)


Started GET "/search/index" for 127.0.0.1 at 2023-11-20 12:11:54 -0800
Processing by SearchController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering search/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name like '%%' and description like '%%' and price like '%%') ORDER BY "products"."name" ASC[0m
  ↳ app/views/search/index.html.erb:29
  Rendered search/index.html.erb within layouts/application (Duration: 11.8ms | Allocations: 4522)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 5.3ms | Allocations: 1758)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 35.0ms | Allocations: 13864)
Completed 200 OK in 39ms (Views: 34.3ms | ActiveRecord: 1.8ms | Allocations: 14831)


Started GET "/navs/contact" for 127.0.0.1 at 2023-11-20 12:11:55 -0800
Processing by NavsController#contact as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/contact.html.erb within layouts/application
  Rendered navs/contact.html.erb within layouts/application (Duration: 0.1ms | Allocations: 7)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 6.2ms | Allocations: 1778)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 21.7ms | Allocations: 9520)
Completed 200 OK in 25ms (Views: 22.5ms | ActiveRecord: 0.4ms | Allocations: 10504)


Started GET "/navs/faq" for 127.0.0.1 at 2023-11-20 12:11:56 -0800
Processing by NavsController#faq as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/faq.html.erb within layouts/application
  Rendered navs/faq.html.erb within layouts/application (Duration: 1.3ms | Allocations: 136)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 4.4ms | Allocations: 1778)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 19.8ms | Allocations: 9702)
Completed 200 OK in 25ms (Views: 20.8ms | ActiveRecord: 0.4ms | Allocations: 10729)


Started GET "/navs/news" for 127.0.0.1 at 2023-11-20 12:11:57 -0800
Processing by NavsController#news as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/news.html.erb within layouts/application
  Rendered navs/news.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 6.0ms | Allocations: 1778)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 23.8ms | Allocations: 9520)
Completed 200 OK in 27ms (Views: 24.2ms | ActiveRecord: 0.4ms | Allocations: 10487)


Started GET "/navs/news" for 127.0.0.1 at 2023-11-20 12:11:58 -0800
Processing by NavsController#news as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/news.html.erb within layouts/application
  Rendered navs/news.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 4.6ms | Allocations: 1778)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 18.5ms | Allocations: 9520)
Completed 200 OK in 21ms (Views: 18.9ms | ActiveRecord: 0.4ms | Allocations: 10485)


Started GET "/navs/contact" for 127.0.0.1 at 2023-11-20 12:11:59 -0800
Processing by NavsController#contact as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/contact.html.erb within layouts/application
  Rendered navs/contact.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 5.5ms | Allocations: 1778)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 21.2ms | Allocations: 9520)
Completed 200 OK in 26ms (Views: 22.2ms | ActiveRecord: 0.4ms | Allocations: 10501)


  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Book"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Macbook Air"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Bike"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "iPhone"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Delete All (0.5ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["name", "admin"], ["password_digest", "[FILTERED]"], ["created_at", "2023-11-20 20:12:44.543615"], ["updated_at", "2023-11-20 20:12:44.543615"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? AND "users"."id" != ? LIMIT ?[0m  [["name", "admin"], ["id", 5], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-11-20 20:12:44.812810"], ["id", 5]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2023-11-20 12:13:00 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 112.7ms | Allocations: 88778)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 47.3ms | Allocations: 65946)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 215.7ms | Allocations: 180329)
Completed 500 Internal Server Error in 360ms (ActiveRecord: 4.9ms | Allocations: 255817)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    39:         <%= button_to 'Login', login_path%>
    40:       </ul>
    41:       <% if session[:user_id] %>
    42:         Hello, <%= User.find_by(id: session[:user_id]).name%>
    43:         <ul>
    44:           <li><%= link_to 'Orders',orders_path %></li>
    45:           <li><%= link_to 'Products', products_path %></li>
  
app/views/layouts/application.html.erb:42
Started GET "/" for 127.0.0.1 at 2023-11-20 12:13:01 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 8.4ms | Allocations: 4121)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 4.3ms | Allocations: 1753)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 25.4ms | Allocations: 14644)
Completed 500 Internal Server Error in 29ms (ActiveRecord: 0.4ms | Allocations: 15645)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    39:         <%= button_to 'Login', login_path%>
    40:       </ul>
    41:       <% if session[:user_id] %>
    42:         Hello, <%= User.find_by(id: session[:user_id]).name%>
    43:         <ul>
    44:           <li><%= link_to 'Orders',orders_path %></li>
    45:           <li><%= link_to 'Products', products_path %></li>
  
app/views/layouts/application.html.erb:42
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Book"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Macbook Air"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Bike"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "iPhone"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Delete All (1.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "admin2"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["name", "admin2"], ["password_digest", "[FILTERED]"], ["created_at", "2023-11-20 20:13:22.737478"], ["updated_at", "2023-11-20 20:13:22.737478"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? AND "users"."id" != ? LIMIT ?[0m  [["name", "admin2"], ["id", 6], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-11-20 20:13:23.007670"], ["id", 6]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2023-11-20 12:13:28 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 86.2ms | Allocations: 89639)
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 39.5ms | Allocations: 65946)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 161.8ms | Allocations: 181189)
Completed 500 Internal Server Error in 302ms (ActiveRecord: 42.0ms | Allocations: 256677)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    39:         <%= button_to 'Login', login_path%>
    40:       </ul>
    41:       <% if session[:user_id] %>
    42:         Hello, <%= User.find_by(id: session[:user_id]).name%>
    43:         <ul>
    44:           <li><%= link_to 'Orders',orders_path %></li>
    45:           <li><%= link_to 'Products', products_path %></li>
  
app/views/layouts/application.html.erb:42
Started GET "/" for 127.0.0.1 at 2023-11-20 12:13:31 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 9.3ms | Allocations: 4121)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 4.8ms | Allocations: 1753)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 25.5ms | Allocations: 14644)
Completed 500 Internal Server Error in 29ms (ActiveRecord: 0.5ms | Allocations: 15645)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    39:         <%= button_to 'Login', login_path%>
    40:       </ul>
    41:       <% if session[:user_id] %>
    42:         Hello, <%= User.find_by(id: session[:user_id]).name%>
    43:         <ul>
    44:           <li><%= link_to 'Orders',orders_path %></li>
    45:           <li><%= link_to 'Products', products_path %></li>
  
app/views/layouts/application.html.erb:42
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CombineItemsInCart (20231202194517)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (1.0ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20231202194517'[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CombineItemsInCart (20231202194517)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231202194517') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Book"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Macbook Air"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Bike"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "iPhone"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Delete All (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "admin2"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["name", "admin2"], ["password_digest", "[FILTERED]"], ["created_at", "2023-11-20 20:14:37.929423"], ["updated_at", "2023-11-20 20:14:37.929423"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? AND "users"."id" != ? LIMIT ?[0m  [["name", "admin2"], ["id", 7], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-11-20 20:14:38.198576"], ["id", 7]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2023-11-20 12:14:48 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 92.7ms | Allocations: 88819)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 42.0ms | Allocations: 65946)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 190.5ms | Allocations: 180369)
Completed 500 Internal Server Error in 307ms (ActiveRecord: 3.8ms | Allocations: 255857)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    39:         <%= button_to 'Login', login_path%>
    40:       </ul>
    41:       <% if session[:user_id] %>
    42:         Hello, <%= User.find_by(id: session[:user_id]).name%>
    43:         <ul>
    44:           <li><%= link_to 'Orders',orders_path %></li>
    45:           <li><%= link_to 'Products', products_path %></li>
  
app/views/layouts/application.html.erb:42
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Book"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Macbook Air"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Bike"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "iPhone"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Delete All (1.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "admin3"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["name", "admin3"], ["password_digest", "[FILTERED]"], ["created_at", "2023-11-20 20:15:08.698495"], ["updated_at", "2023-11-20 20:15:08.698495"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? AND "users"."id" != ? LIMIT ?[0m  [["name", "admin3"], ["id", 8], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-11-20 20:15:08.959170"], ["id", 8]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2023-11-20 12:15:15 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 83.0ms | Allocations: 88407)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 38.4ms | Allocations: 65946)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 155.7ms | Allocations: 179958)
Completed 500 Internal Server Error in 288ms (ActiveRecord: 3.9ms | Allocations: 255446)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    39:         <%= button_to 'Login', login_path%>
    40:       </ul>
    41:       <% if session[:user_id] %>
    42:         Hello, <%= User.find_by(id: session[:user_id]).name%>
    43:         <ul>
    44:           <li><%= link_to 'Orders',orders_path %></li>
    45:           <li><%= link_to 'Products', products_path %></li>
  
app/views/layouts/application.html.erb:42
Started GET "/" for 127.0.0.1 at 2023-11-20 12:16:04 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2023-11-20 20:16:04.336364"], ["updated_at", "2023-11-20 20:16:04.336364"]]
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 85.7ms | Allocations: 88771)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 13]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 16.0ms | Allocations: 12070)
  Rendered layout layouts/application.html.erb (Duration: 128.5ms | Allocations: 122345)
Completed 200 OK in 247ms (Views: 133.3ms | ActiveRecord: 6.2ms | Allocations: 198548)


Started POST "/lineitems?product_id=3" for 127.0.0.1 at 2023-11-20 12:16:07 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 13], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mLineitem Create (0.3ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 3], ["cart_id", 13], ["created_at", "2023-11-20 20:16:07.525770"], ["updated_at", "2023-11-20 20:16:07.525770"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 13]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.8ms | Allocations: 1145)
  Rendered lineitems/create.js.erb (Duration: 3.7ms | Allocations: 1422)
Completed 200 OK in 92ms (Views: 5.3ms | ActiveRecord: 2.3ms | Allocations: 64681)


Started DELETE "/carts/13" for 127.0.0.1 at 2023-11-20 12:16:11 -0800
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"13"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineitem Load (1.0ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 13]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineitem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 13]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 11ms (ActiveRecord: 1.5ms | Allocations: 4277)


Started GET "/" for 127.0.0.1 at 2023-11-20 12:16:11 -0800
Processing by ShopperController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2023-11-20 20:16:11.427538"], ["updated_at", "2023-11-20 20:16:11.427538"]]
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 10.2ms | Allocations: 4116)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.1ms | Allocations: 965)
  Rendered layout layouts/application.html.erb (Duration: 20.2ms | Allocations: 12002)
Completed 200 OK in 27ms (Views: 20.7ms | ActiveRecord: 1.7ms | Allocations: 14725)


Started GET "/orders/new" for 127.0.0.1 at 2023-11-20 12:16:13 -0800
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "lineitems" WHERE "lineitems"."cart_id" = ? LIMIT ?[0m  [["cart_id", 14], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:18:in `new'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 6ms (ActiveRecord: 0.3ms | Allocations: 1876)


Started GET "/" for 127.0.0.1 at 2023-11-20 12:16:13 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 7.1ms | Allocations: 4114)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.0ms | Allocations: 951)
  Rendered layout layouts/application.html.erb (Duration: 19.3ms | Allocations: 11981)
Completed 200 OK in 22ms (Views: 19.7ms | ActiveRecord: 0.2ms | Allocations: 12975)


Started GET "/shopper" for 127.0.0.1 at 2023-11-20 12:16:15 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 11.0ms | Allocations: 4110)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.1ms | Allocations: 948)
  Rendered layout layouts/application.html.erb (Duration: 35.3ms | Allocations: 12024)
Completed 200 OK in 40ms (Views: 36.4ms | ActiveRecord: 0.5ms | Allocations: 13036)


Started GET "/navs/contact" for 127.0.0.1 at 2023-11-20 12:16:17 -0800
Processing by NavsController#contact as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/contact.html.erb within layouts/application
  Rendered navs/contact.html.erb within layouts/application (Duration: 1.2ms | Allocations: 105)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.5ms | Allocations: 976)
  Rendered layout layouts/application.html.erb (Duration: 14.6ms | Allocations: 8170)
Completed 200 OK in 20ms (Views: 16.4ms | ActiveRecord: 0.2ms | Allocations: 9322)


Started GET "/navs/news" for 127.0.0.1 at 2023-11-20 12:16:20 -0800
Processing by NavsController#news as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/news.html.erb within layouts/application
  Rendered navs/news.html.erb within layouts/application (Duration: 1.4ms | Allocations: 103)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.6ms | Allocations: 975)
  Rendered layout layouts/application.html.erb (Duration: 20.0ms | Allocations: 8147)
Completed 200 OK in 31ms (Views: 27.0ms | ActiveRecord: 0.1ms | Allocations: 9167)


  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Book"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Macbook Air"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Bike"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "iPhone"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Delete All (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "admin3"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["name", "admin3"], ["password_digest", "[FILTERED]"], ["created_at", "2023-11-20 20:19:41.803933"], ["updated_at", "2023-11-20 20:19:41.803933"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? AND "users"."id" != ? LIMIT ?[0m  [["name", "admin3"], ["id", 9], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-11-20 20:19:42.064760"], ["id", 9]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Started GET "/navs/news" for 127.0.0.1 at 2023-11-20 12:19:50 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by NavsController#news as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/news.html.erb within layouts/application
  Rendered navs/news.html.erb within layouts/application (Duration: 1.1ms | Allocations: 172)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 31.3ms | Allocations: 13209)
  Rendered layout layouts/application.html.erb (Duration: 290.1ms | Allocations: 104972)
Completed 200 OK in 404ms (Views: 295.1ms | ActiveRecord: 2.7ms | Allocations: 178054)


Started GET "/shopper" for 127.0.0.1 at 2023-11-20 12:19:52 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 33.8ms | Allocations: 55963)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.3ms | Allocations: 950)
  Rendered layout layouts/application.html.erb (Duration: 44.9ms | Allocations: 63867)
Completed 200 OK in 57ms (Views: 46.6ms | ActiveRecord: 1.0ms | Allocations: 67414)


Started GET "/shopper" for 127.0.0.1 at 2023-11-20 12:19:54 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 9.0ms | Allocations: 4128)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.2ms | Allocations: 948)
  Rendered layout layouts/application.html.erb (Duration: 20.4ms | Allocations: 12006)
Completed 200 OK in 24ms (Views: 21.1ms | ActiveRecord: 0.3ms | Allocations: 13029)


Started GET "/shopper" for 127.0.0.1 at 2023-11-20 12:19:55 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 9.5ms | Allocations: 4128)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.6ms | Allocations: 948)
  Rendered layout layouts/application.html.erb (Duration: 20.1ms | Allocations: 12006)
Completed 200 OK in 23ms (Views: 20.6ms | ActiveRecord: 0.3ms | Allocations: 13005)


  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mProduct Delete All (0.3ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2023-11-20 20:21:44.967557', '2023-11-20 20:21:44.967577') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCarts (20231119184715)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231119184715') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateLineitems (20231119185005)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "lineitems" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_774d1bb2b6"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_733d199599"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_lineitems_on_product_id" ON "lineitems" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_lineitems_on_cart_id" ON "lineitems" ("cart_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231119185005') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddQuantityToLineitems (20231119202423)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "lineitems" ADD "quantity" integer DEFAULT 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231119202423') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProducts (20231201183750)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" text, "image" varchar, "price" decimal, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231201183750') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateOrders (20231201192417)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "address" text, "email" varchar, "paytype" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231201192417') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddOrderToLineitems (20231201192708)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "lineitems" ADD "order_id" integer[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_lineitems_on_order_id" ON "lineitems" ("order_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "alineitems" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_alineitems_on_order_id" ON "alineitems" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_alineitems_on_cart_id" ON "alineitems" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_alineitems_on_product_id" ON "alineitems" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "alineitems" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "lineitems"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "lineitems"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "lineitems" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_733d199599"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_774d1bb2b6"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_c468018124"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_lineitems_on_product_id" ON "lineitems" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_lineitems_on_cart_id" ON "lineitems" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_lineitems_on_order_id" ON "lineitems" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "lineitems" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "alineitems"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "alineitems"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231201192708') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateUsers (20231202192955)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231202192955') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CombineItemsInCart (20231202194517)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231202194517') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Book"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Book"], ["description", "best product for your health"], ["image", "applewatch.jpeg"], ["price", 2.22], ["created_at", "2023-11-20 20:21:55.822969"], ["updated_at", "2023-11-20 20:21:55.822969"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Macbook Air"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Macbook Air"], ["description", "This is an apple laptop"], ["image", "macbook.jpeg"], ["price", 1222.22], ["created_at", "2023-11-20 20:21:55.826802"], ["updated_at", "2023-11-20 20:21:55.826802"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Bike"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Bike"], ["description", "a useful tool"], ["image", "ipad.jpeg"], ["price", 222.22], ["created_at", "2023-11-20 20:21:55.830020"], ["updated_at", "2023-11-20 20:21:55.830020"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "iPhone"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "iPhone"], ["description", "a fake funny nose"], ["image", "iPhone.jpeg"], ["price", 22.22], ["created_at", "2023-11-20 20:21:55.833950"], ["updated_at", "2023-11-20 20:21:55.833950"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Delete All (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["name", "admin"], ["password_digest", "[FILTERED]"], ["created_at", "2023-11-20 20:21:55.857555"], ["updated_at", "2023-11-20 20:21:55.857555"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? AND "users"."id" != ? LIMIT ?[0m  [["name", "admin"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-11-20 20:21:56.117695"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2023-11-20 12:22:09 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2023-11-20 20:22:09.958767"], ["updated_at", "2023-11-20 20:22:09.958767"]]
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 111.2ms | Allocations: 90050)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 23.7ms | Allocations: 11441)
  Rendered layout layouts/application.html.erb (Duration: 190.5ms | Allocations: 123047)
Completed 200 OK in 338ms (Views: 195.8ms | ActiveRecord: 7.3ms | Allocations: 201600)


Started GET "/search/index" for 127.0.0.1 at 2023-11-20 12:22:56 -0800
Processing by SearchController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering search/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name like '%%' and description like '%%' and price like '%%') ORDER BY "products"."name" ASC[0m
  ↳ app/views/search/index.html.erb:29
  Rendered search/index.html.erb within layouts/application (Duration: 16.6ms | Allocations: 6290)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 7.4ms | Allocations: 971)
  Rendered layout layouts/application.html.erb (Duration: 34.6ms | Allocations: 14200)
Completed 200 OK in 40ms (Views: 36.1ms | ActiveRecord: 0.3ms | Allocations: 15412)


Started POST "/login" for 127.0.0.1 at 2023-11-20 12:23:04 -0800
Processing by AccessController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/access_controller.rb:13:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 8ms (ActiveRecord: 0.6ms | Allocations: 2716)


Started GET "/login" for 127.0.0.1 at 2023-11-20 12:23:04 -0800
Processing by AccessController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering access/new.html.erb within layouts/application
  Rendered access/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 645)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.4ms | Allocations: 949)
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | Allocations: 8671)
Completed 200 OK in 18ms (Views: 14.5ms | ActiveRecord: 0.2ms | Allocations: 9803)


Started POST "/access/new" for 127.0.0.1 at 2023-11-20 12:23:08 -0800
Processing by AccessController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"admin", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  ↳ app/controllers/access_controller.rb:13:in `create'
Redirected to http://127.0.0.1:3000/admin
Completed 302 Found in 267ms (ActiveRecord: 0.4ms | Allocations: 16359)


Started GET "/admin" for 127.0.0.1 at 2023-11-20 12:23:09 -0800
Processing by AdminController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mOrder Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  ↳ app/controllers/admin_controller.rb:5:in `index'
  Rendering layout layouts/application.html.erb
  Rendering admin/index.html.erb within layouts/application
  Rendered admin/index.html.erb within layouts/application (Duration: 1.4ms | Allocations: 223)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.2ms | Allocations: 969)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 14.6ms | Allocations: 9625)
Completed 200 OK in 24ms (Views: 15.6ms | ActiveRecord: 1.2ms | Allocations: 13496)


Started GET "/products" for 127.0.0.1 at 2023-11-20 12:23:13 -0800
Processing by ProductsController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (Duration: 7.7ms | Allocations: 3695)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 1.9ms | Allocations: 948)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 22.5ms | Allocations: 12258)
Completed 200 OK in 29ms (Views: 23.6ms | ActiveRecord: 0.5ms | Allocations: 13527)


Started GET "/shopper" for 127.0.0.1 at 2023-11-20 12:23:28 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 12.7ms | Allocations: 4122)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 15.1ms | Allocations: 947)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 42.0ms | Allocations: 12664)
Completed 200 OK in 46ms (Views: 42.2ms | ActiveRecord: 0.6ms | Allocations: 13661)


Started GET "/shopper" for 127.0.0.1 at 2023-11-20 12:25:30 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 9.3ms | Allocations: 4131)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 1.8ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 21.0ms | Allocations: 12685)
Completed 200 OK in 24ms (Views: 21.4ms | ActiveRecord: 0.3ms | Allocations: 13674)


Started GET "/shopper" for 127.0.0.1 at 2023-11-20 12:25:31 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 9.3ms | Allocations: 4123)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.1ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 21.4ms | Allocations: 12665)
Completed 200 OK in 24ms (Views: 21.8ms | ActiveRecord: 0.5ms | Allocations: 13654)


  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2023-11-20 20:25:56.260904', '2023-11-20 20:25:56.260906') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCarts (20231119184715)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231119184715') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateLineitems (20231119185005)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "lineitems" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_774d1bb2b6"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_733d199599"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_lineitems_on_product_id" ON "lineitems" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_lineitems_on_cart_id" ON "lineitems" ("cart_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231119185005') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddQuantityToLineitems (20231119202423)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "lineitems" ADD "quantity" integer DEFAULT 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231119202423') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProducts (20231201183750)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" text, "image" varchar, "price" decimal, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231201183750') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateOrders (20231201192417)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "address" text, "email" varchar, "paytype" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231201192417') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddOrderToLineitems (20231201192708)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "lineitems" ADD "order_id" integer[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_lineitems_on_order_id" ON "lineitems" ("order_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "alineitems" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_alineitems_on_order_id" ON "alineitems" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_alineitems_on_cart_id" ON "alineitems" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_alineitems_on_product_id" ON "alineitems" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "alineitems" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "lineitems"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "lineitems"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "lineitems" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_733d199599"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_774d1bb2b6"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_c468018124"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_lineitems_on_product_id" ON "lineitems" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_lineitems_on_cart_id" ON "lineitems" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_lineitems_on_order_id" ON "lineitems" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "lineitems" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "alineitems"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "alineitems"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231201192708') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateUsers (20231202192955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231202192955') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CombineItemsInCart (20231202194517)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231202194517') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Apple Watch"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Apple Watch"], ["description", "best product for health"], ["image", "applewatch.jpeg"], ["price", 100.55], ["created_at", "2023-11-20 20:26:02.476554"], ["updated_at", "2023-11-20 20:26:02.476554"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Macbook Air"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Macbook Air"], ["description", "an apple laptop"], ["image", "macbook.jpeg"], ["price", 250.55], ["created_at", "2023-11-20 20:26:02.480387"], ["updated_at", "2023-11-20 20:26:02.480387"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Ipad Air"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Ipad Air"], ["description", "a useful tool"], ["image", "ipad.jpeg"], ["price", 100.55], ["created_at", "2023-11-20 20:26:02.483916"], ["updated_at", "2023-11-20 20:26:02.483916"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Iphone 13"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Iphone 13"], ["description", "must have product"], ["image", "iPhone.jpeg"], ["price", 200.55], ["created_at", "2023-11-20 20:26:02.487089"], ["updated_at", "2023-11-20 20:26:02.487089"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Delete All (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["name", "admin"], ["password_digest", "[FILTERED]"], ["created_at", "2023-11-20 20:26:02.500943"], ["updated_at", "2023-11-20 20:26:02.500943"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? AND "users"."id" != ? LIMIT ?[0m  [["name", "admin"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-11-20 20:26:02.761621"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Started GET "/shopper" for 127.0.0.1 at 2023-11-20 12:26:40 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (2.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2023-11-20 20:26:40.276275"], ["updated_at", "2023-11-20 20:26:40.276275"]]
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 83.7ms | Allocations: 89232)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 17.0ms | Allocations: 11445)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 146.0ms | Allocations: 139291)
Completed 200 OK in 274ms (Views: 149.3ms | ActiveRecord: 7.1ms | Allocations: 217864)


Started GET "/shopper" for 127.0.0.1 at 2023-11-20 12:26:45 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 6.5ms | Allocations: 4114)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.4ms | Allocations: 965)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 20.2ms | Allocations: 12681)
Completed 200 OK in 23ms (Views: 20.6ms | ActiveRecord: 0.3ms | Allocations: 13720)


Started GET "/shopper" for 127.0.0.1 at 2023-11-20 12:26:46 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 7.1ms | Allocations: 4113)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.8ms | Allocations: 948)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 20.5ms | Allocations: 12657)
Completed 200 OK in 24ms (Views: 21.4ms | ActiveRecord: 0.4ms | Allocations: 13663)


Started POST "/lineitems?product_id=1" for 127.0.0.1 at 2023-11-20 12:26:54 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 1], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mLineitem Create (0.2ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 1], ["cart_id", 1], ["created_at", "2023-11-20 20:26:54.811345"], ["updated_at", "2023-11-20 20:26:54.811345"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.8ms | Allocations: 1136)
  Rendered lineitems/create.js.erb (Duration: 3.7ms | Allocations: 1408)
Completed 200 OK in 40ms (Views: 5.4ms | ActiveRecord: 1.7ms | Allocations: 61729)


Started POST "/lineitems?product_id=3" for 127.0.0.1 at 2023-11-20 12:26:56 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 1], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mLineitem Create (0.3ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 3], ["cart_id", 1], ["created_at", "2023-11-20 20:26:56.352270"], ["updated_at", "2023-11-20 20:26:56.352270"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 4.5ms | Allocations: 1912)
  Rendered lineitems/create.js.erb (Duration: 4.8ms | Allocations: 2077)
Completed 200 OK in 18ms (Views: 5.3ms | ActiveRecord: 2.6ms | Allocations: 7147)


Started POST "/lineitems?product_id=4" for 127.0.0.1 at 2023-11-20 12:26:58 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:29:in `create'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 1], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mLineitem Create (0.2ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 4], ["cart_id", 1], ["created_at", "2023-11-20 20:26:58.547695"], ["updated_at", "2023-11-20 20:26:58.547695"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 6.1ms | Allocations: 2703)
  Rendered lineitems/create.js.erb (Duration: 6.5ms | Allocations: 2880)
Completed 200 OK in 19ms (Views: 6.8ms | ActiveRecord: 2.3ms | Allocations: 7935)


Started GET "/shopper" for 127.0.0.1 at 2023-11-20 12:36:23 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 78.7ms | Allocations: 89343)
  [1m[36mLineitem Load (0.3ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 68.4ms | Allocations: 67549)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 190.2ms | Allocations: 195506)
Completed 200 OK in 298ms (Views: 191.6ms | ActiveRecord: 4.2ms | Allocations: 271035)


Started GET "/search/index" for 127.0.0.1 at 2023-11-20 12:36:27 -0800
Processing by SearchController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering search/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name like '%%' and description like '%%' and price like '%%') ORDER BY "products"."name" ASC[0m
  ↳ app/views/search/index.html.erb:29
  Rendered search/index.html.erb within layouts/application (Duration: 13.5ms | Allocations: 6272)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 10.8ms | Allocations: 3363)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 39.7ms | Allocations: 17234)
Completed 200 OK in 46ms (Views: 41.4ms | ActiveRecord: 0.8ms | Allocations: 18432)


Started GET "/shopper" for 127.0.0.1 at 2023-11-20 12:36:28 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 11.1ms | Allocations: 4113)
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 10.0ms | Allocations: 3353)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 39.1ms | Allocations: 15063)
Completed 200 OK in 43ms (Views: 39.0ms | ActiveRecord: 0.8ms | Allocations: 16079)


Started GET "/navs/faq" for 127.0.0.1 at 2023-11-20 12:36:30 -0800
Processing by NavsController#faq as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/faq.html.erb within layouts/application
  Rendered navs/faq.html.erb within layouts/application (Duration: 0.6ms | Allocations: 136)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 8.8ms | Allocations: 3382)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 22.7ms | Allocations: 11279)
Completed 200 OK in 28ms (Views: 23.7ms | ActiveRecord: 0.6ms | Allocations: 12474)


Started GET "/navs/news" for 127.0.0.1 at 2023-11-20 12:36:32 -0800
Processing by NavsController#news as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/news.html.erb within layouts/application
  Rendered navs/news.html.erb within layouts/application (Duration: 0.9ms | Allocations: 103)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 8.0ms | Allocations: 3381)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 23.3ms | Allocations: 11235)
Completed 200 OK in 27ms (Views: 23.6ms | ActiveRecord: 0.5ms | Allocations: 12295)


Started GET "/shopper" for 127.0.0.1 at 2023-11-20 12:36:34 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 25.0ms | Allocations: 4119)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 10.1ms | Allocations: 3352)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 53.1ms | Allocations: 15128)
Completed 200 OK in 59ms (Views: 54.5ms | ActiveRecord: 0.7ms | Allocations: 16122)


Started POST "/lineitems?product_id=1" for 127.0.0.1 at 2023-11-20 12:36:36 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:27:in `create'
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 1], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:32:in `block in create'
  [1m[36mLineitem Update (1.5ms)[0m  [1m[33mUPDATE "lineitems" SET "updated_at" = ?, "quantity" = ? WHERE "lineitems"."id" = ?[0m  [["updated_at", "2023-11-20 20:36:36.250379"], ["quantity", 2], ["id", 1]]
  ↳ app/controllers/lineitems_controller.rb:32:in `block in create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:32:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 7.3ms | Allocations: 3297)
  Rendered lineitems/create.js.erb (Duration: 8.1ms | Allocations: 3595)
Completed 200 OK in 24ms (Views: 9.5ms | ActiveRecord: 3.0ms | Allocations: 9926)


Started POST "/lineitems?product_id=3" for 127.0.0.1 at 2023-11-20 12:36:38 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:27:in `create'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 1], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:32:in `block in create'
  [1m[36mLineitem Update (1.0ms)[0m  [1m[33mUPDATE "lineitems" SET "updated_at" = ?, "quantity" = ? WHERE "lineitems"."id" = ?[0m  [["updated_at", "2023-11-20 20:36:38.628863"], ["quantity", 2], ["id", 2]]
  ↳ app/controllers/lineitems_controller.rb:32:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:32:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 15.6ms | Allocations: 3296)
  Rendered lineitems/create.js.erb (Duration: 16.0ms | Allocations: 3473)
Completed 200 OK in 27ms (Views: 16.0ms | ActiveRecord: 2.2ms | Allocations: 7607)


Started GET "/orders/new" for 127.0.0.1 at 2023-11-20 12:36:50 -0800
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "lineitems" WHERE "lineitems"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:18:in `new'
  Rendering layout layouts/application.html.erb
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 10.7ms | Allocations: 2917)
  Rendered orders/new.html.erb within layouts/application (Duration: 12.3ms | Allocations: 3208)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 8.4ms | Allocations: 3278)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 30.0ms | Allocations: 14300)
Completed 200 OK in 56ms (Views: 30.7ms | ActiveRecord: 1.0ms | Allocations: 57729)


Started POST "/orders" for 127.0.0.1 at 2023-11-20 12:36:55 -0800
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "order"=>{"name"=>"Ching Yueh Huang", "address"=>"HarbigStrase 14\r\n11.01.05", "email"=>"ilovepink613@gmail.com", "paytype"=>""}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.8ms | Allocations: 1903)
  Rendered orders/new.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1984)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 8.0ms | Allocations: 3384)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 22.0ms | Allocations: 13171)
Completed 422 Unprocessable Entity in 26ms (Views: 22.2ms | ActiveRecord: 0.5ms | Allocations: 15048)


Started POST "/orders" for 127.0.0.1 at 2023-11-20 12:37:00 -0800
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "order"=>{"name"=>"Ching Yueh Huang", "address"=>"HarbigStrase 14\r\n11.01.05", "email"=>"ilovepink613@gmail.com", "paytype"=>"Check"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mOrder Create (1.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "paytype", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Ching Yueh Huang"], ["address", "HarbigStrase 14\r\n11.01.05"], ["email", "ilovepink613@gmail.com"], ["paytype", "Check"], ["created_at", "2023-11-20 20:37:00.038128"], ["updated_at", "2023-11-20 20:37:00.038128"]]
  ↳ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineitem Load (1.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineitem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 1]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineitem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineitem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 3]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 1]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 19ms (ActiveRecord: 3.9ms | Allocations: 8153)


Started GET "/" for 127.0.0.1 at 2023-11-20 12:37:00 -0800
Processing by ShopperController#index as HTML
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.0ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2023-11-20 20:37:00.070147"], ["updated_at", "2023-11-20 20:37:00.070147"]]
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 7.4ms | Allocations: 4127)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 1.8ms | Allocations: 968)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 19.9ms | Allocations: 12696)
Completed 200 OK in 27ms (Views: 20.5ms | ActiveRecord: 1.5ms | Allocations: 15539)


Started GET "/shopper" for 127.0.0.1 at 2023-11-20 12:37:05 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 11.2ms | Allocations: 4113)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.3ms | Allocations: 947)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 26.5ms | Allocations: 12655)
Completed 200 OK in 30ms (Views: 26.9ms | ActiveRecord: 0.3ms | Allocations: 13649)


Started GET "/orders" for 127.0.0.1 at 2023-11-20 12:37:06 -0800
Processing by OrdersController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:19
  Rendered orders/index.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1204)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.2ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 21.2ms | Allocations: 9900)
Completed 200 OK in 26ms (Views: 21.5ms | ActiveRecord: 0.4ms | Allocations: 11012)


Started GET "/orders/1" for 127.0.0.1 at 2023-11-20 12:37:10 -0800
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:72:in `set_order'
  Rendering layout layouts/application.html.erb
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (Duration: 1.3ms | Allocations: 396)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 1.8ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 16.6ms | Allocations: 9088)
Completed 200 OK in 24ms (Views: 17.0ms | ActiveRecord: 0.9ms | Allocations: 11279)


Started GET "/orders" for 127.0.0.1 at 2023-11-20 12:37:12 -0800
Processing by OrdersController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:19
  Rendered orders/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 705)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.2ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 19.0ms | Allocations: 9401)
Completed 200 OK in 23ms (Views: 19.5ms | ActiveRecord: 0.5ms | Allocations: 10395)


Started GET "/products" for 127.0.0.1 at 2023-11-20 12:37:17 -0800
Processing by ProductsController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (Duration: 6.5ms | Allocations: 3685)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 1.9ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 20.0ms | Allocations: 12247)
Completed 200 OK in 24ms (Views: 20.9ms | ActiveRecord: 0.4ms | Allocations: 13482)


Started GET "/users" for 127.0.0.1 at 2023-11-20 12:37:18 -0800
Processing by UsersController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  ↳ app/views/users/index.html.erb:19
  Rendered users/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1112)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.7ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 28.8ms | Allocations: 9859)
Completed 200 OK in 34ms (Views: 29.5ms | ActiveRecord: 0.8ms | Allocations: 11130)


Started GET "/users/1" for 127.0.0.1 at 2023-11-20 12:37:19 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:66:in `set_user'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 1.9ms | Allocations: 286)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.8ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 17.5ms | Allocations: 9045)
Completed 200 OK in 23ms (Views: 18.0ms | ActiveRecord: 0.3ms | Allocations: 10602)


Started GET "/orders" for 127.0.0.1 at 2023-11-20 12:37:21 -0800
Processing by OrdersController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:19
  Rendered orders/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 705)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.5ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 20.0ms | Allocations: 9401)
Completed 200 OK in 23ms (Views: 20.5ms | ActiveRecord: 0.3ms | Allocations: 10401)


Started GET "/orders/1" for 127.0.0.1 at 2023-11-20 12:37:24 -0800
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:72:in `set_order'
  Rendering layout layouts/application.html.erb
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (Duration: 0.5ms | Allocations: 90)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.0ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 18.9ms | Allocations: 8782)
Completed 200 OK in 23ms (Views: 19.5ms | ActiveRecord: 0.4ms | Allocations: 10255)


Started GET "/orders/1/edit" for 127.0.0.1 at 2023-11-20 12:37:26 -0800
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:72:in `set_order'
  Rendering layout layouts/application.html.erb
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.7ms | Allocations: 1457)
  Rendered orders/edit.html.erb within layouts/application (Duration: 6.6ms | Allocations: 1736)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.2ms | Allocations: 954)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 20.9ms | Allocations: 10424)
Completed 200 OK in 26ms (Views: 21.4ms | ActiveRecord: 0.4ms | Allocations: 11965)


Started GET "/orders" for 127.0.0.1 at 2023-11-20 12:37:29 -0800
Processing by OrdersController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:19
  Rendered orders/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 705)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.1ms | Allocations: 947)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 18.5ms | Allocations: 9401)
Completed 200 OK in 23ms (Views: 20.0ms | ActiveRecord: 0.9ms | Allocations: 10395)


Started GET "/products" for 127.0.0.1 at 2023-11-20 12:37:35 -0800
Processing by ProductsController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (Duration: 11.7ms | Allocations: 3216)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.1ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 28.7ms | Allocations: 11820)
Completed 200 OK in 32ms (Views: 29.0ms | ActiveRecord: 0.4ms | Allocations: 12817)


Started GET "/users" for 127.0.0.1 at 2023-11-20 12:37:39 -0800
Processing by UsersController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  ↳ app/views/users/index.html.erb:19
  Rendered users/index.html.erb within layouts/application (Duration: 1.3ms | Allocations: 696)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.5ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 17.5ms | Allocations: 9392)
Completed 200 OK in 21ms (Views: 17.8ms | ActiveRecord: 0.3ms | Allocations: 10411)


Started GET "/orders" for 127.0.0.1 at 2023-11-20 12:37:43 -0800
Processing by OrdersController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:19
  Rendered orders/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 705)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.3ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 18.4ms | Allocations: 9401)
Completed 200 OK in 22ms (Views: 19.4ms | ActiveRecord: 0.3ms | Allocations: 10397)


Started GET "/shopper" for 127.0.0.1 at 2023-11-20 12:42:56 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 17.5ms | Allocations: 4121)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.2ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 37.1ms | Allocations: 12663)
Completed 200 OK in 41ms (Views: 37.7ms | ActiveRecord: 0.4ms | Allocations: 13669)


Started GET "/products" for 127.0.0.1 at 2023-11-20 12:43:24 -0800
Processing by ProductsController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (Duration: 8.5ms | Allocations: 3207)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.7ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 26.8ms | Allocations: 11760)
Completed 200 OK in 30ms (Views: 27.3ms | ActiveRecord: 0.3ms | Allocations: 12748)


Started GET "/products/1" for 127.0.0.1 at 2023-11-20 12:43:27 -0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:65:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 1.8ms | Allocations: 393)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.9ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 17.4ms | Allocations: 9085)
Completed 200 OK in 25ms (Views: 18.0ms | ActiveRecord: 0.4ms | Allocations: 10634)


Started GET "/products" for 127.0.0.1 at 2023-11-20 12:43:30 -0800
Processing by ProductsController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 3207)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.3ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 25.0ms | Allocations: 11763)
Completed 200 OK in 28ms (Views: 25.3ms | ActiveRecord: 0.4ms | Allocations: 12757)


Started GET "/products/2" for 127.0.0.1 at 2023-11-20 12:43:31 -0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:65:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 0.3ms | Allocations: 90)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.2ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 16.4ms | Allocations: 8782)
Completed 200 OK in 21ms (Views: 17.1ms | ActiveRecord: 0.3ms | Allocations: 10242)


Started GET "/products" for 127.0.0.1 at 2023-11-20 12:43:33 -0800
Processing by ProductsController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (Duration: 7.1ms | Allocations: 3208)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.1ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 23.3ms | Allocations: 11761)
Completed 200 OK in 26ms (Views: 23.6ms | ActiveRecord: 0.3ms | Allocations: 12747)


Started GET "/orders" for 127.0.0.1 at 2023-11-20 12:43:40 -0800
Processing by OrdersController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:19
  Rendered orders/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 705)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 4.7ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 22.0ms | Allocations: 9401)
Completed 200 OK in 25ms (Views: 22.5ms | ActiveRecord: 0.4ms | Allocations: 10398)


Started GET "/products" for 127.0.0.1 at 2023-11-20 12:43:43 -0800
Processing by ProductsController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (Duration: 8.8ms | Allocations: 3217)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.3ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 23.1ms | Allocations: 11824)
Completed 200 OK in 28ms (Views: 23.3ms | ActiveRecord: 0.4ms | Allocations: 12819)


Started GET "/navs/contact" for 127.0.0.1 at 2023-11-20 12:43:44 -0800
Processing by NavsController#contact as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/contact.html.erb within layouts/application
  Rendered navs/contact.html.erb within layouts/application (Duration: 1.8ms | Allocations: 107)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.3ms | Allocations: 975)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 17.8ms | Allocations: 8833)
Completed 200 OK in 23ms (Views: 18.3ms | ActiveRecord: 0.3ms | Allocations: 9870)


Started GET "/search/index" for 127.0.0.1 at 2023-11-20 12:43:46 -0800
Processing by SearchController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering search/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name like '%%' and description like '%%' and price like '%%') ORDER BY "products"."name" ASC[0m
  ↳ app/views/search/index.html.erb:29
  Rendered search/index.html.erb within layouts/application (Duration: 10.4ms | Allocations: 4522)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 1.7ms | Allocations: 955)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 24.7ms | Allocations: 13067)
Completed 200 OK in 28ms (Views: 25.0ms | ActiveRecord: 0.4ms | Allocations: 14042)


Started POST "/lineitems?product_id=4" for 127.0.0.1 at 2023-11-20 12:43:55 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:27:in `create'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 2], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:32:in `block in create'
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:32:in `block in create'
  [1m[36mLineitem Create (0.3ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 4], ["cart_id", 2], ["created_at", "2023-11-20 20:43:55.683650"], ["updated_at", "2023-11-20 20:43:55.683650"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:32:in `block in create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:32:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.4ms | Allocations: 1103)
  Rendered lineitems/create.js.erb (Duration: 2.7ms | Allocations: 1256)
Completed 200 OK in 17ms (Views: 3.1ms | ActiveRecord: 2.8ms | Allocations: 6927)


Started GET "/navs/contact" for 127.0.0.1 at 2023-11-20 12:43:58 -0800
Processing by NavsController#contact as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/contact.html.erb within layouts/application
  Rendered navs/contact.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 4.4ms | Allocations: 1778)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 19.5ms | Allocations: 9536)
Completed 200 OK in 24ms (Views: 20.3ms | ActiveRecord: 0.6ms | Allocations: 10497)


Started GET "/navs/news" for 127.0.0.1 at 2023-11-20 12:44:00 -0800
Processing by NavsController#news as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/news.html.erb within layouts/application
  Rendered navs/news.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 1778)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 17.8ms | Allocations: 9548)
Completed 200 OK in 21ms (Views: 18.2ms | ActiveRecord: 0.3ms | Allocations: 10515)


Started GET "/navs/faq" for 127.0.0.1 at 2023-11-20 12:44:01 -0800
Processing by NavsController#faq as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/faq.html.erb within layouts/application
  Rendered navs/faq.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 4.3ms | Allocations: 1778)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 21.3ms | Allocations: 9545)
Completed 200 OK in 27ms (Views: 21.7ms | ActiveRecord: 0.3ms | Allocations: 10513)


Started GET "/shopper" for 127.0.0.1 at 2023-11-20 12:44:14 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 12.8ms | Allocations: 4121)
  [1m[36mLineitem Load (0.3ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 5.6ms | Allocations: 1750)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 31.4ms | Allocations: 13466)
Completed 200 OK in 35ms (Views: 31.5ms | ActiveRecord: 0.6ms | Allocations: 14472)


Started POST "/lineitems?product_id=3" for 127.0.0.1 at 2023-11-20 12:44:16 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:27:in `create'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 2], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:32:in `block in create'
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:32:in `block in create'
  [1m[36mLineitem Create (0.2ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 3], ["cart_id", 2], ["created_at", "2023-11-20 20:44:16.170481"], ["updated_at", "2023-11-20 20:44:16.170481"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:32:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:32:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 5.4ms | Allocations: 1899)
  Rendered lineitems/create.js.erb (Duration: 6.0ms | Allocations: 2064)
Completed 200 OK in 19ms (Views: 6.5ms | ActiveRecord: 2.6ms | Allocations: 7124)


Started GET "/orders/new" for 127.0.0.1 at 2023-11-20 12:44:29 -0800
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "lineitems" WHERE "lineitems"."cart_id" = ? LIMIT ?[0m  [["cart_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:18:in `new'
  Rendering layout layouts/application.html.erb
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 1.6ms | Allocations: 948)
  Rendered orders/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1020)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 6.9ms | Allocations: 2473)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 18.7ms | Allocations: 11231)
Completed 200 OK in 24ms (Views: 18.7ms | ActiveRecord: 1.0ms | Allocations: 12865)


Started POST "/orders" for 127.0.0.1 at 2023-11-20 12:44:39 -0800
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "order"=>{"name"=>"aaa", "address"=>"aaa", "email"=>"aaa", "paytype"=>"Check"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mOrder Create (1.0ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "paytype", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "aaa"], ["address", "aaa"], ["email", "aaa"], ["paytype", "Check"], ["created_at", "2023-11-20 20:44:39.111906"], ["updated_at", "2023-11-20 20:44:39.111906"]]
  ↳ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineitem Load (0.8ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineitem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 4]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineitem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 5]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 17ms (ActiveRecord: 3.4ms | Allocations: 7068)


Started GET "/" for 127.0.0.1 at 2023-11-20 12:44:39 -0800
Processing by ShopperController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2023-11-20 20:44:39.143264"], ["updated_at", "2023-11-20 20:44:39.143264"]]
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 7.6ms | Allocations: 4126)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.6ms | Allocations: 965)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 20.5ms | Allocations: 12691)
Completed 200 OK in 27ms (Views: 21.2ms | ActiveRecord: 1.8ms | Allocations: 15400)


Started GET "/orders" for 127.0.0.1 at 2023-11-20 12:44:42 -0800
Processing by OrdersController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:19
  Rendered orders/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 822)
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.7ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 18.1ms | Allocations: 9518)
Completed 200 OK in 24ms (Views: 18.9ms | ActiveRecord: 0.5ms | Allocations: 10518)


Started GET "/orders/2/edit" for 127.0.0.1 at 2023-11-20 12:44:45 -0800
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:72:in `set_order'
  Rendering layout layouts/application.html.erb
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.9ms | Allocations: 978)
  Rendered orders/edit.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1080)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.8ms | Allocations: 954)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 18.7ms | Allocations: 9768)
Completed 200 OK in 23ms (Views: 19.2ms | ActiveRecord: 0.3ms | Allocations: 11249)


Started GET "/orders" for 127.0.0.1 at 2023-11-20 12:44:47 -0800
Processing by OrdersController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:19
  Rendered orders/index.html.erb within layouts/application (Duration: 1.5ms | Allocations: 822)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.8ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 17.2ms | Allocations: 9518)
Completed 200 OK in 21ms (Views: 17.7ms | ActiveRecord: 0.3ms | Allocations: 10518)


Started GET "/orders/2" for 127.0.0.1 at 2023-11-20 12:44:49 -0800
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:72:in `set_order'
  Rendering layout layouts/application.html.erb
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (Duration: 0.3ms | Allocations: 89)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.4ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 17.7ms | Allocations: 8831)
Completed 200 OK in 23ms (Views: 18.7ms | ActiveRecord: 0.4ms | Allocations: 10299)


Started GET "/orders" for 127.0.0.1 at 2023-11-20 12:44:52 -0800
Processing by OrdersController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:19
  Rendered orders/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 822)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 7.6ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 23.0ms | Allocations: 9581)
Completed 200 OK in 26ms (Views: 23.2ms | ActiveRecord: 0.3ms | Allocations: 10582)


Started GET "/shopper" for 127.0.0.1 at 2023-11-20 12:46:10 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 12.2ms | Allocations: 4121)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.5ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 26.6ms | Allocations: 12663)
Completed 200 OK in 30ms (Views: 27.1ms | ActiveRecord: 0.3ms | Allocations: 13663)


Started POST "/lineitems?product_id=1" for 127.0.0.1 at 2023-11-20 12:46:12 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:27:in `create'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 3], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:32:in `block in create'
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:32:in `block in create'
  [1m[36mLineitem Create (0.3ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 1], ["cart_id", 3], ["created_at", "2023-11-20 20:46:12.077271"], ["updated_at", "2023-11-20 20:46:12.077271"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:32:in `block in create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:32:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.8ms | Allocations: 1097)
  Rendered lineitems/create.js.erb (Duration: 3.2ms | Allocations: 1250)
Completed 200 OK in 18ms (Views: 3.6ms | ActiveRecord: 3.1ms | Allocations: 6315)


Started GET "/orders/new" for 127.0.0.1 at 2023-11-20 12:46:28 -0800
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "lineitems" WHERE "lineitems"."cart_id" = ? LIMIT ?[0m  [["cart_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:18:in `new'
  Rendering layout layouts/application.html.erb
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 1.6ms | Allocations: 948)
  Rendered orders/new.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1020)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 3.7ms | Allocations: 1672)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 18.2ms | Allocations: 10430)
Completed 200 OK in 23ms (Views: 18.7ms | ActiveRecord: 0.5ms | Allocations: 12065)


Started GET "/" for 127.0.0.1 at 2023-11-21 12:50:50 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 148.1ms | Allocations: 90037)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 53.8ms | Allocations: 65950)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 264.2ms | Allocations: 194601)
Completed 200 OK in 415ms (Views: 271.2ms | ActiveRecord: 5.9ms | Allocations: 270108)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 12:51:02 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 9.3ms | Allocations: 4114)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 3.8ms | Allocations: 1753)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 28.0ms | Allocations: 13462)
Completed 200 OK in 31ms (Views: 28.7ms | ActiveRecord: 0.4ms | Allocations: 14483)


Started GET "/navs/faq" for 127.0.0.1 at 2023-11-21 12:51:03 -0800
Processing by NavsController#faq as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/faq.html.erb within layouts/application
  Rendered navs/faq.html.erb within layouts/application (Duration: 0.9ms | Allocations: 136)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 5.3ms | Allocations: 1780)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 18.2ms | Allocations: 9677)
Completed 200 OK in 23ms (Views: 19.3ms | ActiveRecord: 0.4ms | Allocations: 10876)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 12:51:05 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 8.9ms | Allocations: 4113)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 4.4ms | Allocations: 1751)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 27.4ms | Allocations: 13460)
Completed 200 OK in 30ms (Views: 27.5ms | ActiveRecord: 0.5ms | Allocations: 14482)


Started GET "/navs/contact" for 127.0.0.1 at 2023-11-21 12:51:06 -0800
Processing by NavsController#contact as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/contact.html.erb within layouts/application
  Rendered navs/contact.html.erb within layouts/application (Duration: 0.8ms | Allocations: 103)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 4.3ms | Allocations: 1779)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 17.2ms | Allocations: 9633)
Completed 200 OK in 24ms (Views: 17.7ms | ActiveRecord: 0.3ms | Allocations: 10689)


Started GET "/search/index" for 127.0.0.1 at 2023-11-21 12:51:07 -0800
Processing by SearchController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering search/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name like '%%' and description like '%%' and price like '%%') ORDER BY "products"."name" ASC[0m
  ↳ app/views/search/index.html.erb:29
  Rendered search/index.html.erb within layouts/application (Duration: 66.0ms | Allocations: 6282)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 4.1ms | Allocations: 1758)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 84.3ms | Allocations: 15701)
Completed 200 OK in 116ms (Views: 99.8ms | ActiveRecord: 0.5ms | Allocations: 16883)


Started GET "/products" for 127.0.0.1 at 2023-11-21 12:51:12 -0800
Processing by ProductsController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (Duration: 7.2ms | Allocations: 3693)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 3.4ms | Allocations: 1750)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 23.8ms | Allocations: 13058)
Completed 200 OK in 29ms (Views: 24.7ms | ActiveRecord: 0.8ms | Allocations: 14298)


Started GET "/products" for 127.0.0.1 at 2023-11-21 12:51:24 -0800
Processing by ProductsController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (Duration: 10.8ms | Allocations: 7023)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 14.2ms | Allocations: 12779)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 53.3ms | Allocations: 44559)
Completed 200 OK in 71ms (Views: 54.1ms | ActiveRecord: 4.0ms | Allocations: 52816)


Started GET "/products" for 127.0.0.1 at 2023-11-21 12:51:26 -0800
Processing by ProductsController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (Duration: 6.1ms | Allocations: 3208)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 4.2ms | Allocations: 1752)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 20.8ms | Allocations: 12566)
Completed 200 OK in 24ms (Views: 21.2ms | ActiveRecord: 0.5ms | Allocations: 13562)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 12:51:27 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 11.5ms | Allocations: 4473)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 4.7ms | Allocations: 1750)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 27.3ms | Allocations: 13823)
Completed 200 OK in 32ms (Views: 28.2ms | ActiveRecord: 0.9ms | Allocations: 15043)


Started POST "/lineitems?product_id=1" for 127.0.0.1 at 2023-11-21 12:51:57 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:27:in `create'
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 3], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:32:in `block in create'
  [1m[36mLineitem Update (4.2ms)[0m  [1m[33mUPDATE "lineitems" SET "updated_at" = ?, "quantity" = ? WHERE "lineitems"."id" = ?[0m  [["updated_at", "2023-11-21 20:51:57.904685"], ["quantity", 2], ["id", 6]]
  ↳ app/controllers/lineitems_controller.rb:32:in `block in create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:32:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 11.5ms | Allocations: 1693)
  Rendered lineitems/create.js.erb (Duration: 12.4ms | Allocations: 1965)
Completed 200 OK in 51ms (Views: 30.3ms | ActiveRecord: 5.9ms | Allocations: 8267)


Started POST "/lineitems?product_id=4" for 127.0.0.1 at 2023-11-21 12:52:01 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:27:in `create'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 3], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:32:in `block in create'
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:32:in `block in create'
  [1m[36mLineitem Create (0.3ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 4], ["cart_id", 3], ["created_at", "2023-11-21 20:52:01.972723"], ["updated_at", "2023-11-21 20:52:01.972723"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:32:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:32:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 5.2ms | Allocations: 1908)
  Rendered lineitems/create.js.erb (Duration: 5.5ms | Allocations: 2073)
Completed 200 OK in 21ms (Views: 5.9ms | ActiveRecord: 2.6ms | Allocations: 7874)


Started DELETE "/carts/3" for 127.0.0.1 at 2023-11-21 12:52:07 -0800
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineitem Load (18.6ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineitem Destroy (0.6ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 6]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineitem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 7]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 3]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 53ms (ActiveRecord: 19.9ms | Allocations: 4938)


Started GET "/" for 127.0.0.1 at 2023-11-21 12:52:07 -0800
Processing by ShopperController#index as HTML
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (0.9ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2023-11-21 20:52:07.937485"], ["updated_at", "2023-11-21 20:52:07.937485"]]
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 9.9ms | Allocations: 4128)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.5ms | Allocations: 968)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 22.5ms | Allocations: 12758)
Completed 200 OK in 28ms (Views: 22.8ms | ActiveRecord: 1.4ms | Allocations: 15643)


Started GET "/search/index" for 127.0.0.1 at 2023-11-21 12:52:10 -0800
Processing by SearchController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering search/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name like '%%' and description like '%%' and price like '%%') ORDER BY "products"."name" ASC[0m
  ↳ app/views/search/index.html.erb:29
  Rendered search/index.html.erb within layouts/application (Duration: 14.1ms | Allocations: 6151)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.3ms | Allocations: 955)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 30.4ms | Allocations: 14701)
Completed 200 OK in 36ms (Views: 32.3ms | ActiveRecord: 0.4ms | Allocations: 15875)


Started POST "/search/index" for 127.0.0.1 at 2023-11-21 12:52:15 -0800
Processing by SearchController#index as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"", "description"=>"b", "price"=>"", "commit"=>"Search"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering search/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name like '%%' and description like '%b%' and price like '%%') ORDER BY "products"."name" ASC[0m
  ↳ app/views/search/index.html.erb:29
  Rendered search/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 1964)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.1ms | Allocations: 955)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 17.2ms | Allocations: 10509)
Completed 200 OK in 20ms (Views: 17.4ms | ActiveRecord: 0.5ms | Allocations: 11529)


Started GET "/search/index" for 127.0.0.1 at 2023-11-21 13:00:49 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SearchController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering search/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name like '%%' and description like '%%' and price like '%%') ORDER BY "products"."name" ASC[0m
  ↳ app/views/search/index.html.erb:29
  Rendered search/index.html.erb within layouts/application (Duration: 142.5ms | Allocations: 93289)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 24.5ms | Allocations: 11461)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 259.4ms | Allocations: 143337)
Completed 200 OK in 404ms (Views: 265.9ms | ActiveRecord: 4.2ms | Allocations: 216429)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:00:51 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 9.6ms | Allocations: 4470)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.2ms | Allocations: 950)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 23.7ms | Allocations: 13024)
Completed 200 OK in 28ms (Views: 24.7ms | ActiveRecord: 0.5ms | Allocations: 14261)


Started GET "/products" for 127.0.0.1 at 2023-11-21 13:01:02 -0800
Processing by ProductsController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (Duration: 8.9ms | Allocations: 3693)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.0ms | Allocations: 948)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 21.3ms | Allocations: 12256)
Completed 200 OK in 26ms (Views: 22.4ms | ActiveRecord: 0.5ms | Allocations: 13511)


Started GET "/navs/faq" for 127.0.0.1 at 2023-11-21 13:01:04 -0800
Processing by NavsController#faq as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/faq.html.erb within layouts/application
  Rendered navs/faq.html.erb within layouts/application (Duration: 0.5ms | Allocations: 136)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.4ms | Allocations: 977)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 15.0ms | Allocations: 8874)
Completed 200 OK in 19ms (Views: 16.1ms | ActiveRecord: 0.2ms | Allocations: 10075)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:01:05 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 11.3ms | Allocations: 4113)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.1ms | Allocations: 948)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 44.8ms | Allocations: 12657)
Completed 200 OK in 48ms (Views: 45.1ms | ActiveRecord: 0.4ms | Allocations: 13655)


Started GET "/navs/faq" for 127.0.0.1 at 2023-11-21 13:01:05 -0800
Processing by NavsController#faq as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/faq.html.erb within layouts/application
  Rendered navs/faq.html.erb within layouts/application (Duration: 0.1ms | Allocations: 7)
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.1ms | Allocations: 975)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 16.4ms | Allocations: 8733)
Completed 200 OK in 19ms (Views: 16.9ms | ActiveRecord: 0.3ms | Allocations: 9692)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:01:08 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 9.6ms | Allocations: 4113)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.5ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 30.9ms | Allocations: 12655)
Completed 200 OK in 34ms (Views: 31.2ms | ActiveRecord: 0.4ms | Allocations: 13655)


Started POST "/lineitems?product_id=1" for 127.0.0.1 at 2023-11-21 13:01:14 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:27:in `create'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 4], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:32:in `block in create'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:32:in `block in create'
  [1m[36mLineitem Create (0.2ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 1], ["cart_id", 4], ["created_at", "2023-11-21 21:01:14.441298"], ["updated_at", "2023-11-21 21:01:14.441298"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:32:in `block in create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:32:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.6ms | Allocations: 1134)
  Rendered lineitems/create.js.erb (Duration: 3.3ms | Allocations: 1408)
Completed 200 OK in 40ms (Views: 4.9ms | ActiveRecord: 2.2ms | Allocations: 62523)


Started POST "/lineitems?product_id=3" for 127.0.0.1 at 2023-11-21 13:01:16 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:27:in `create'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 4], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:32:in `block in create'
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:32:in `block in create'
  [1m[36mLineitem Create (0.2ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 3], ["cart_id", 4], ["created_at", "2023-11-21 21:01:16.118613"], ["updated_at", "2023-11-21 21:01:16.118613"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:32:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:32:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 4.0ms | Allocations: 1910)
  Rendered lineitems/create.js.erb (Duration: 4.3ms | Allocations: 2075)
Completed 200 OK in 16ms (Views: 4.6ms | ActiveRecord: 2.0ms | Allocations: 7148)


Started GET "/orders/new" for 127.0.0.1 at 2023-11-21 13:01:18 -0800
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "lineitems" WHERE "lineitems"."cart_id" = ? LIMIT ?[0m  [["cart_id", 4], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:18:in `new'
  Rendering layout layouts/application.html.erb
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 10.7ms | Allocations: 2916)
  Rendered orders/new.html.erb within layouts/application (Duration: 11.9ms | Allocations: 3207)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 5.3ms | Allocations: 2477)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 26.4ms | Allocations: 13498)
Completed 200 OK in 49ms (Views: 27.1ms | ActiveRecord: 0.8ms | Allocations: 56841)


Started POST "/orders" for 127.0.0.1 at 2023-11-21 13:01:26 -0800
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "order"=>{"name"=>"aaa", "address"=>"aaa", "email"=>"aaa", "paytype"=>"Check"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mOrder Create (1.3ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "paytype", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "aaa"], ["address", "aaa"], ["email", "aaa"], ["paytype", "Check"], ["created_at", "2023-11-21 21:01:26.684489"], ["updated_at", "2023-11-21 21:01:26.684489"]]
  ↳ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineitem Load (1.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineitem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 8]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineitem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 9]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 4]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 17ms (ActiveRecord: 3.6ms | Allocations: 7572)


Started GET "/" for 127.0.0.1 at 2023-11-21 13:01:26 -0800
Processing by ShopperController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2023-11-21 21:01:26.715265"], ["updated_at", "2023-11-21 21:01:26.715265"]]
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 8.6ms | Allocations: 4127)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 5]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.1ms | Allocations: 965)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 21.6ms | Allocations: 12692)
Completed 200 OK in 27ms (Views: 22.2ms | ActiveRecord: 1.5ms | Allocations: 15536)


Started GET "/users" for 127.0.0.1 at 2023-11-21 13:01:29 -0800
Processing by UsersController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  ↳ app/views/users/index.html.erb:19
  Rendered users/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1115)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 5]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.6ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 17.1ms | Allocations: 9820)
Completed 200 OK in 22ms (Views: 18.2ms | ActiveRecord: 0.4ms | Allocations: 11088)


Started GET "/users" for 127.0.0.1 at 2023-11-21 13:01:30 -0800
Processing by UsersController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  ↳ app/views/users/index.html.erb:19
  Rendered users/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 696)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 5]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.1ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 14.8ms | Allocations: 9392)
Completed 200 OK in 17ms (Views: 15.2ms | ActiveRecord: 0.3ms | Allocations: 10399)


Started GET "/products" for 127.0.0.1 at 2023-11-21 13:01:31 -0800
Processing by ProductsController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (Duration: 8.3ms | Allocations: 3207)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 5]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 1.9ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 22.6ms | Allocations: 11760)
Completed 200 OK in 28ms (Views: 24.3ms | ActiveRecord: 0.3ms | Allocations: 12754)


Started GET "/products/1" for 127.0.0.1 at 2023-11-21 13:01:33 -0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:65:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 2.1ms | Allocations: 396)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 5]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 1.7ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 16.5ms | Allocations: 9088)
Completed 200 OK in 22ms (Views: 17.5ms | ActiveRecord: 0.3ms | Allocations: 10651)


Started GET "/products" for 127.0.0.1 at 2023-11-21 13:01:35 -0800
Processing by ProductsController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (Duration: 6.8ms | Allocations: 3207)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 5]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.4ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 45.1ms | Allocations: 11760)
Completed 200 OK in 48ms (Views: 45.6ms | ActiveRecord: 0.3ms | Allocations: 12742)


Started GET "/products/1/edit" for 127.0.0.1 at 2023-11-21 13:01:37 -0800
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:65:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 4.9ms | Allocations: 1629)
  Rendered products/edit.html.erb within layouts/application (Duration: 7.8ms | Allocations: 1953)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 5]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.0ms | Allocations: 954)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 22.1ms | Allocations: 10641)
Completed 200 OK in 28ms (Views: 22.8ms | ActiveRecord: 0.3ms | Allocations: 12177)


Started GET "/products" for 127.0.0.1 at 2023-11-21 13:01:38 -0800
Processing by ProductsController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (Duration: 17.8ms | Allocations: 3216)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 5]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.8ms | Allocations: 947)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 37.4ms | Allocations: 11831)
Completed 200 OK in 40ms (Views: 37.6ms | ActiveRecord: 0.5ms | Allocations: 12824)


Started GET "/products/2" for 127.0.0.1 at 2023-11-21 13:01:39 -0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:65:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 0.9ms | Allocations: 90)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 5]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.1ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 17.0ms | Allocations: 8782)
Completed 200 OK in 22ms (Views: 18.0ms | ActiveRecord: 0.5ms | Allocations: 10257)


Started GET "/products" for 127.0.0.1 at 2023-11-21 13:01:41 -0800
Processing by ProductsController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (Duration: 8.8ms | Allocations: 3207)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 5]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.8ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 28.7ms | Allocations: 11760)
Completed 200 OK in 32ms (Views: 29.3ms | ActiveRecord: 0.3ms | Allocations: 12757)


Started DELETE "/products/4" for 127.0.0.1 at 2023-11-21 13:01:51 -0800
Processing by ProductsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:65:in `set_product'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/concerns/product.rb:12:in `make_sure_no_line_items'
  [1m[36mLineitem Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "lineitems" WHERE "lineitems"."product_id" = ? LIMIT ?[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/concerns/product.rb:12:in `make_sure_no_line_items'
  [1m[36mProduct Destroy (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 4]]
  ↳ app/controllers/products_controller.rb:54:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:54:in `destroy'
Redirected to http://127.0.0.1:3000/products
Completed 302 Found in 9ms (ActiveRecord: 1.3ms | Allocations: 4139)


Started GET "/products" for 127.0.0.1 at 2023-11-21 13:01:51 -0800
Processing by ProductsController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (Duration: 6.0ms | Allocations: 2597)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 5]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.2ms | Allocations: 951)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 18.4ms | Allocations: 11154)
Completed 200 OK in 21ms (Views: 18.9ms | ActiveRecord: 0.3ms | Allocations: 12168)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:01:54 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 3270)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 5]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.3ms | Allocations: 947)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 20.5ms | Allocations: 11812)
Completed 200 OK in 24ms (Views: 20.9ms | ActiveRecord: 0.4ms | Allocations: 12820)


  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CombineItemsInCart (20231202194517)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.8ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20231202194517'[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:02:23 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate

You have 1 pending migration:

db/migrate/20231202194517_combine_items_in_cart.rb


):
  
activerecord (7.1.2) lib/active_record/migration.rb:754:in `check_pending_migrations'
activerecord (7.1.2) lib/active_record/migration.rb:643:in `block (2 levels) in call'
activesupport (7.1.2) lib/active_support/file_update_checker.rb:85:in `execute'
activerecord (7.1.2) lib/active_record/migration.rb:648:in `block in call'
activerecord (7.1.2) lib/active_record/migration.rb:640:in `synchronize'
activerecord (7.1.2) lib/active_record/migration.rb:640:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.2) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.2) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.2) lib/active_support/tagged_logging.rb:135:in `block in tagged'
activesupport (7.1.2) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.2) lib/active_support/tagged_logging.rb:135:in `tagged'
activesupport (7.1.2) lib/active_support/broadcast_logger.rb:240:in `method_missing'
railties (7.1.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.0.8) lib/rack/method_override.rb:28:in `call'
rack (3.0.8) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.2) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.2) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.0.8) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.2) lib/rails/engine.rb:529:in `call'
puma (6.4.0) lib/puma/configuration.rb:272:in `call'
puma (6.4.0) lib/puma/request.rb:100:in `block in handle_request'
puma (6.4.0) lib/puma/thread_pool.rb:378:in `with_force_shutdown'
puma (6.4.0) lib/puma/request.rb:99:in `handle_request'
puma (6.4.0) lib/puma/server.rb:443:in `process_client'
puma (6.4.0) lib/puma/server.rb:241:in `block in run'
puma (6.4.0) lib/puma/thread_pool.rb:155:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2023-11-21 13:02:25 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate

You have 1 pending migration:

db/migrate/20231202194517_combine_items_in_cart.rb


):
  
activerecord (7.1.2) lib/active_record/migration.rb:754:in `check_pending_migrations'
activerecord (7.1.2) lib/active_record/migration.rb:643:in `block (2 levels) in call'
activesupport (7.1.2) lib/active_support/file_update_checker.rb:85:in `execute'
activerecord (7.1.2) lib/active_record/migration.rb:648:in `block in call'
activerecord (7.1.2) lib/active_record/migration.rb:640:in `synchronize'
activerecord (7.1.2) lib/active_record/migration.rb:640:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.2) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.2) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.2) lib/active_support/tagged_logging.rb:135:in `block in tagged'
activesupport (7.1.2) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.2) lib/active_support/tagged_logging.rb:135:in `tagged'
activesupport (7.1.2) lib/active_support/broadcast_logger.rb:240:in `method_missing'
railties (7.1.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.0.8) lib/rack/method_override.rb:28:in `call'
rack (3.0.8) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.2) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.2) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.0.8) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.2) lib/rails/engine.rb:529:in `call'
puma (6.4.0) lib/puma/configuration.rb:272:in `call'
puma (6.4.0) lib/puma/request.rb:100:in `block in handle_request'
puma (6.4.0) lib/puma/thread_pool.rb:378:in `with_force_shutdown'
puma (6.4.0) lib/puma/request.rb:99:in `handle_request'
puma (6.4.0) lib/puma/server.rb:443:in `process_client'
puma (6.4.0) lib/puma/server.rb:241:in `block in run'
puma (6.4.0) lib/puma/thread_pool.rb:155:in `block in spawn_thread'
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CombineItemsInCart (20231202194517)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231202194517') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:02:38 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 86.7ms | Allocations: 88570)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 5]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 19.3ms | Allocations: 11449)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 148.4ms | Allocations: 138633)
Completed 200 OK in 264ms (Views: 150.5ms | ActiveRecord: 4.2ms | Allocations: 214168)


  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2023-11-21 21:03:08.193828', '2023-11-21 21:03:08.193831') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCarts (20231119184715)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231119184715') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateLineitems (20231119185005)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "lineitems" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_774d1bb2b6"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_733d199599"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_lineitems_on_product_id" ON "lineitems" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_lineitems_on_cart_id" ON "lineitems" ("cart_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231119185005') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddQuantityToLineitems (20231119202423)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.6ms)[0m  [1m[35mALTER TABLE "lineitems" ADD "quantity" integer DEFAULT 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231119202423') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProducts (20231201183750)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" text, "image" varchar, "price" decimal, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231201183750') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateOrders (20231201192417)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "address" text, "email" varchar, "paytype" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231201192417') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddOrderToLineitems (20231201192708)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "lineitems" ADD "order_id" integer[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_lineitems_on_order_id" ON "lineitems" ("order_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "alineitems" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_alineitems_on_order_id" ON "alineitems" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_alineitems_on_cart_id" ON "alineitems" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_alineitems_on_product_id" ON "alineitems" ("product_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "alineitems" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "lineitems"[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "lineitems"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "lineitems" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_733d199599"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_774d1bb2b6"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_c468018124"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_lineitems_on_product_id" ON "lineitems" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_lineitems_on_cart_id" ON "lineitems" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_lineitems_on_order_id" ON "lineitems" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "lineitems" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "alineitems"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "alineitems"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231201192708') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateUsers (20231202192955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231202192955') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CombineItemsInCart (20231202194517)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231202194517') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Apple Watch"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Apple Watch"], ["description", "best product for health"], ["image", "applewatch.jpeg"], ["price", 100.55], ["created_at", "2023-11-21 21:03:16.827582"], ["updated_at", "2023-11-21 21:03:16.827582"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Macbook Air"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Macbook Air"], ["description", "an apple laptop"], ["image", "macbook.jpeg"], ["price", 250.55], ["created_at", "2023-11-21 21:03:16.831640"], ["updated_at", "2023-11-21 21:03:16.831640"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Ipad Air"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Ipad Air"], ["description", "a useful tool"], ["image", "ipad.jpeg"], ["price", 100.55], ["created_at", "2023-11-21 21:03:16.834649"], ["updated_at", "2023-11-21 21:03:16.834649"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Iphone 13"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Iphone 13"], ["description", "must have product"], ["image", "iPhone.jpeg"], ["price", 200.55], ["created_at", "2023-11-21 21:03:16.837573"], ["updated_at", "2023-11-21 21:03:16.837573"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Delete All (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["name", "admin"], ["password_digest", "[FILTERED]"], ["created_at", "2023-11-21 21:03:16.858232"], ["updated_at", "2023-11-21 21:03:16.858232"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? AND "users"."id" != ? LIMIT ?[0m  [["name", "admin"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-11-21 21:03:17.103784"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-11-21 13:03:29 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2023-11-21 21:03:30.152330"], ["updated_at", "2023-11-21 21:03:30.152330"]]
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 81.3ms | Allocations: 89781)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 18.5ms | Allocations: 11441)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 140.6ms | Allocations: 139836)
Completed 200 OK in 263ms (Views: 143.6ms | ActiveRecord: 6.5ms | Allocations: 218415)


Started GET "/navs/faq" for 127.0.0.1 at 2023-11-21 13:03:33 -0800
Processing by NavsController#faq as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/faq.html.erb within layouts/application
  Rendered navs/faq.html.erb within layouts/application (Duration: 0.8ms | Allocations: 136)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.5ms | Allocations: 994)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 15.6ms | Allocations: 8897)
Completed 200 OK in 21ms (Views: 17.3ms | ActiveRecord: 0.4ms | Allocations: 10112)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:22:04 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 11.8ms | Allocations: 4114)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.6ms | Allocations: 948)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 29.4ms | Allocations: 12658)
Completed 200 OK in 33ms (Views: 30.0ms | ActiveRecord: 0.4ms | Allocations: 13669)


Started GET "/search/index" for 127.0.0.1 at 2023-11-21 13:26:09 -0800
Processing by SearchController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering search/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name like '%%' and description like '%%' and price like '%%') ORDER BY "products"."name" ASC[0m
  ↳ app/views/search/index.html.erb:29
  Rendered search/index.html.erb within layouts/application (Duration: 15.5ms | Allocations: 6274)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.6ms | Allocations: 956)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 30.9ms | Allocations: 14829)
Completed 200 OK in 38ms (Views: 32.2ms | ActiveRecord: 0.5ms | Allocations: 16022)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:29:50 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 20.3ms | Allocations: 4113)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.2ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 51.2ms | Allocations: 12655)
Completed 200 OK in 56ms (Views: 50.9ms | ActiveRecord: 1.7ms | Allocations: 13665)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:32:32 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 12.0ms | Allocations: 7481)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 10.8ms | Allocations: 7297)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 61.3ms | Allocations: 39522)
Completed 200 OK in 87ms (Views: 63.2ms | ActiveRecord: 4.2ms | Allocations: 48168)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:32:34 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 9.9ms | Allocations: 4114)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.6ms | Allocations: 949)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 25.7ms | Allocations: 12659)
Completed 200 OK in 29ms (Views: 26.8ms | ActiveRecord: 0.4ms | Allocations: 13655)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:32:49 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 10.9ms | Allocations: 7469)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 9.1ms | Allocations: 7292)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 45.2ms | Allocations: 39414)
Completed 200 OK in 61ms (Views: 46.1ms | ActiveRecord: 4.2ms | Allocations: 48030)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:32:50 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 8.9ms | Allocations: 4115)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.3ms | Allocations: 949)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 24.5ms | Allocations: 12668)
Completed 200 OK in 28ms (Views: 25.1ms | ActiveRecord: 0.3ms | Allocations: 13655)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:33:08 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 52.0ms | Allocations: 7485)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 8.3ms | Allocations: 7303)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 89.6ms | Allocations: 39527)
Completed 200 OK in 105ms (Views: 90.5ms | ActiveRecord: 4.4ms | Allocations: 48152)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:34:13 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 18.8ms | Allocations: 7489)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 11.3ms | Allocations: 7297)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 60.0ms | Allocations: 39530)
Completed 200 OK in 75ms (Views: 60.9ms | ActiveRecord: 4.1ms | Allocations: 48083)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:34:54 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 12.5ms | Allocations: 7473)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 9.0ms | Allocations: 7292)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 48.3ms | Allocations: 39504)
Completed 200 OK in 64ms (Views: 49.3ms | ActiveRecord: 4.2ms | Allocations: 48068)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:34:56 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 8.9ms | Allocations: 4114)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.9ms | Allocations: 949)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 25.4ms | Allocations: 12658)
Completed 200 OK in 29ms (Views: 25.8ms | ActiveRecord: 0.3ms | Allocations: 13646)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:36:32 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 12.8ms | Allocations: 7475)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 38.4ms | Allocations: 7257)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 289.4ms | Allocations: 56380)
Completed 200 OK in 304ms (Views: 289.5ms | ActiveRecord: 4.3ms | Allocations: 65005)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:36:34 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 9.7ms | Allocations: 4114)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.2ms | Allocations: 949)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 23.6ms | Allocations: 12666)
Completed 200 OK in 27ms (Views: 24.1ms | ActiveRecord: 0.4ms | Allocations: 13663)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:36:40 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 7.4ms | Allocations: 4113)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.2ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 52.7ms | Allocations: 26550)
Completed 200 OK in 55ms (Views: 53.1ms | ActiveRecord: 0.3ms | Allocations: 27552)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:37:10 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 11.2ms | Allocations: 7479)
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 9.0ms | Allocations: 7256)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 48.2ms | Allocations: 40114)
Completed 200 OK in 63ms (Views: 48.7ms | ActiveRecord: 4.9ms | Allocations: 48740)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:37:46 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 8.1ms | Allocations: 4114)
  [1m[36mLineitem Load (0.5ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.5ms | Allocations: 949)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 48.8ms | Allocations: 23977)
Completed 200 OK in 51ms (Views: 49.2ms | ActiveRecord: 0.3ms | Allocations: 24973)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:37:56 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 6.3ms | Allocations: 4121)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.3ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 46.5ms | Allocations: 26511)
Completed 200 OK in 49ms (Views: 46.9ms | ActiveRecord: 0.3ms | Allocations: 27511)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:38:35 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 8.1ms | Allocations: 4113)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.5ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 73.7ms | Allocations: 25544)
Completed 200 OK in 82ms (Views: 75.3ms | ActiveRecord: 0.3ms | Allocations: 26525)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:38:36 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 9.7ms | Allocations: 4118)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.4ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 22.5ms | Allocations: 12697)
Completed 200 OK in 26ms (Views: 22.9ms | ActiveRecord: 0.4ms | Allocations: 13699)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:38:42 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 6.7ms | Allocations: 4113)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.0ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 53.2ms | Allocations: 26054)
Completed 200 OK in 56ms (Views: 54.0ms | ActiveRecord: 0.3ms | Allocations: 27047)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:38:43 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 7.6ms | Allocations: 4114)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.1ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 20.7ms | Allocations: 12665)
Completed 200 OK in 24ms (Views: 21.4ms | ActiveRecord: 0.3ms | Allocations: 13661)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:39:07 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 7.8ms | Allocations: 4113)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.8ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 61.5ms | Allocations: 26490)
Completed 200 OK in 65ms (Views: 61.9ms | ActiveRecord: 0.4ms | Allocations: 27491)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:39:08 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 7.5ms | Allocations: 4118)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.1ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 19.3ms | Allocations: 12698)
Completed 200 OK in 22ms (Views: 19.7ms | ActiveRecord: 0.4ms | Allocations: 13685)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:39:58 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 9.3ms | Allocations: 4113)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.0ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 59.7ms | Allocations: 24995)
Completed 200 OK in 63ms (Views: 60.4ms | ActiveRecord: 0.3ms | Allocations: 25998)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:40:39 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 6.4ms | Allocations: 4114)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.0ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 47.3ms | Allocations: 26502)
Completed 200 OK in 51ms (Views: 47.8ms | ActiveRecord: 0.4ms | Allocations: 27501)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:40:46 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 8.1ms | Allocations: 4115)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.2ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 47.6ms | Allocations: 25073)
Completed 200 OK in 51ms (Views: 48.1ms | ActiveRecord: 0.3ms | Allocations: 26070)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:40:56 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 7.1ms | Allocations: 4116)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.2ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 49.4ms | Allocations: 26511)
Completed 200 OK in 53ms (Views: 50.0ms | ActiveRecord: 0.4ms | Allocations: 27518)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:41:21 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 6.5ms | Allocations: 4115)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 1.8ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 45.0ms | Allocations: 25483)
Completed 200 OK in 48ms (Views: 45.4ms | ActiveRecord: 0.3ms | Allocations: 26474)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:41:23 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 8.9ms | Allocations: 4113)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.2ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 21.5ms | Allocations: 12664)
Completed 200 OK in 24ms (Views: 21.9ms | ActiveRecord: 0.3ms | Allocations: 13662)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:41:36 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 6.6ms | Allocations: 4114)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.2ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 44.6ms | Allocations: 24517)
Completed 200 OK in 48ms (Views: 44.9ms | ActiveRecord: 0.3ms | Allocations: 25510)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:41:48 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 6.3ms | Allocations: 4121)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.2ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 46.8ms | Allocations: 25099)
Completed 200 OK in 49ms (Views: 47.2ms | ActiveRecord: 0.3ms | Allocations: 26101)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:41:57 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 8.8ms | Allocations: 4114)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.1ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 48.3ms | Allocations: 25938)
Completed 200 OK in 51ms (Views: 48.9ms | ActiveRecord: 0.3ms | Allocations: 26943)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:41:58 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 40.3ms | Allocations: 4114)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.7ms | Allocations: 947)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 59.9ms | Allocations: 12673)
Completed 200 OK in 63ms (Views: 59.6ms | ActiveRecord: 0.9ms | Allocations: 13676)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:41:59 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 10.0ms | Allocations: 4113)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.3ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 24.2ms | Allocations: 12692)
Completed 200 OK in 27ms (Views: 24.5ms | ActiveRecord: 0.4ms | Allocations: 13691)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:42:09 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 8.0ms | Allocations: 4121)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.1ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 49.1ms | Allocations: 25594)
Completed 200 OK in 52ms (Views: 49.8ms | ActiveRecord: 0.4ms | Allocations: 26592)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:42:15 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 8.5ms | Allocations: 4114)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.0ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 48.3ms | Allocations: 26459)
Completed 200 OK in 52ms (Views: 48.6ms | ActiveRecord: 0.4ms | Allocations: 27464)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:42:50 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 7.7ms | Allocations: 4114)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.1ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 47.1ms | Allocations: 26521)
Completed 200 OK in 51ms (Views: 47.5ms | ActiveRecord: 0.3ms | Allocations: 27519)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:43:00 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 9.0ms | Allocations: 4121)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 1.8ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 48.8ms | Allocations: 25508)
Completed 200 OK in 52ms (Views: 49.2ms | ActiveRecord: 0.3ms | Allocations: 26520)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:43:05 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 6.6ms | Allocations: 4117)
  [1m[36mLineitem Load (0.3ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.0ms | Allocations: 947)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 20.0ms | Allocations: 12693)
Completed 200 OK in 23ms (Views: 20.0ms | ActiveRecord: 0.7ms | Allocations: 13692)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:43:08 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 6.4ms | Allocations: 4115)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.1ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 47.0ms | Allocations: 25539)
Completed 200 OK in 49ms (Views: 47.4ms | ActiveRecord: 0.3ms | Allocations: 26537)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:43:19 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 8.2ms | Allocations: 4113)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.2ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 51.9ms | Allocations: 25046)
Completed 200 OK in 54ms (Views: 52.3ms | ActiveRecord: 0.3ms | Allocations: 26035)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:43:34 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 8.1ms | Allocations: 4114)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 1.9ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 21.4ms | Allocations: 12756)
Completed 200 OK in 24ms (Views: 21.8ms | ActiveRecord: 0.3ms | Allocations: 13756)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:44:11 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 7.9ms | Allocations: 4114)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 1.9ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 48.5ms | Allocations: 25511)
Completed 200 OK in 51ms (Views: 48.9ms | ActiveRecord: 0.3ms | Allocations: 26519)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:44:12 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 8.6ms | Allocations: 4114)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 1.9ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 21.8ms | Allocations: 12664)
Completed 200 OK in 24ms (Views: 22.1ms | ActiveRecord: 0.3ms | Allocations: 13663)


Started GET "/users" for 127.0.0.1 at 2023-11-21 13:44:19 -0800
Processing by UsersController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  ↳ app/views/users/index.html.erb:19
  Rendered users/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1127)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 5.2ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 41.4ms | Allocations: 10542)
Completed 200 OK in 47ms (Views: 42.7ms | ActiveRecord: 0.5ms | Allocations: 11813)


Started GET "/navs/news" for 127.0.0.1 at 2023-11-21 13:44:21 -0800
Processing by NavsController#news as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/news.html.erb within layouts/application
  Rendered navs/news.html.erb within layouts/application (Duration: 1.0ms | Allocations: 103)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.0ms | Allocations: 976)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 15.7ms | Allocations: 8840)
Completed 200 OK in 20ms (Views: 16.7ms | ActiveRecord: 0.4ms | Allocations: 10012)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:44:22 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 11.5ms | Allocations: 4122)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.6ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 30.0ms | Allocations: 12664)
Completed 200 OK in 33ms (Views: 30.4ms | ActiveRecord: 0.4ms | Allocations: 13656)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:44:34 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 4113)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.4ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 20.7ms | Allocations: 13417)
Completed 200 OK in 24ms (Views: 21.1ms | ActiveRecord: 0.6ms | Allocations: 14407)


Started GET "/lineitems/" for 127.0.0.1 at 2023-11-21 13:53:45 -0800
Processing by LineitemsController#index as HTML
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering lineitems/index.html.erb within layouts/application
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems"[0m
  ↳ app/views/lineitems/index.html.erb:18
  Rendered lineitems/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1049)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.7ms | Allocations: 2842)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 42.4ms | Allocations: 28527)
Completed 200 OK in 60ms (Views: 44.2ms | ActiveRecord: 2.2ms | Allocations: 38729)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:53:51 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 14.7ms | Allocations: 7274)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.7ms | Allocations: 949)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 28.0ms | Allocations: 15883)
Completed 200 OK in 37ms (Views: 28.6ms | ActiveRecord: 0.7ms | Allocations: 18937)


Started POST "/lineitems?product_id=1" for 127.0.0.1 at 2023-11-21 13:53:53 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:28:in `create'
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 1], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mLineitem Create (0.2ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 1], ["cart_id", 1], ["created_at", "2023-11-21 21:53:53.097868"], ["updated_at", "2023-11-21 21:53:53.097868"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.6ms | Allocations: 1133)
  Rendered lineitems/create.js.erb (Duration: 3.4ms | Allocations: 1401)
Completed 200 OK in 46ms (Views: 4.5ms | ActiveRecord: 2.6ms | Allocations: 61581)


Started GET "/lineitems/" for 127.0.0.1 at 2023-11-21 13:53:59 -0800
Processing by LineitemsController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering lineitems/index.html.erb within layouts/application
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems"[0m
  ↳ app/views/lineitems/index.html.erb:18
  Rendered lineitems/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 715)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 3.7ms | Allocations: 1760)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 16.3ms | Allocations: 10285)
Completed 200 OK in 20ms (Views: 16.9ms | ActiveRecord: 0.6ms | Allocations: 11286)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:54:02 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 10.4ms | Allocations: 4121)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 14.7ms | Allocations: 1750)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 46.3ms | Allocations: 13471)
Completed 200 OK in 51ms (Views: 47.4ms | ActiveRecord: 0.4ms | Allocations: 14455)


Started POST "/lineitems?product_id=3" for 127.0.0.1 at 2023-11-21 13:54:05 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:28:in `create'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 1], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mProduct Load (5.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mLineitem Create (0.3ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 3], ["cart_id", 1], ["created_at", "2023-11-21 21:54:05.659811"], ["updated_at", "2023-11-21 21:54:05.659811"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 13.3ms | Allocations: 1899)
  Rendered lineitems/create.js.erb (Duration: 18.0ms | Allocations: 2064)
Completed 200 OK in 56ms (Views: 18.9ms | ActiveRecord: 7.0ms | Allocations: 7132)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:55:45 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 12.4ms | Allocations: 7478)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 17.3ms | Allocations: 13566)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 56.3ms | Allocations: 45782)
Completed 200 OK in 73ms (Views: 57.0ms | ActiveRecord: 4.8ms | Allocations: 54419)


Started POST "/lineitems?product_id=1" for 127.0.0.1 at 2023-11-21 13:55:47 -0800
  
SyntaxError (/Users/angelahuang/Desktop/COEN 278/COEN278_assignment4_ChingYuehHuang/onlineStore/app/controllers/lineitems_controller.rb:31: syntax error, unexpected '[', expecting literal content or terminator or tSTRING_DBEG or tSTRING_DVAR
...ems.build(product_id: params[:[product_id]])
...                              ^
):
  
app/controllers/lineitems_controller.rb:31: syntax error, unexpected '[', expecting literal content or terminator or tSTRING_DBEG or tSTRING_DVAR
Started POST "/lineitems?product_id=1" for 127.0.0.1 at 2023-11-21 13:55:48 -0800
  
SyntaxError (/Users/angelahuang/Desktop/COEN 278/COEN278_assignment4_ChingYuehHuang/onlineStore/app/controllers/lineitems_controller.rb:31: syntax error, unexpected '[', expecting literal content or terminator or tSTRING_DBEG or tSTRING_DVAR
...ems.build(product_id: params[:[product_id]])
...                              ^
):
  
app/controllers/lineitems_controller.rb:31: syntax error, unexpected '[', expecting literal content or terminator or tSTRING_DBEG or tSTRING_DVAR
Started POST "/lineitems?product_id=1" for 127.0.0.1 at 2023-11-21 13:55:49 -0800
  
SyntaxError (/Users/angelahuang/Desktop/COEN 278/COEN278_assignment4_ChingYuehHuang/onlineStore/app/controllers/lineitems_controller.rb:31: syntax error, unexpected '[', expecting literal content or terminator or tSTRING_DBEG or tSTRING_DVAR
...ems.build(product_id: params[:[product_id]])
...                              ^
):
  
app/controllers/lineitems_controller.rb:31: syntax error, unexpected '[', expecting literal content or terminator or tSTRING_DBEG or tSTRING_DVAR
Started POST "/lineitems?product_id=1" for 127.0.0.1 at 2023-11-21 13:55:49 -0800
  
SyntaxError (/Users/angelahuang/Desktop/COEN 278/COEN278_assignment4_ChingYuehHuang/onlineStore/app/controllers/lineitems_controller.rb:31: syntax error, unexpected '[', expecting literal content or terminator or tSTRING_DBEG or tSTRING_DVAR
...ems.build(product_id: params[:[product_id]])
...                              ^
):
  
app/controllers/lineitems_controller.rb:31: syntax error, unexpected '[', expecting literal content or terminator or tSTRING_DBEG or tSTRING_DVAR
Started POST "/lineitems?product_id=1" for 127.0.0.1 at 2023-11-21 13:55:50 -0800
  
SyntaxError (/Users/angelahuang/Desktop/COEN 278/COEN278_assignment4_ChingYuehHuang/onlineStore/app/controllers/lineitems_controller.rb:31: syntax error, unexpected '[', expecting literal content or terminator or tSTRING_DBEG or tSTRING_DVAR
...ems.build(product_id: params[:[product_id]])
...                              ^
):
  
app/controllers/lineitems_controller.rb:31: syntax error, unexpected '[', expecting literal content or terminator or tSTRING_DBEG or tSTRING_DVAR
Started POST "/lineitems?product_id=1" for 127.0.0.1 at 2023-11-21 13:55:52 -0800
  
SyntaxError (/Users/angelahuang/Desktop/COEN 278/COEN278_assignment4_ChingYuehHuang/onlineStore/app/controllers/lineitems_controller.rb:31: syntax error, unexpected '[', expecting literal content or terminator or tSTRING_DBEG or tSTRING_DVAR
...ems.build(product_id: params[:[product_id]])
...                              ^
):
  
app/controllers/lineitems_controller.rb:31: syntax error, unexpected '[', expecting literal content or terminator or tSTRING_DBEG or tSTRING_DVAR
Started GET "/shopper" for 127.0.0.1 at 2023-11-21 13:56:08 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 11.6ms | Allocations: 7478)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 15.8ms | Allocations: 13566)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 53.8ms | Allocations: 45782)
Completed 200 OK in 70ms (Views: 54.4ms | ActiveRecord: 4.5ms | Allocations: 54459)


Started POST "/lineitems?product_id=1" for 127.0.0.1 at 2023-11-21 13:56:10 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mLineitem Create (0.4ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 1], ["cart_id", 1], ["created_at", "2023-11-21 21:56:10.402979"], ["updated_at", "2023-11-21 21:56:10.402979"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 6.5ms | Allocations: 2711)
  Rendered lineitems/create.js.erb (Duration: 7.7ms | Allocations: 2999)
Completed 200 OK in 27ms (Views: 9.4ms | ActiveRecord: 2.6ms | Allocations: 7553)


Started POST "/lineitems?product_id=4" for 127.0.0.1 at 2023-11-21 13:56:22 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mLineitem Create (0.2ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 4], ["cart_id", 1], ["created_at", "2023-11-21 21:56:22.358471"], ["updated_at", "2023-11-21 21:56:22.358471"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 8.0ms | Allocations: 3465)
  Rendered lineitems/create.js.erb (Duration: 8.7ms | Allocations: 3654)
Completed 200 OK in 19ms (Views: 9.0ms | ActiveRecord: 2.2ms | Allocations: 7636)


Started GET "/orders/new" for 127.0.0.1 at 2023-11-21 13:56:25 -0800
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "lineitems" WHERE "lineitems"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:18:in `new'
  Rendering layout layouts/application.html.erb
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 13.2ms | Allocations: 2925)
  Rendered orders/new.html.erb within layouts/application (Duration: 14.3ms | Allocations: 3218)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 10.1ms | Allocations: 4034)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 40.7ms | Allocations: 15067)
Completed 200 OK in 66ms (Views: 41.2ms | ActiveRecord: 1.0ms | Allocations: 58430)


Started GET "/" for 127.0.0.1 at 2023-11-21 13:56:30 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 11.0ms | Allocations: 4121)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 9.2ms | Allocations: 4107)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 31.7ms | Allocations: 15882)
Completed 200 OK in 35ms (Views: 31.8ms | ActiveRecord: 0.6ms | Allocations: 16880)


Started GET "/lineitems/" for 127.0.0.1 at 2023-11-21 13:56:33 -0800
Processing by LineitemsController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering lineitems/index.html.erb within layouts/application
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems"[0m
  ↳ app/views/lineitems/index.html.erb:18
  Rendered lineitems/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1459)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 8.8ms | Allocations: 4107)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 23.0ms | Allocations: 13324)
Completed 200 OK in 26ms (Views: 23.2ms | ActiveRecord: 0.6ms | Allocations: 14399)


Started GET "/lineitems/4" for 127.0.0.1 at 2023-11-21 13:56:37 -0800
Processing by LineitemsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mLineitem Load (0.5ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:72:in `set_lineitem'
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering lineitems/show.html.erb within layouts/application
  Rendered lineitems/show.html.erb within layouts/application (Duration: 3.0ms | Allocations: 330)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (4.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 35.5ms | Allocations: 4107)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 54.1ms | Allocations: 12182)
Completed 200 OK in 60ms (Views: 50.0ms | ActiveRecord: 5.2ms | Allocations: 14354)


Started GET "/lineitems" for 127.0.0.1 at 2023-11-21 13:56:40 -0800
Processing by LineitemsController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering lineitems/index.html.erb within layouts/application
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems"[0m
  ↳ app/views/lineitems/index.html.erb:18
  Rendered lineitems/index.html.erb within layouts/application (Duration: 13.2ms | Allocations: 1008)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 9.6ms | Allocations: 4107)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 67.6ms | Allocations: 12864)
Completed 200 OK in 76ms (Views: 67.8ms | ActiveRecord: 0.6ms | Allocations: 13857)


Started GET "/orders/new" for 127.0.0.1 at 2023-11-21 13:56:47 -0800
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "lineitems" WHERE "lineitems"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:18:in `new'
  Rendering layout layouts/application.html.erb
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.0ms | Allocations: 948)
  Rendered orders/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1020)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 10.1ms | Allocations: 4029)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 22.9ms | Allocations: 12796)
Completed 200 OK in 29ms (Views: 23.3ms | ActiveRecord: 0.7ms | Allocations: 14443)


Started POST "/orders" for 127.0.0.1 at 2023-11-21 13:56:56 -0800
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "order"=>{"name"=>"wwww", "address"=>"wssddd", "email"=>"ddd", "paytype"=>"Check"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mOrder Create (1.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "paytype", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "wwww"], ["address", "wssddd"], ["email", "ddd"], ["paytype", "Check"], ["created_at", "2023-11-21 21:56:56.943046"], ["updated_at", "2023-11-21 21:56:56.943046"]]
  ↳ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineitem Load (0.8ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineitem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 1]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineitem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineitem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 3]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineitem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 4]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 1]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 21ms (ActiveRecord: 3.3ms | Allocations: 8977)


Started GET "/" for 127.0.0.1 at 2023-11-21 13:56:56 -0800
Processing by ShopperController#index as HTML
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2023-11-21 21:56:56.975939"], ["updated_at", "2023-11-21 21:56:56.975939"]]
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 8.0ms | Allocations: 4127)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.0ms | Allocations: 965)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 20.4ms | Allocations: 12692)
Completed 200 OK in 26ms (Views: 20.9ms | ActiveRecord: 1.6ms | Allocations: 15545)


Started DELETE "/carts/2" for 127.0.0.1 at 2023-11-21 13:57:01 -0800
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineitem Load (0.9ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mCart Destroy (0.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 8ms (ActiveRecord: 1.3ms | Allocations: 3295)


Started GET "/" for 127.0.0.1 at 2023-11-21 13:57:01 -0800
Processing by ShopperController#index as HTML
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2023-11-21 21:57:01.353712"], ["updated_at", "2023-11-21 21:57:01.353712"]]
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 13.2ms | Allocations: 4119)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.5ms | Allocations: 965)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 28.8ms | Allocations: 12746)
Completed 200 OK in 34ms (Views: 29.0ms | ActiveRecord: 2.0ms | Allocations: 15472)


Started GET "/orders" for 127.0.0.1 at 2023-11-21 14:02:15 -0800
Processing by OrdersController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:19
  Rendered orders/index.html.erb within layouts/application (Duration: 6.5ms | Allocations: 4459)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 9.6ms | Allocations: 7306)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 40.9ms | Allocations: 36635)
Completed 200 OK in 57ms (Views: 42.1ms | ActiveRecord: 3.9ms | Allocations: 44818)


Started GET "/products" for 127.0.0.1 at 2023-11-21 14:02:18 -0800
Processing by ProductsController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (Duration: 13.4ms | Allocations: 6988)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.3ms | Allocations: 949)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 26.0ms | Allocations: 15556)
Completed 200 OK in 37ms (Views: 26.6ms | ActiveRecord: 1.1ms | Allocations: 18516)


Started GET "/users" for 127.0.0.1 at 2023-11-21 14:02:19 -0800
Processing by UsersController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  ↳ app/views/users/index.html.erb:19
  Rendered users/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1109)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.6ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 17.4ms | Allocations: 9810)
Completed 200 OK in 23ms (Views: 18.8ms | ActiveRecord: 0.4ms | Allocations: 11085)


Started GET "/products" for 127.0.0.1 at 2023-11-21 14:02:23 -0800
Processing by ProductsController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (Duration: 7.8ms | Allocations: 3208)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.8ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 25.0ms | Allocations: 11761)
Completed 200 OK in 28ms (Views: 25.6ms | ActiveRecord: 0.4ms | Allocations: 12753)


Started GET "/products/1" for 127.0.0.1 at 2023-11-21 14:02:25 -0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:65:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 3.5ms | Allocations: 394)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.0ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 17.1ms | Allocations: 9086)
Completed 200 OK in 24ms (Views: 17.8ms | ActiveRecord: 0.5ms | Allocations: 11285)


Started GET "/products" for 127.0.0.1 at 2023-11-21 14:02:26 -0800
Processing by ProductsController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (Duration: 8.1ms | Allocations: 3207)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.2ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 26.7ms | Allocations: 11760)
Completed 200 OK in 31ms (Views: 27.3ms | ActiveRecord: 0.4ms | Allocations: 12748)


Started GET "/products/1/edit" for 127.0.0.1 at 2023-11-21 14:02:28 -0800
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:65:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 7.5ms | Allocations: 1655)
  Rendered products/edit.html.erb within layouts/application (Duration: 10.3ms | Allocations: 1979)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.6ms | Allocations: 954)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 24.9ms | Allocations: 10670)
Completed 200 OK in 29ms (Views: 25.5ms | ActiveRecord: 0.4ms | Allocations: 12194)


Started GET "/products" for 127.0.0.1 at 2023-11-21 14:02:31 -0800
Processing by ProductsController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (Duration: 6.7ms | Allocations: 3207)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.0ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 24.9ms | Allocations: 11760)
Completed 200 OK in 28ms (Views: 25.3ms | ActiveRecord: 0.3ms | Allocations: 12762)


Started GET "/products/1/edit" for 127.0.0.1 at 2023-11-21 14:02:36 -0800
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:65:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 2.7ms | Allocations: 959)
  Rendered products/edit.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1061)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.3ms | Allocations: 954)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 20.4ms | Allocations: 9749)
Completed 200 OK in 27ms (Views: 21.0ms | ActiveRecord: 0.5ms | Allocations: 11213)


Started PATCH "/products/1" for 127.0.0.1 at 2023-11-21 14:02:41 -0800
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"Apple Watch", "description"=>"best product for your health", "image"=>"applewatch.jpeg", "price"=>"100.55"}, "commit"=>"Update Product", "id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:65:in `set_product'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:42:in `block in update'
  [1m[36mProduct Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? AND "products"."id" != ? LIMIT ?[0m  [["name", "Apple Watch"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:42:in `block in update'
  [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "description" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["description", "best product for your health"], ["updated_at", "2023-11-21 22:02:41.055768"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:42:in `block in update'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:42:in `block in update'
Redirected to http://127.0.0.1:3000/products/1
Completed 302 Found in 13ms (ActiveRecord: 2.0ms | Allocations: 4912)


Started GET "/products/1" for 127.0.0.1 at 2023-11-21 14:02:41 -0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:65:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 0.3ms | Allocations: 96)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.0ms | Allocations: 951)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 13.5ms | Allocations: 8792)
Completed 200 OK in 18ms (Views: 14.4ms | ActiveRecord: 0.3ms | Allocations: 10267)


Started GET "/products" for 127.0.0.1 at 2023-11-21 14:02:42 -0800
Processing by ProductsController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (Duration: 10.6ms | Allocations: 3208)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.1ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 29.4ms | Allocations: 11761)
Completed 200 OK in 33ms (Views: 29.6ms | ActiveRecord: 0.6ms | Allocations: 12745)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 14:02:45 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 11.7ms | Allocations: 4481)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.5ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 27.2ms | Allocations: 13028)
Completed 200 OK in 32ms (Views: 29.0ms | ActiveRecord: 0.6ms | Allocations: 14235)


Started GET "/users" for 127.0.0.1 at 2023-11-21 14:02:48 -0800
Processing by UsersController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  ↳ app/views/users/index.html.erb:19
  Rendered users/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 696)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.2ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 15.9ms | Allocations: 9392)
Completed 200 OK in 19ms (Views: 16.3ms | ActiveRecord: 0.4ms | Allocations: 10419)


Started GET "/products" for 127.0.0.1 at 2023-11-21 14:02:48 -0800
Processing by ProductsController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (Duration: 9.0ms | Allocations: 3208)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.5ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 25.5ms | Allocations: 11761)
Completed 200 OK in 28ms (Views: 25.9ms | ActiveRecord: 0.3ms | Allocations: 12757)


Started GET "/products/1/edit" for 127.0.0.1 at 2023-11-21 14:02:49 -0800
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:65:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 2.8ms | Allocations: 960)
  Rendered products/edit.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1062)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.6ms | Allocations: 954)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 22.4ms | Allocations: 9750)
Completed 200 OK in 26ms (Views: 23.0ms | ActiveRecord: 0.3ms | Allocations: 11216)


Started PATCH "/products/1" for 127.0.0.1 at 2023-11-21 14:02:54 -0800
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"Apple Watch", "description"=>"best product for health", "image"=>"applewatch.jpeg", "price"=>"100.55"}, "commit"=>"Update Product", "id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:65:in `set_product'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:42:in `block in update'
  [1m[36mProduct Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? AND "products"."id" != ? LIMIT ?[0m  [["name", "Apple Watch"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:42:in `block in update'
  [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "description" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["description", "best product for health"], ["updated_at", "2023-11-21 22:02:54.185078"], ["id", 1]]
  ↳ app/controllers/products_controller.rb:42:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:42:in `block in update'
Redirected to http://127.0.0.1:3000/products/1
Completed 302 Found in 10ms (ActiveRecord: 1.6ms | Allocations: 4247)


Started GET "/products/1" for 127.0.0.1 at 2023-11-21 14:02:54 -0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:65:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 0.4ms | Allocations: 95)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.1ms | Allocations: 951)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 13.2ms | Allocations: 8791)
Completed 200 OK in 17ms (Views: 14.0ms | ActiveRecord: 0.3ms | Allocations: 10268)


Started GET "/products" for 127.0.0.1 at 2023-11-21 14:02:56 -0800
Processing by ProductsController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (Duration: 6.0ms | Allocations: 3207)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 1.9ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 30.0ms | Allocations: 11819)
Completed 200 OK in 33ms (Views: 30.3ms | ActiveRecord: 0.4ms | Allocations: 12814)


Started GET "/navs/contact" for 127.0.0.1 at 2023-11-21 14:02:58 -0800
Processing by NavsController#contact as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/contact.html.erb within layouts/application
  Rendered navs/contact.html.erb within layouts/application (Duration: 0.6ms | Allocations: 105)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.8ms | Allocations: 976)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 19.2ms | Allocations: 8846)
Completed 200 OK in 26ms (Views: 21.5ms | ActiveRecord: 0.3ms | Allocations: 10013)


Started GET "/navs/faq" for 127.0.0.1 at 2023-11-21 14:03:11 -0800
Processing by NavsController#faq as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/faq.html.erb within layouts/application
  Rendered navs/faq.html.erb within layouts/application (Duration: 1.6ms | Allocations: 135)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.3ms | Allocations: 975)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 21.4ms | Allocations: 8861)
Completed 200 OK in 27ms (Views: 22.2ms | ActiveRecord: 0.3ms | Allocations: 9893)


Started GET "/navs/news" for 127.0.0.1 at 2023-11-21 14:03:11 -0800
Processing by NavsController#news as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/news.html.erb within layouts/application
  Rendered navs/news.html.erb within layouts/application (Duration: 0.5ms | Allocations: 102)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.3ms | Allocations: 975)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 15.2ms | Allocations: 8828)
Completed 200 OK in 36ms (Views: 15.6ms | ActiveRecord: 0.3ms | Allocations: 9866)


Started GET "/navs/faq" for 127.0.0.1 at 2023-11-21 14:03:13 -0800
Processing by NavsController#faq as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/faq.html.erb within layouts/application
  Rendered navs/faq.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.3ms | Allocations: 975)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 19.1ms | Allocations: 8733)
Completed 200 OK in 23ms (Views: 19.7ms | ActiveRecord: 0.3ms | Allocations: 9700)


Started GET "/navs/contact" for 127.0.0.1 at 2023-11-21 14:03:14 -0800
Processing by NavsController#contact as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/contact.html.erb within layouts/application
  Rendered navs/contact.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.5ms | Allocations: 975)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 18.5ms | Allocations: 8734)
Completed 200 OK in 23ms (Views: 18.9ms | ActiveRecord: 0.4ms | Allocations: 9711)


Started GET "/navs/contact" for 127.0.0.1 at 2023-11-21 14:04:04 -0800
Processing by NavsController#contact as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/contact.html.erb within layouts/application
  Rendered navs/contact.html.erb within layouts/application (Duration: 0.4ms | Allocations: 110)
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 9.4ms | Allocations: 7349)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 37.9ms | Allocations: 32410)
Completed 200 OK in 50ms (Views: 38.6ms | ActiveRecord: 3.2ms | Allocations: 38897)


Started GET "/navs/contact" for 127.0.0.1 at 2023-11-21 14:04:06 -0800
Processing by NavsController#contact as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/contact.html.erb within layouts/application
  Rendered navs/contact.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.4ms | Allocations: 977)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 13.5ms | Allocations: 8743)
Completed 200 OK in 16ms (Views: 13.9ms | ActiveRecord: 0.3ms | Allocations: 9718)


Started GET "/navs/news" for 127.0.0.1 at 2023-11-21 14:04:07 -0800
Processing by NavsController#news as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/news.html.erb within layouts/application
  Rendered navs/news.html.erb within layouts/application (Duration: 1.5ms | Allocations: 102)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.1ms | Allocations: 975)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 16.1ms | Allocations: 8828)
Completed 200 OK in 20ms (Views: 17.1ms | ActiveRecord: 0.3ms | Allocations: 9854)


Started GET "/navs/faq" for 127.0.0.1 at 2023-11-21 14:04:08 -0800
Processing by NavsController#faq as HTML
  [1m[36mCart Load (1.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/faq.html.erb within layouts/application
  Rendered navs/faq.html.erb within layouts/application (Duration: 1.6ms | Allocations: 135)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.4ms | Allocations: 975)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 16.5ms | Allocations: 8861)
Completed 200 OK in 21ms (Views: 17.0ms | ActiveRecord: 1.2ms | Allocations: 9891)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 14:04:09 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 13.1ms | Allocations: 7406)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 1.8ms | Allocations: 949)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 26.2ms | Allocations: 15959)
Completed 200 OK in 36ms (Views: 26.7ms | ActiveRecord: 1.8ms | Allocations: 19275)


Started GET "/navs/faq" for 127.0.0.1 at 2023-11-21 14:04:10 -0800
Processing by NavsController#faq as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/faq.html.erb within layouts/application
  Rendered navs/faq.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.9ms | Allocations: 975)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 18.6ms | Allocations: 8733)
Completed 200 OK in 23ms (Views: 19.3ms | ActiveRecord: 0.3ms | Allocations: 9700)


Started GET "/navs/faq" for 127.0.0.1 at 2023-11-21 14:04:48 -0800
Processing by NavsController#faq as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/faq.html.erb within layouts/application
  Rendered navs/faq.html.erb within layouts/application (Duration: 0.4ms | Allocations: 140)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 8.7ms | Allocations: 7344)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 35.4ms | Allocations: 32328)
Completed 200 OK in 46ms (Views: 36.0ms | ActiveRecord: 3.5ms | Allocations: 38746)


Started GET "/navs/faq" for 127.0.0.1 at 2023-11-21 14:05:00 -0800
Processing by NavsController#faq as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/faq.html.erb within layouts/application
  Rendered navs/faq.html.erb within layouts/application (Duration: 0.5ms | Allocations: 142)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 8.7ms | Allocations: 7347)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 36.8ms | Allocations: 32423)
Completed 200 OK in 50ms (Views: 38.1ms | ActiveRecord: 3.4ms | Allocations: 38886)


Started GET "/navs/faq" for 127.0.0.1 at 2023-11-21 14:05:09 -0800
Processing by NavsController#faq as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/faq.html.erb within layouts/application
  Rendered navs/faq.html.erb within layouts/application (Duration: 0.4ms | Allocations: 140)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 8.9ms | Allocations: 7344)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 38.1ms | Allocations: 32278)
Completed 200 OK in 49ms (Views: 38.5ms | ActiveRecord: 3.8ms | Allocations: 38698)


Started GET "/navs/faq" for 127.0.0.1 at 2023-11-21 14:05:13 -0800
Processing by NavsController#faq as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/faq.html.erb within layouts/application
  Rendered navs/faq.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.4ms | Allocations: 977)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 13.5ms | Allocations: 8744)
Completed 200 OK in 16ms (Views: 13.9ms | ActiveRecord: 0.3ms | Allocations: 9719)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 14:05:14 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 12.5ms | Allocations: 7406)
  [1m[36mLineitem Load (0.3ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.6ms | Allocations: 949)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 27.0ms | Allocations: 15967)
Completed 200 OK in 37ms (Views: 27.5ms | ActiveRecord: 1.3ms | Allocations: 19283)


Started GET "/navs/contact" for 127.0.0.1 at 2023-11-21 14:05:16 -0800
Processing by NavsController#contact as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/contact.html.erb within layouts/application
  Rendered navs/contact.html.erb within layouts/application (Duration: 0.6ms | Allocations: 105)
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.5ms | Allocations: 975)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 15.9ms | Allocations: 8831)
Completed 200 OK in 20ms (Views: 16.9ms | ActiveRecord: 0.4ms | Allocations: 9863)


Started GET "/navs/contact" for 127.0.0.1 at 2023-11-21 14:09:32 -0800
Processing by NavsController#contact as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/contact.html.erb within layouts/application
  Rendered navs/contact.html.erb within layouts/application (Duration: 0.4ms | Allocations: 109)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 8.4ms | Allocations: 7344)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 35.3ms | Allocations: 32307)
Completed 200 OK in 51ms (Views: 36.1ms | ActiveRecord: 2.9ms | Allocations: 38780)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 14:09:33 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 15.3ms | Allocations: 7406)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.3ms | Allocations: 949)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 31.3ms | Allocations: 15959)
Completed 200 OK in 43ms (Views: 31.8ms | ActiveRecord: 1.6ms | Allocations: 19268)


Started POST "/lineitems?product_id=1" for 127.0.0.1 at 2023-11-21 14:09:35 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 3], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mLineitem Create (0.2ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 1], ["cart_id", 3], ["created_at", "2023-11-21 22:09:35.239627"], ["updated_at", "2023-11-21 22:09:35.239627"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.8ms | Allocations: 1118)
  Rendered lineitems/create.js.erb (Duration: 3.6ms | Allocations: 1381)
Completed 200 OK in 21ms (Views: 5.6ms | ActiveRecord: 2.4ms | Allocations: 11090)


Started POST "/lineitems?product_id=3" for 127.0.0.1 at 2023-11-21 14:09:36 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"3"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 3], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mLineitem Create (0.2ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 3], ["cart_id", 3], ["created_at", "2023-11-21 22:09:36.677685"], ["updated_at", "2023-11-21 22:09:36.677685"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 5.0ms | Allocations: 1910)
  Rendered lineitems/create.js.erb (Duration: 5.5ms | Allocations: 2075)
Completed 200 OK in 17ms (Views: 6.0ms | ActiveRecord: 2.6ms | Allocations: 6651)


Started POST "/lineitems?product_id=4" for 127.0.0.1 at 2023-11-21 14:09:38 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 3], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mLineitem Create (0.2ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 4], ["cart_id", 3], ["created_at", "2023-11-21 22:09:38.290796"], ["updated_at", "2023-11-21 22:09:38.290796"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 6.7ms | Allocations: 2701)
  Rendered lineitems/create.js.erb (Duration: 7.1ms | Allocations: 2878)
Completed 200 OK in 18ms (Views: 7.4ms | ActiveRecord: 2.0ms | Allocations: 7454)


Started GET "/" for 127.0.0.1 at 2023-11-21 14:09:48 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 239.7ms | Allocations: 106954)
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 49.1ms | Allocations: 67549)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 343.2ms | Allocations: 213051)
Completed 200 OK in 478ms (Views: 349.3ms | ActiveRecord: 4.3ms | Allocations: 288575)


Started POST "/lineitems?product_id=1" for 127.0.0.1 at 2023-11-21 14:09:54 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 3], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mLineitem Update (1.2ms)[0m  [1m[33mUPDATE "lineitems" SET "updated_at" = ?, "quantity" = ? WHERE "lineitems"."id" = ?[0m  [["updated_at", "2023-11-21 22:09:54.467417"], ["quantity", 2], ["id", 5]]
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 8.4ms | Allocations: 3301)
  Rendered lineitems/create.js.erb (Duration: 9.2ms | Allocations: 3597)
Completed 200 OK in 23ms (Views: 10.8ms | ActiveRecord: 3.0ms | Allocations: 8973)


Started GET "/" for 127.0.0.1 at 2023-11-21 14:09:58 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 4113)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 8.0ms | Allocations: 3353)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 36.8ms | Allocations: 15116)
Completed 200 OK in 40ms (Views: 37.1ms | ActiveRecord: 0.6ms | Allocations: 16130)


Started GET "/" for 127.0.0.1 at 2023-11-21 14:09:59 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 7.8ms | Allocations: 4121)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 6.5ms | Allocations: 3353)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 25.3ms | Allocations: 15079)
Completed 200 OK in 28ms (Views: 25.5ms | ActiveRecord: 0.5ms | Allocations: 16099)


Started DELETE "/carts/3" for 127.0.0.1 at 2023-11-21 14:10:02 -0800
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineitem Load (1.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineitem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 5]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineitem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 6]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineitem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 7]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 3]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 13ms (ActiveRecord: 2.1ms | Allocations: 5658)


Started GET "/" for 127.0.0.1 at 2023-11-21 14:10:02 -0800
Processing by ShopperController#index as HTML
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2023-11-21 22:10:02.965491"], ["updated_at", "2023-11-21 22:10:02.965491"]]
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 9.7ms | Allocations: 4122)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.0ms | Allocations: 968)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 22.2ms | Allocations: 12691)
Completed 200 OK in 28ms (Views: 22.7ms | ActiveRecord: 1.6ms | Allocations: 15639)


Started POST "/login" for 127.0.0.1 at 2023-11-21 14:10:05 -0800
Processing by AccessController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/access_controller.rb:13:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 5ms (ActiveRecord: 0.3ms | Allocations: 1607)


Started GET "/login" for 127.0.0.1 at 2023-11-21 14:10:05 -0800
Processing by AccessController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
Redirected to http://127.0.0.1:3000/admin
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 885)


Started GET "/admin" for 127.0.0.1 at 2023-11-21 14:10:05 -0800
Processing by AdminController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mOrder Count (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  ↳ app/controllers/admin_controller.rb:5:in `index'
  Rendering layout layouts/application.html.erb
  Rendering admin/index.html.erb within layouts/application
  Rendered admin/index.html.erb within layouts/application (Duration: 0.7ms | Allocations: 219)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.6ms | Allocations: 972)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 14.2ms | Allocations: 8963)
Completed 200 OK in 25ms (Views: 15.2ms | ActiveRecord: 1.8ms | Allocations: 12796)


Started POST "/logout" for 127.0.0.1 at 2023-11-21 14:10:06 -0800
Processing by AccessController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 921)


Started GET "/" for 127.0.0.1 at 2023-11-21 14:10:06 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 11.0ms | Allocations: 4119)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.1ms | Allocations: 952)
  Rendered layout layouts/application.html.erb (Duration: 23.6ms | Allocations: 12001)
Completed 200 OK in 26ms (Views: 23.9ms | ActiveRecord: 0.2ms | Allocations: 13012)


Started POST "/login" for 127.0.0.1 at 2023-11-21 14:10:08 -0800
Processing by AccessController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/access_controller.rb:13:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 4ms (ActiveRecord: 0.1ms | Allocations: 1488)


Started GET "/login" for 127.0.0.1 at 2023-11-21 14:10:08 -0800
Processing by AccessController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering access/new.html.erb within layouts/application
  Rendered access/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1491)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.0ms | Allocations: 947)
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | Allocations: 9568)
Completed 200 OK in 17ms (Views: 14.0ms | ActiveRecord: 0.2ms | Allocations: 10688)


Started POST "/access/new" for 127.0.0.1 at 2023-11-21 14:10:12 -0800
Processing by AccessController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"admin", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  ↳ app/controllers/access_controller.rb:13:in `create'
Redirected to http://127.0.0.1:3000/admin
Completed 302 Found in 277ms (ActiveRecord: 0.3ms | Allocations: 1540)


Started GET "/admin" for 127.0.0.1 at 2023-11-21 14:10:12 -0800
Processing by AdminController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mOrder Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  ↳ app/controllers/admin_controller.rb:5:in `index'
  Rendering layout layouts/application.html.erb
  Rendering admin/index.html.erb within layouts/application
  Rendered admin/index.html.erb within layouts/application (Duration: 0.1ms | Allocations: 30)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.1ms | Allocations: 965)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | Allocations: 8745)
Completed 200 OK in 15ms (Views: 11.6ms | ActiveRecord: 0.3ms | Allocations: 10223)


Started GET "/shopper" for 127.0.0.1 at 2023-11-21 14:10:15 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 10.1ms | Allocations: 4119)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.8ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 25.1ms | Allocations: 12661)
Completed 200 OK in 28ms (Views: 25.5ms | ActiveRecord: 0.4ms | Allocations: 13677)


Started POST "/lineitems?product_id=1" for 127.0.0.1 at 2023-11-21 14:10:16 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 4], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mLineitem Create (0.2ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 1], ["cart_id", 4], ["created_at", "2023-11-21 22:10:16.853342"], ["updated_at", "2023-11-21 22:10:16.853342"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.7ms | Allocations: 1103)
  Rendered lineitems/create.js.erb (Duration: 4.0ms | Allocations: 1256)
Completed 200 OK in 16ms (Views: 4.6ms | ActiveRecord: 2.4ms | Allocations: 6470)


Started POST "/lineitems?product_id=3" for 127.0.0.1 at 2023-11-21 14:10:17 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 4], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mLineitem Create (0.3ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 3], ["cart_id", 4], ["created_at", "2023-11-21 22:10:17.884667"], ["updated_at", "2023-11-21 22:10:17.884667"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 4.4ms | Allocations: 1899)
  Rendered lineitems/create.js.erb (Duration: 4.8ms | Allocations: 2064)
Completed 200 OK in 18ms (Views: 5.2ms | ActiveRecord: 2.4ms | Allocations: 6656)


Started POST "/lineitems?product_id=2" for 127.0.0.1 at 2023-11-21 14:10:19 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 4], ["product_id", 2], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mLineitem Create (0.2ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 2], ["cart_id", 4], ["created_at", "2023-11-21 22:10:19.382811"], ["updated_at", "2023-11-21 22:10:19.382811"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 5.8ms | Allocations: 2701)
  Rendered lineitems/create.js.erb (Duration: 6.1ms | Allocations: 2878)
Completed 200 OK in 19ms (Views: 6.4ms | ActiveRecord: 2.3ms | Allocations: 7472)


Started DELETE "/carts/4" for 127.0.0.1 at 2023-11-21 14:10:22 -0800
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineitem Load (1.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineitem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 8]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineitem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 9]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineitem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 10]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mCart Destroy (0.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 4]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 13ms (ActiveRecord: 2.1ms | Allocations: 5351)


Started GET "/" for 127.0.0.1 at 2023-11-21 14:10:22 -0800
Processing by ShopperController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2023-11-21 22:10:22.968652"], ["updated_at", "2023-11-21 22:10:22.968652"]]
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 9.1ms | Allocations: 4118)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 5]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.5ms | Allocations: 965)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 21.6ms | Allocations: 12683)
Completed 200 OK in 27ms (Views: 22.0ms | ActiveRecord: 1.8ms | Allocations: 15403)


Started POST "/lineitems?product_id=3" for 127.0.0.1 at 2023-11-21 14:10:25 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 5], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mLineitem Create (0.2ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 3], ["cart_id", 5], ["created_at", "2023-11-21 22:10:25.055590"], ["updated_at", "2023-11-21 22:10:25.055590"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 5]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.6ms | Allocations: 1099)
  Rendered lineitems/create.js.erb (Duration: 2.9ms | Allocations: 1252)
Completed 200 OK in 13ms (Views: 3.6ms | ActiveRecord: 1.6ms | Allocations: 5821)


Started POST "/lineitems?product_id=3" for 127.0.0.1 at 2023-11-21 14:10:25 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 5], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mLineitem Update (1.4ms)[0m  [1m[33mUPDATE "lineitems" SET "updated_at" = ?, "quantity" = ? WHERE "lineitems"."id" = ?[0m  [["updated_at", "2023-11-21 22:10:25.356345"], ["quantity", 2], ["id", 11]]
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 5]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 4.5ms | Allocations: 1694)
  Rendered lineitems/create.js.erb (Duration: 5.8ms | Allocations: 1847)
Completed 200 OK in 16ms (Views: 6.4ms | ActiveRecord: 2.0ms | Allocations: 5478)


Started DELETE "/carts/5" for 127.0.0.1 at 2023-11-21 14:10:27 -0800
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineitem Load (1.0ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 5]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineitem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 11]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 5]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 10ms (ActiveRecord: 1.5ms | Allocations: 3949)


Started GET "/" for 127.0.0.1 at 2023-11-21 14:10:28 -0800
Processing by ShopperController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2023-11-21 22:10:28.029938"], ["updated_at", "2023-11-21 22:10:28.029938"]]
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 4118)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 6.1ms | Allocations: 965)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 23.8ms | Allocations: 12683)
Completed 200 OK in 30ms (Views: 24.1ms | ActiveRecord: 1.8ms | Allocations: 15392)


Started POST "/lineitems?product_id=1" for 127.0.0.1 at 2023-11-21 14:13:40 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 6], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mLineitem Create (0.2ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 1], ["cart_id", 6], ["created_at", "2023-11-21 22:13:40.703879"], ["updated_at", "2023-11-21 22:13:40.703879"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.3ms | Allocations: 1099)
  Rendered lineitems/create.js.erb (Duration: 3.8ms | Allocations: 1252)
Completed 200 OK in 16ms (Views: 4.3ms | ActiveRecord: 2.4ms | Allocations: 5825)


Started POST "/lineitems?product_id=3" for 127.0.0.1 at 2023-11-21 14:13:42 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 6], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mLineitem Create (0.2ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 3], ["cart_id", 6], ["created_at", "2023-11-21 22:13:42.542045"], ["updated_at", "2023-11-21 22:13:42.542045"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 5.1ms | Allocations: 1901)
  Rendered lineitems/create.js.erb (Duration: 5.4ms | Allocations: 2066)
Completed 200 OK in 18ms (Views: 6.0ms | ActiveRecord: 2.0ms | Allocations: 6627)


Started GET "/" for 127.0.0.1 at 2023-11-21 14:13:45 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 12.0ms | Allocations: 4122)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 6.4ms | Allocations: 2551)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:42
  Rendered layout layouts/application.html.erb (Duration: 29.6ms | Allocations: 14330)
Completed 200 OK in 33ms (Views: 29.8ms | ActiveRecord: 0.5ms | Allocations: 15325)


Started POST "/lineitems?product_id=1" for 127.0.0.1 at 2023-11-21 14:13:47 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 6], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mLineitem Update (1.0ms)[0m  [1m[33mUPDATE "lineitems" SET "updated_at" = ?, "quantity" = ? WHERE "lineitems"."id" = ?[0m  [["updated_at", "2023-11-21 22:13:47.157660"], ["quantity", 2], ["id", 12]]
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 5.8ms | Allocations: 2496)
  Rendered lineitems/create.js.erb (Duration: 6.3ms | Allocations: 2661)
Completed 200 OK in 16ms (Views: 7.1ms | ActiveRecord: 1.6ms | Allocations: 6288)


Started POST "/lineitems?product_id=3" for 127.0.0.1 at 2023-11-21 14:13:48 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"3"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 6], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mLineitem Update (1.0ms)[0m  [1m[33mUPDATE "lineitems" SET "updated_at" = ?, "quantity" = ? WHERE "lineitems"."id" = ?[0m  [["updated_at", "2023-11-21 22:13:48.999884"], ["quantity", 2], ["id", 13]]
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 6.2ms | Allocations: 2496)
  Rendered lineitems/create.js.erb (Duration: 6.7ms | Allocations: 2661)
Completed 200 OK in 17ms (Views: 7.5ms | ActiveRecord: 2.0ms | Allocations: 6306)


Started GET "/" for 127.0.0.1 at 2023-11-21 14:20:03 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 12.6ms | Allocations: 7337)
  Rendered layout layouts/application.html.erb (Duration: 38.9ms | Allocations: 30102)
Completed 500 Internal Server Error in 52ms (ActiveRecord: 2.2ms | Allocations: 38067)


  
ActionView::Template::Error (The asset "logo.png" is not present in the asset pipeline.
):
    14:   <body class='<%= controller.controller_name %>'>
    15: 
    16:     <div id="banner">
    17:       <%= image_tag("logo.png") %>
    18:       <%= @page_title || "Our Products" %>
    19:       <p>
    20:         Please use the following username and password to login
  
app/views/layouts/application.html.erb:17
Started GET "/" for 127.0.0.1 at 2023-11-21 14:20:17 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 13.2ms | Allocations: 7477)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 22.4ms | Allocations: 13598)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 70.2ms | Allocations: 46321)
Completed 200 OK in 88ms (Views: 71.2ms | ActiveRecord: 5.2ms | Allocations: 55013)


Started GET "/" for 127.0.0.1 at 2023-11-21 14:22:31 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 11.5ms | Allocations: 7464)
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | Allocations: 8876)
Completed 500 Internal Server Error in 29ms (ActiveRecord: 3.2ms | Allocations: 17444)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <!DOCTYPE html>
<html>
  <head>
    <title>OnlineStore</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
    <%= javascript_include_tag "application", 'data-turbolinks-track': 'reload' %>
  </head>

  <body class='<%= controller.controller_name %>'>

    <div id="banner">
      <%= image_tag("logo.jpg"),width: 500,height:300 %>
      <%= @page_title || "Our Products" %>
      <p>
        Please use the following username and password to login
      </p>
      <p>
        username: admin
        <br />
        password: admin
      </p>
    </div>

    <div id="columns">
    <div id="side">
      <div id='cart'>
        <%= render @cart%>
      </div>
      <ul>
        <li><a href="/shopper">Home</a></li>
        <li><a href="/navs/faq">Questions</a></li>
        <li><a href="/navs/news">News</a></li>
        <li><a href="/navs/contact">Contact</a></li>
        <li><a href="/search/index">Search</a></li>
        <%= button_to 'Login', login_path%>
      </ul>
      <% if session[:user_id] %>
        Hello, <%= User.find_by(id: session[:user_id]).name%>
        <ul>
          <li><%= link_to 'Orders',orders_path %></li>
          <li><%= link_to 'Products', products_path %></li>
          <li><%= link_to 'Users',    users_path    %></li>
        </ul>
        <%= button_to 'Logout', logout_path%>
      <% end %>
    </div>
    <div id="main">
      <%= yield %>
    </div>
  </div>

  </body>
</html>

):
1:    <!DOCTYPE html>
2:    <html>
3:      <head>
4:        <title>OnlineStore</title>
5:        <meta name="viewport" content="width=device-width,initial-scale=1">
6:        <%= csrf_meta_tags %>
7:        <%= csp_meta_tag %>
8:    
9:        <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
10:        <%= javascript_importmap_tags %>
11:        <%= javascript_include_tag "application", 'data-turbolinks-track': 'reload' %>
12:      </head>
13:    
14:      <body class='<%= controller.controller_name %>'>
15:    
16:        <div id="banner">
17:          <%= image_tag("logo.jpg"),width: 500,height:300 %>
18:          <%= @page_title || "Our Products" %>
19:          <p>
20:            Please use the following username and password to login
21:          </p>
22:          <p>
23:            username: admin
24:            <br />
25:            password: admin
26:          </p>
27:        </div>
28:    
29:        <div id="columns">
30:        <div id="side">
31:          <div id='cart'>
32:            <%= render @cart%>
33:          </div>
34:          <ul>
35:            <li><a href="/shopper">Home</a></li>
36:            <li><a href="/navs/faq">Questions</a></li>
37:            <li><a href="/navs/news">News</a></li>
38:            <li><a href="/navs/contact">Contact</a></li>
39:            <li><a href="/search/index">Search</a></li>
40:            <%= button_to 'Login', login_path%>
41:          </ul>
42:          <% if session[:user_id] %>
43:            Hello, <%= User.find_by(id: session[:user_id]).name%>
44:            <ul>
45:              <li><%= link_to 'Orders',orders_path %></li>
46:              <li><%= link_to 'Products', products_path %></li>
47:              <li><%= link_to 'Users',    users_path    %></li>
48:            </ul>
49:            <%= button_to 'Logout', logout_path%>
50:          <% end %>
51:        </div>
52:        <div id="main">
53:          <%= yield %>
54:        </div>
55:      </div>
56:    
57:      </body>
58:    </html>
  
app/views/layouts/application.html.erb:17: syntax error, unexpected ',', expecting ')'
Started GET "/" for 127.0.0.1 at 2023-11-21 14:22:53 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 12.3ms | Allocations: 7473)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 21.0ms | Allocations: 13588)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 59.9ms | Allocations: 46317)
Completed 200 OK in 75ms (Views: 56.4ms | ActiveRecord: 7.9ms | Allocations: 55001)


Started GET "/" for 127.0.0.1 at 2023-11-21 14:23:05 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 12.7ms | Allocations: 7469)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 16.4ms | Allocations: 13561)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 55.6ms | Allocations: 46216)
Completed 200 OK in 71ms (Views: 55.8ms | ActiveRecord: 4.9ms | Allocations: 54774)


Started GET "/" for 127.0.0.1 at 2023-11-21 14:24:02 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 12.4ms | Allocations: 7485)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 45.8ms | Allocations: 13538)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 298.0ms | Allocations: 107008)
Completed 200 OK in 315ms (Views: 297.9ms | ActiveRecord: 4.9ms | Allocations: 115613)


Started GET "/" for 127.0.0.1 at 2023-11-21 14:24:15 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 12.1ms | Allocations: 7487)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 16.1ms | Allocations: 13561)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 56.6ms | Allocations: 46315)
Completed 200 OK in 72ms (Views: 57.2ms | ActiveRecord: 4.5ms | Allocations: 54941)


Started GET "/" for 127.0.0.1 at 2023-11-21 14:24:27 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 10.2ms | Allocations: 7486)
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 15.7ms | Allocations: 13561)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 53.2ms | Allocations: 46373)
Completed 200 OK in 70ms (Views: 53.7ms | ActiveRecord: 5.1ms | Allocations: 55034)


Started GET "/" for 127.0.0.1 at 2023-11-21 14:24:40 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 12.8ms | Allocations: 7485)
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 17.2ms | Allocations: 13561)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 57.7ms | Allocations: 46370)
Completed 200 OK in 79ms (Views: 58.2ms | ActiveRecord: 4.2ms | Allocations: 54935)


Started GET "/" for 127.0.0.1 at 2023-11-21 14:24:49 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 12.9ms | Allocations: 7483)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 16.0ms | Allocations: 13556)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 53.4ms | Allocations: 46348)
Completed 200 OK in 70ms (Views: 54.5ms | ActiveRecord: 5.0ms | Allocations: 54965)


Started GET "/" for 127.0.0.1 at 2023-11-21 14:24:52 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 6.9ms | Allocations: 4123)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 5.2ms | Allocations: 2553)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 22.9ms | Allocations: 14823)
Completed 200 OK in 26ms (Views: 23.2ms | ActiveRecord: 0.5ms | Allocations: 15837)


Started GET "/" for 127.0.0.1 at 2023-11-21 14:24:53 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 8.4ms | Allocations: 4122)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 5.6ms | Allocations: 2551)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 23.7ms | Allocations: 14820)
Completed 200 OK in 27ms (Views: 23.9ms | ActiveRecord: 0.5ms | Allocations: 15809)


Started GET "/" for 127.0.0.1 at 2023-11-21 14:26:40 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 13.7ms | Allocations: 7473)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 17.3ms | Allocations: 13555)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 60.4ms | Allocations: 46206)
Completed 200 OK in 77ms (Views: 60.1ms | ActiveRecord: 4.4ms | Allocations: 54749)


Started GET "/" for 127.0.0.1 at 2023-11-22 11:56:33 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (16.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 37.5ms | Allocations: 7354)
  [1m[36mLineitem Load (0.7ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 21.5ms | Allocations: 13140)
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 120.4ms | Allocations: 45470)
Completed 200 OK in 177ms (Views: 121.0ms | ActiveRecord: 29.0ms | Allocations: 53433)


Started GET "/orders/new" for 127.0.0.1 at 2023-11-22 11:57:02 -0800
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "lineitems" WHERE "lineitems"."cart_id" = ? LIMIT ?[0m  [["cart_id", 6], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:18:in `new'
  Rendering layout layouts/application.html.erb
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 16.8ms | Allocations: 2922)
  Rendered orders/new.html.erb within layouts/application (Duration: 18.7ms | Allocations: 3210)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 6.5ms | Allocations: 2477)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 39.1ms | Allocations: 14052)
Completed 200 OK in 74ms (Views: 40.2ms | ActiveRecord: 1.7ms | Allocations: 57402)


Started DELETE "/carts/6" for 127.0.0.1 at 2023-11-22 11:57:05 -0800
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineitem Load (1.4ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineitem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 12]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineitem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 13]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 6]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 15ms (ActiveRecord: 2.6ms | Allocations: 4804)


Started GET "/" for 127.0.0.1 at 2023-11-22 11:57:05 -0800
Processing by ShopperController#index as HTML
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2023-11-22 19:57:05.418214"], ["updated_at", "2023-11-22 19:57:05.418214"]]
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 7.8ms | Allocations: 4129)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 1.9ms | Allocations: 965)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 23.0ms | Allocations: 13246)
Completed 200 OK in 31ms (Views: 23.5ms | ActiveRecord: 1.7ms | Allocations: 16095)


Started GET "/shopper" for 127.0.0.1 at 2023-11-22 11:57:07 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 12.3ms | Allocations: 4122)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.4ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 33.5ms | Allocations: 13216)
Completed 200 OK in 37ms (Views: 34.0ms | ActiveRecord: 0.3ms | Allocations: 14204)


Started POST "/lineitems?product_id=1" for 127.0.0.1 at 2023-11-22 11:57:10 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 7], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mLineitem Create (0.4ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 1], ["cart_id", 7], ["created_at", "2023-11-22 19:57:10.184457"], ["updated_at", "2023-11-22 19:57:10.184457"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.0ms | Allocations: 1102)
  Rendered lineitems/create.js.erb (Duration: 4.0ms | Allocations: 1365)
Completed 200 OK in 23ms (Views: 6.1ms | ActiveRecord: 2.2ms | Allocations: 6600)


Started POST "/lineitems?product_id=4" for 127.0.0.1 at 2023-11-22 11:57:12 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 7], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mLineitem Create (0.3ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 4], ["cart_id", 7], ["created_at", "2023-11-22 19:57:12.434945"], ["updated_at", "2023-11-22 19:57:12.434945"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 5.4ms | Allocations: 1899)
  Rendered lineitems/create.js.erb (Duration: 6.0ms | Allocations: 2064)
Completed 200 OK in 20ms (Views: 6.3ms | ActiveRecord: 2.3ms | Allocations: 6648)


Started GET "/products" for 127.0.0.1 at 2023-11-22 11:57:15 -0800
Processing by ProductsController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (Duration: 8.3ms | Allocations: 3702)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 6.0ms | Allocations: 2551)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 28.4ms | Allocations: 14420)
Completed 200 OK in 35ms (Views: 30.0ms | ActiveRecord: 0.6ms | Allocations: 15659)


Started GET "/products/2/edit" for 127.0.0.1 at 2023-11-22 11:57:18 -0800
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:65:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 4.2ms | Allocations: 1632)
  Rendered products/edit.html.erb within layouts/application (Duration: 7.4ms | Allocations: 1957)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 6.0ms | Allocations: 2558)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 27.0ms | Allocations: 12802)
Completed 200 OK in 35ms (Views: 28.0ms | ActiveRecord: 0.5ms | Allocations: 14908)


Started GET "/shopper" for 127.0.0.1 at 2023-11-22 11:57:21 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 9.9ms | Allocations: 4122)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 8.3ms | Allocations: 2551)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 35.2ms | Allocations: 14820)
Completed 200 OK in 38ms (Views: 35.4ms | ActiveRecord: 0.6ms | Allocations: 15812)


Started GET "/shopper" for 127.0.0.1 at 2023-11-22 11:58:50 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 13.9ms | Allocations: 7504)
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 21.9ms | Allocations: 13511)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 158.8ms | Allocations: 56857)
Completed 200 OK in 193ms (Views: 158.4ms | ActiveRecord: 5.3ms | Allocations: 65421)


Started GET "/shopper" for 127.0.0.1 at 2023-11-22 11:58:52 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 8.3ms | Allocations: 4126)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 6.5ms | Allocations: 2553)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 25.3ms | Allocations: 14886)
Completed 200 OK in 29ms (Views: 25.5ms | ActiveRecord: 0.6ms | Allocations: 15890)


Started GET "/navs/faq" for 127.0.0.1 at 2023-11-22 11:58:53 -0800
Processing by NavsController#faq as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/faq.html.erb within layouts/application
  Rendered navs/faq.html.erb within layouts/application (Duration: 1.1ms | Allocations: 136)
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 7.0ms | Allocations: 2580)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 21.4ms | Allocations: 11030)
Completed 200 OK in 26ms (Views: 22.6ms | ActiveRecord: 0.8ms | Allocations: 12215)


Started GET "/shopper" for 127.0.0.1 at 2023-11-22 11:58:54 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 13.8ms | Allocations: 4128)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 10.1ms | Allocations: 2551)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 48.1ms | Allocations: 14822)
Completed 200 OK in 51ms (Views: 48.3ms | ActiveRecord: 0.6ms | Allocations: 15820)


Started DELETE "/carts/7" for 127.0.0.1 at 2023-11-22 11:58:58 -0800
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"7"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineitem Load (1.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineitem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 14]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineitem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 15]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 7]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 12ms (ActiveRecord: 2.6ms | Allocations: 4822)


Started GET "/" for 127.0.0.1 at 2023-11-22 11:58:58 -0800
Processing by ShopperController#index as HTML
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.0ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2023-11-22 19:58:58.947821"], ["updated_at", "2023-11-22 19:58:58.947821"]]
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 9.7ms | Allocations: 4128)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 8]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.7ms | Allocations: 965)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 25.3ms | Allocations: 13302)
Completed 200 OK in 35ms (Views: 25.6ms | ActiveRecord: 1.4ms | Allocations: 16135)


Started POST "/lineitems?product_id=1" for 127.0.0.1 at 2023-11-22 11:59:00 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 8], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mLineitem Create (0.2ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 1], ["cart_id", 8], ["created_at", "2023-11-22 19:59:00.685276"], ["updated_at", "2023-11-22 19:59:00.685276"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 8]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.8ms | Allocations: 1104)
  Rendered lineitems/create.js.erb (Duration: 4.0ms | Allocations: 1367)
Completed 200 OK in 18ms (Views: 6.0ms | ActiveRecord: 2.4ms | Allocations: 6590)


Started POST "/lineitems?product_id=3" for 127.0.0.1 at 2023-11-22 11:59:02 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 8], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mLineitem Create (0.3ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 3], ["cart_id", 8], ["created_at", "2023-11-22 19:59:02.105968"], ["updated_at", "2023-11-22 19:59:02.105968"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 8]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 5.3ms | Allocations: 1901)
  Rendered lineitems/create.js.erb (Duration: 5.7ms | Allocations: 2066)
Completed 200 OK in 18ms (Views: 6.0ms | ActiveRecord: 2.1ms | Allocations: 6649)


Started POST "/lineitems?product_id=3" for 127.0.0.1 at 2023-11-22 11:59:05 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 8], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mLineitem Update (1.2ms)[0m  [1m[33mUPDATE "lineitems" SET "updated_at" = ?, "quantity" = ? WHERE "lineitems"."id" = ?[0m  [["updated_at", "2023-11-22 19:59:05.465855"], ["quantity", 2], ["id", 17]]
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:35:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 8]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 6.8ms | Allocations: 2496)
  Rendered lineitems/create.js.erb (Duration: 7.2ms | Allocations: 2661)
Completed 200 OK in 17ms (Views: 7.4ms | ActiveRecord: 1.8ms | Allocations: 6312)


Started GET "/" for 127.0.0.1 at 2023-11-24 00:01:02 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (19.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 39.8ms | Allocations: 7342)
  [1m[36mLineitem Load (0.8ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 8]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 23.2ms | Allocations: 13131)
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 126.4ms | Allocations: 45366)
Completed 200 OK in 195ms (Views: 128.0ms | ActiveRecord: 33.9ms | Allocations: 53260)


Started POST "/lineitems?product_id=1" for 127.0.0.1 at 2023-11-24 00:01:05 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 8], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mLineitem Update (2.7ms)[0m  [1m[33mUPDATE "lineitems" SET "updated_at" = ?, "quantity" = ? WHERE "lineitems"."id" = ?[0m  [["updated_at", "2023-11-24 08:01:05.472907"], ["quantity", 2], ["id", 16]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 8]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 9.1ms | Allocations: 2499)
  Rendered lineitems/create.js.erb (Duration: 10.2ms | Allocations: 2776)
Completed 200 OK in 26ms (Views: 11.9ms | ActiveRecord: 3.7ms | Allocations: 7068)


Started DELETE "/carts/8" for 127.0.0.1 at 2023-11-24 00:01:10 -0800
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"8"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineitem Load (1.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 8]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineitem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 16]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineitem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 17]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 8]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 14ms (ActiveRecord: 1.9ms | Allocations: 4811)


Started GET "/" for 127.0.0.1 at 2023-11-24 00:01:10 -0800
Processing by ShopperController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2023-11-24 08:01:10.323379"], ["updated_at", "2023-11-24 08:01:10.323379"]]
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 27.9ms | Allocations: 4136)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 1.9ms | Allocations: 965)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 44.4ms | Allocations: 13313)
Completed 200 OK in 51ms (Views: 44.7ms | ActiveRecord: 1.8ms | Allocations: 16148)


Started GET "/" for 127.0.0.1 at 2023-11-24 00:22:56 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 14.4ms | Allocations: 7332)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 10.6ms | Allocations: 6875)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 65.1ms | Allocations: 39182)
Completed 200 OK in 85ms (Views: 67.1ms | ActiveRecord: 2.2ms | Allocations: 47141)


Started POST "/lineitems?product_id=1" for 127.0.0.1 at 2023-11-24 00:22:58 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 9], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (2.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mLineitem Create (0.3ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 1], ["cart_id", 9], ["created_at", "2023-11-24 08:22:58.821782"], ["updated_at", "2023-11-24 08:22:58.821782"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.8ms | Allocations: 1120)
  Rendered lineitems/create.js.erb (Duration: 3.8ms | Allocations: 1383)
Completed 200 OK in 26ms (Views: 5.8ms | ActiveRecord: 3.4ms | Allocations: 11084)


Started GET "/" for 127.0.0.1 at 2023-11-24 00:23:01 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 8.8ms | Allocations: 4112)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 4.4ms | Allocations: 1761)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 26.5ms | Allocations: 14016)
Completed 200 OK in 30ms (Views: 27.3ms | ActiveRecord: 0.5ms | Allocations: 15008)


Started POST "/lineitems?product_id=2" for 127.0.0.1 at 2023-11-24 00:23:04 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 9], ["product_id", 2], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mLineitem Create (0.2ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 2], ["cart_id", 9], ["created_at", "2023-11-24 08:23:04.367900"], ["updated_at", "2023-11-24 08:23:04.367900"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 5.8ms | Allocations: 1901)
  Rendered lineitems/create.js.erb (Duration: 6.2ms | Allocations: 2066)
Completed 200 OK in 23ms (Views: 6.8ms | ActiveRecord: 1.6ms | Allocations: 6641)


Started POST "/lineitems?product_id=2" for 127.0.0.1 at 2023-11-24 00:23:06 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 9], ["product_id", 2], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mLineitem Update (1.0ms)[0m  [1m[33mUPDATE "lineitems" SET "updated_at" = ?, "quantity" = ? WHERE "lineitems"."id" = ?[0m  [["updated_at", "2023-11-24 08:23:06.083112"], ["quantity", 2], ["id", 19]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 6.7ms | Allocations: 2496)
  Rendered lineitems/create.js.erb (Duration: 7.1ms | Allocations: 2661)
Completed 200 OK in 17ms (Views: 7.3ms | ActiveRecord: 1.7ms | Allocations: 6317)


Started GET "/orders/new" for 127.0.0.1 at 2023-11-24 00:23:08 -0800
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "lineitems" WHERE "lineitems"."cart_id" = ? LIMIT ?[0m  [["cart_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:18:in `new'
  Rendering layout layouts/application.html.erb
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.0ms | Allocations: 1490)
  Rendered orders/new.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1774)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 6.4ms | Allocations: 2477)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 22.1ms | Allocations: 12556)
Completed 200 OK in 38ms (Views: 23.0ms | ActiveRecord: 3.0ms | Allocations: 19460)


Started POST "/orders" for 127.0.0.1 at 2023-11-24 00:23:13 -0800
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "order"=>{"name"=>"ddd", "address"=>"ddd", "email"=>"ddd", "paytype"=>"Check"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mOrder Create (2.5ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "paytype", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "ddd"], ["address", "ddd"], ["email", "ddd"], ["paytype", "Check"], ["created_at", "2023-11-24 08:23:13.254466"], ["updated_at", "2023-11-24 08:23:13.254466"]]
  ↳ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineitem Load (1.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineitem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 18]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineitem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 19]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 9]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 21ms (ActiveRecord: 4.5ms | Allocations: 7375)


Started GET "/" for 127.0.0.1 at 2023-11-24 00:23:13 -0800
Processing by ShopperController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.0ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2023-11-24 08:23:13.283858"], ["updated_at", "2023-11-24 08:23:13.283858"]]
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 8.1ms | Allocations: 4111)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 10]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.1ms | Allocations: 965)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 20.9ms | Allocations: 13224)
Completed 200 OK in 27ms (Views: 21.5ms | ActiveRecord: 1.4ms | Allocations: 16057)


Started POST "/lineitems?product_id=1" for 127.0.0.1 at 2023-11-24 00:23:15 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 10], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mLineitem Create (0.2ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 1], ["cart_id", 10], ["created_at", "2023-11-24 08:23:16.020935"], ["updated_at", "2023-11-24 08:23:16.020935"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 10]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.4ms | Allocations: 1099)
  Rendered lineitems/create.js.erb (Duration: 3.8ms | Allocations: 1252)
Completed 200 OK in 16ms (Views: 4.4ms | ActiveRecord: 2.1ms | Allocations: 5813)


Started GET "/" for 127.0.0.1 at 2023-11-24 00:42:08 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (3.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 15.8ms | Allocations: 4139)
  [1m[36mLineitem Load (0.5ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 10]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 4.7ms | Allocations: 1816)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 43.7ms | Allocations: 14123)
Completed 200 OK in 52ms (Views: 42.4ms | ActiveRecord: 7.2ms | Allocations: 15369)


Started POST "/lineitems?product_id=1" for 127.0.0.1 at 2023-11-24 00:42:11 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 10], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mLineitem Update (1.3ms)[0m  [1m[33mUPDATE "lineitems" SET "updated_at" = ?, "quantity" = ? WHERE "lineitems"."id" = ?[0m  [["updated_at", "2023-11-24 08:42:11.394300"], ["quantity", 2], ["id", 20]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 10]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 4.1ms | Allocations: 1694)
  Rendered lineitems/create.js.erb (Duration: 4.5ms | Allocations: 1847)
Completed 200 OK in 15ms (Views: 5.1ms | ActiveRecord: 2.6ms | Allocations: 5519)


Started POST "/lineitems?product_id=2" for 127.0.0.1 at 2023-11-24 00:42:16 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 10], ["product_id", 2], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mLineitem Create (0.2ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 2], ["cart_id", 10], ["created_at", "2023-11-24 08:42:16.231828"], ["updated_at", "2023-11-24 08:42:16.231828"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 10]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 4.2ms | Allocations: 1901)
  Rendered lineitems/create.js.erb (Duration: 4.8ms | Allocations: 2066)
Completed 200 OK in 16ms (Views: 5.1ms | ActiveRecord: 2.1ms | Allocations: 6631)


Started GET "/" for 127.0.0.1 at 2023-11-26 15:31:53 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 255.1ms | Allocations: 106700)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 10]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 51.0ms | Allocations: 66749)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 365.3ms | Allocations: 212585)
Completed 200 OK in 508ms (Views: 370.8ms | ActiveRecord: 5.8ms | Allocations: 288099)


Started DELETE "/carts/10" for 127.0.0.1 at 2023-11-26 15:31:59 -0800
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"10"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineitem Load (1.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 10]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineitem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 20]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineitem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 21]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 10]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 13ms (ActiveRecord: 2.2ms | Allocations: 5161)


Started GET "/" for 127.0.0.1 at 2023-11-26 15:31:59 -0800
Processing by ShopperController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2023-11-26 23:31:59.533402"], ["updated_at", "2023-11-26 23:31:59.533402"]]
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 8.5ms | Allocations: 4113)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 13.3ms | Allocations: 968)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 34.7ms | Allocations: 13231)
Completed 200 OK in 43ms (Views: 35.4ms | ActiveRecord: 1.5ms | Allocations: 16853)


Started POST "/lineitems?product_id=1" for 127.0.0.1 at 2023-11-26 15:32:02 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 11], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mLineitem Create (0.2ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 1], ["cart_id", 11], ["created_at", "2023-11-26 23:32:02.079627"], ["updated_at", "2023-11-26 23:32:02.079627"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.1ms | Allocations: 1115)
  Rendered lineitems/create.js.erb (Duration: 4.1ms | Allocations: 1389)
Completed 200 OK in 18ms (Views: 6.3ms | ActiveRecord: 1.7ms | Allocations: 7324)


Started POST "/lineitems?product_id=3" for 127.0.0.1 at 2023-11-26 15:32:03 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 11], ["product_id", 3], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mLineitem Create (0.2ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 3], ["cart_id", 11], ["created_at", "2023-11-26 23:32:03.896323"], ["updated_at", "2023-11-26 23:32:03.896323"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 5.2ms | Allocations: 1901)
  Rendered lineitems/create.js.erb (Duration: 5.6ms | Allocations: 2066)
Completed 200 OK in 17ms (Views: 6.0ms | ActiveRecord: 1.9ms | Allocations: 6660)


Started POST "/lineitems?product_id=4" for 127.0.0.1 at 2023-11-26 15:32:05 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 11], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mLineitem Create (0.2ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 4], ["cart_id", 11], ["created_at", "2023-11-26 23:32:05.544466"], ["updated_at", "2023-11-26 23:32:05.544466"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 7.4ms | Allocations: 2703)
  Rendered lineitems/create.js.erb (Duration: 7.8ms | Allocations: 2880)
Completed 200 OK in 19ms (Views: 8.2ms | ActiveRecord: 2.2ms | Allocations: 7464)


Started GET "/orders/new" for 127.0.0.1 at 2023-11-26 15:32:11 -0800
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "lineitems" WHERE "lineitems"."cart_id" = ? LIMIT ?[0m  [["cart_id", 11], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:18:in `new'
  Rendering layout layouts/application.html.erb
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 16.6ms | Allocations: 6606)
  Rendered orders/new.html.erb within layouts/application (Duration: 18.3ms | Allocations: 6885)
  Rendered layout layouts/application.html.erb (Duration: 18.4ms | Allocations: 6960)
Completed 500 Internal Server Error in 51ms (ActiveRecord: 0.6ms | Allocations: 50443)


  
ActionView::Template::Error (uninitialized constant Order::PAYMENT_TYPES
Did you mean?  Order::PAYTYPES):
    28: 
    29:   <div class="field">
    30:     <%= form.label :paytype %>
    31:     <%= form.select :paytype, Order::PAYMENT_TYPES, prompt: 'Select a payment method' %>
    32:   </div>
    33: 
    34:   <div class="actions">
  
app/views/orders/_form.html.erb:31
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:6
Started POST "/lineitems?product_id=1" for 127.0.0.1 at 2023-11-26 15:33:55 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Load (0.6ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 11], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mLineitem Update (1.7ms)[0m  [1m[33mUPDATE "lineitems" SET "updated_at" = ?, "quantity" = ? WHERE "lineitems"."id" = ?[0m  [["updated_at", "2023-11-26 23:33:55.556638"], ["quantity", 2], ["id", 22]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 18.6ms | Allocations: 10833)
  Rendered lineitems/create.js.erb (Duration: 19.9ms | Allocations: 11254)
Completed 200 OK in 53ms (Views: 21.5ms | ActiveRecord: 7.5ms | Allocations: 29068)


Started GET "/orders/new" for 127.0.0.1 at 2023-11-26 15:34:00 -0800
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "lineitems" WHERE "lineitems"."cart_id" = ? LIMIT ?[0m  [["cart_id", 11], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:18:in `new'
  Rendering layout layouts/application.html.erb
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 7.4ms | Allocations: 1947)
  Rendered orders/new.html.erb within layouts/application (Duration: 8.6ms | Allocations: 2233)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 7.5ms | Allocations: 3278)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 70.3ms | Allocations: 31014)
Completed 200 OK in 85ms (Views: 70.4ms | ActiveRecord: 1.4ms | Allocations: 37988)


Started POST "/orders" for 127.0.0.1 at 2023-11-26 15:34:07 -0800
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "order"=>{"name"=>"ssss", "address"=>"sss", "email"=>"sss", "paytype"=>"Credit Card"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mOrder Create (2.3ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "paytype", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "ssss"], ["address", "sss"], ["email", "sss"], ["paytype", "Credit Card"], ["created_at", "2023-11-26 23:34:07.484600"], ["updated_at", "2023-11-26 23:34:07.484600"]]
  ↳ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineitem Load (1.8ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineitem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 22]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineitem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 23]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineitem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 24]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 11]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 33ms (ActiveRecord: 5.2ms | Allocations: 8102)


Started GET "/" for 127.0.0.1 at 2023-11-26 15:34:07 -0800
Processing by ShopperController#index as HTML
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2023-11-26 23:34:07.534052"], ["updated_at", "2023-11-26 23:34:07.534052"]]
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 10.9ms | Allocations: 4534)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.2ms | Allocations: 965)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 27.6ms | Allocations: 13666)
Completed 200 OK in 63ms (Views: 54.8ms | ActiveRecord: 1.9ms | Allocations: 16734)


Started GET "/products" for 127.0.0.1 at 2023-11-26 15:34:10 -0800
Processing by ProductsController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (Duration: 8.2ms | Allocations: 3708)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.5ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 23.7ms | Allocations: 12818)
Completed 200 OK in 28ms (Views: 25.0ms | ActiveRecord: 0.3ms | Allocations: 14053)


Started GET "/orders" for 127.0.0.1 at 2023-11-26 15:34:14 -0800
Processing by OrdersController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:19
  Rendered orders/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1430)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.0ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 20.0ms | Allocations: 10675)
Completed 200 OK in 23ms (Views: 20.6ms | ActiveRecord: 0.4ms | Allocations: 11787)


Started GET "/orders/new" for 127.0.0.1 at 2023-11-26 15:34:20 -0800
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "lineitems" WHERE "lineitems"."cart_id" = ? LIMIT ?[0m  [["cart_id", 12], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:18:in `new'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 4ms (ActiveRecord: 0.2ms | Allocations: 1524)


Started GET "/" for 127.0.0.1 at 2023-11-26 15:34:20 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 8.6ms | Allocations: 4110)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.2ms | Allocations: 951)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 22.1ms | Allocations: 13204)
Completed 200 OK in 25ms (Views: 22.5ms | ActiveRecord: 0.3ms | Allocations: 14223)


Started GET "/navs/contact" for 127.0.0.1 at 2023-11-26 15:34:24 -0800
Processing by NavsController#contact as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/contact.html.erb within layouts/application
  Rendered navs/contact.html.erb within layouts/application (Duration: 0.4ms | Allocations: 106)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.0ms | Allocations: 976)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 16.3ms | Allocations: 9392)
Completed 200 OK in 20ms (Views: 17.6ms | ActiveRecord: 0.2ms | Allocations: 10559)


Started GET "/search/index" for 127.0.0.1 at 2023-11-26 15:34:25 -0800
Processing by SearchController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering search/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name like '%%' and description like '%%' and price like '%%') ORDER BY "products"."name" ASC[0m
  ↳ app/views/search/index.html.erb:29
  Rendered search/index.html.erb within layouts/application (Duration: 12.1ms | Allocations: 6210)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.9ms | Allocations: 955)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 27.7ms | Allocations: 15312)
Completed 200 OK in 33ms (Views: 29.5ms | ActiveRecord: 0.5ms | Allocations: 16483)


Started POST "/search/index" for 127.0.0.1 at 2023-11-26 15:34:29 -0800
Processing by SearchController#index as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"a", "description"=>"", "price"=>"", "commit"=>"Search"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering search/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name like '%a%' and description like '%%' and price like '%%') ORDER BY "products"."name" ASC[0m
  ↳ app/views/search/index.html.erb:29
  Rendered search/index.html.erb within layouts/application (Duration: 8.4ms | Allocations: 3661)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.2ms | Allocations: 955)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 20.3ms | Allocations: 12754)
Completed 200 OK in 23ms (Views: 20.8ms | ActiveRecord: 0.4ms | Allocations: 13776)


Started POST "/search/index" for 127.0.0.1 at 2023-11-26 15:34:34 -0800
Processing by SearchController#index as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"a w", "description"=>"", "price"=>"", "commit"=>"Search"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering search/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name like '%a w%' and description like '%%' and price like '%%') ORDER BY "products"."name" ASC[0m
  ↳ app/views/search/index.html.erb:29
  Rendered search/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 946)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.0ms | Allocations: 955)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 16.7ms | Allocations: 10183)
Completed 200 OK in 20ms (Views: 16.9ms | ActiveRecord: 0.4ms | Allocations: 11186)


Started POST "/search/index" for 127.0.0.1 at 2023-11-26 15:34:41 -0800
Processing by SearchController#index as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"apple watch", "description"=>"", "price"=>"", "commit"=>"Search"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering search/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name like '%apple watch%' and description like '%%' and price like '%%') ORDER BY "products"."name" ASC[0m
  ↳ app/views/search/index.html.erb:29
  Rendered search/index.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1969)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.2ms | Allocations: 955)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 18.1ms | Allocations: 11062)
Completed 200 OK in 21ms (Views: 18.5ms | ActiveRecord: 0.5ms | Allocations: 12095)


Started POST "/search/index" for 127.0.0.1 at 2023-11-26 15:34:48 -0800
Processing by SearchController#index as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"apple watch", "description"=>"best", "price"=>"1", "commit"=>"Search"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering search/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name like '%apple watch%' and description like '%best%' and price like '%1%') ORDER BY "products"."name" ASC[0m
  ↳ app/views/search/index.html.erb:29
  Rendered search/index.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1967)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.1ms | Allocations: 955)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 18.8ms | Allocations: 11060)
Completed 200 OK in 22ms (Views: 19.1ms | ActiveRecord: 0.4ms | Allocations: 12075)


Started GET "/search/index" for 127.0.0.1 at 2023-11-26 15:34:53 -0800
Processing by SearchController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering search/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name like '%%' and description like '%%' and price like '%%') ORDER BY "products"."name" ASC[0m
  ↳ app/views/search/index.html.erb:29
  Rendered search/index.html.erb within layouts/application (Duration: 8.8ms | Allocations: 4530)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.0ms | Allocations: 955)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 22.8ms | Allocations: 13627)
Completed 200 OK in 25ms (Views: 23.0ms | ActiveRecord: 0.4ms | Allocations: 14598)


Started GET "/navs/contact" for 127.0.0.1 at 2023-11-26 15:34:54 -0800
Processing by NavsController#contact as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/contact.html.erb within layouts/application
  Rendered navs/contact.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.5ms | Allocations: 975)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 21.7ms | Allocations: 9284)
Completed 200 OK in 25ms (Views: 22.3ms | ActiveRecord: 0.2ms | Allocations: 10243)


Started GET "/navs/news" for 127.0.0.1 at 2023-11-26 15:34:55 -0800
Processing by NavsController#news as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/news.html.erb within layouts/application
  Rendered navs/news.html.erb within layouts/application (Duration: 0.8ms | Allocations: 103)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.1ms | Allocations: 975)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 21.3ms | Allocations: 9441)
Completed 200 OK in 25ms (Views: 21.9ms | ActiveRecord: 0.2ms | Allocations: 10461)


Started GET "/navs/faq" for 127.0.0.1 at 2023-11-26 15:35:00 -0800
Processing by NavsController#faq as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/faq.html.erb within layouts/application
  Rendered navs/faq.html.erb within layouts/application (Duration: 1.2ms | Allocations: 140)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.2ms | Allocations: 975)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 20.2ms | Allocations: 9429)
Completed 200 OK in 24ms (Views: 20.6ms | ActiveRecord: 0.8ms | Allocations: 10454)


Started GET "/shopper" for 127.0.0.1 at 2023-11-26 15:35:01 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 12.1ms | Allocations: 4114)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.4ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 27.6ms | Allocations: 13204)
Completed 200 OK in 32ms (Views: 28.2ms | ActiveRecord: 0.3ms | Allocations: 14204)


Started GET "/products" for 127.0.0.1 at 2023-11-26 15:35:04 -0800
Processing by ProductsController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (Duration: 7.6ms | Allocations: 3216)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.0ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 23.8ms | Allocations: 12317)
Completed 200 OK in 28ms (Views: 24.2ms | ActiveRecord: 0.4ms | Allocations: 13307)


Started GET "/orders" for 127.0.0.1 at 2023-11-26 15:35:07 -0800
Processing by OrdersController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:19
  Rendered orders/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 938)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.0ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 18.3ms | Allocations: 10183)
Completed 200 OK in 21ms (Views: 18.6ms | ActiveRecord: 0.4ms | Allocations: 11188)


Started GET "/users" for 127.0.0.1 at 2023-11-26 15:35:11 -0800
Processing by UsersController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  ↳ app/views/users/index.html.erb:19
  Rendered users/index.html.erb within layouts/application (Duration: 9.8ms | Allocations: 1112)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.5ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 25.6ms | Allocations: 10366)
Completed 200 OK in 30ms (Views: 26.5ms | ActiveRecord: 0.4ms | Allocations: 11638)


Started GET "/users/1/edit" for 127.0.0.1 at 2023-11-26 15:35:21 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:66:in `set_user'
  Rendering layout layouts/application.html.erb
  Rendering users/edit.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 7.6ms | Allocations: 1564)
  Rendered users/edit.html.erb within layouts/application (Duration: 9.8ms | Allocations: 1888)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.3ms | Allocations: 954)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 25.1ms | Allocations: 11128)
Completed 200 OK in 31ms (Views: 25.4ms | ActiveRecord: 0.7ms | Allocations: 12657)


Started PATCH "/users/1" for 127.0.0.1 at 2023-11-26 15:35:31 -0800
Processing by UsersController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"admin", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Update User", "id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:66:in `set_user'
[31mUnpermitted parameters: :password, :password_confirmation. Context: { controller: UsersController, action: update, request: #<ActionDispatch::Request:0x00007fb7ea4b41d8>, params: {"_method"=>"patch", "authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"admin", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Update User", "controller"=>"users", "action"=>"update", "id"=>"1"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:43:in `block in update'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? AND "users"."id" != ? LIMIT ?[0m  [["name", "admin"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:43:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/users_controller.rb:43:in `block in update'
Redirected to http://127.0.0.1:3000/users/1
Completed 302 Found in 9ms (ActiveRecord: 1.3ms | Allocations: 4103)


Started GET "/users/1" for 127.0.0.1 at 2023-11-26 15:35:31 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:66:in `set_user'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 1.1ms | Allocations: 291)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.0ms | Allocations: 951)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 15.9ms | Allocations: 9536)
Completed 200 OK in 21ms (Views: 16.8ms | ActiveRecord: 0.3ms | Allocations: 11109)


Started GET "/users" for 127.0.0.1 at 2023-11-26 15:35:35 -0800
Processing by UsersController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  ↳ app/views/users/index.html.erb:19
  Rendered users/index.html.erb within layouts/application (Duration: 1.5ms | Allocations: 696)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 4.8ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 23.3ms | Allocations: 9941)
Completed 200 OK in 28ms (Views: 24.5ms | ActiveRecord: 0.3ms | Allocations: 10954)


Started GET "/users/1" for 127.0.0.1 at 2023-11-26 15:35:37 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:66:in `set_user'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 0.2ms | Allocations: 83)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.3ms | Allocations: 947)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 52.6ms | Allocations: 9324)
Completed 200 OK in 63ms (Views: 52.8ms | ActiveRecord: 0.4ms | Allocations: 10787)


Started GET "/users" for 127.0.0.1 at 2023-11-26 15:35:39 -0800
Processing by UsersController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  ↳ app/views/users/index.html.erb:19
  Rendered users/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 696)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.9ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 20.6ms | Allocations: 9941)
Completed 200 OK in 24ms (Views: 20.8ms | ActiveRecord: 0.5ms | Allocations: 10962)


Started GET "/products" for 127.0.0.1 at 2023-11-26 15:35:40 -0800
Processing by ProductsController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (Duration: 7.4ms | Allocations: 3217)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.0ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 24.3ms | Allocations: 12370)
Completed 200 OK in 28ms (Views: 24.8ms | ActiveRecord: 0.3ms | Allocations: 13360)


Started GET "/products/1" for 127.0.0.1 at 2023-11-26 15:35:42 -0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:65:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 3.3ms | Allocations: 393)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.5ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 22.1ms | Allocations: 9636)
Completed 200 OK in 27ms (Views: 22.5ms | ActiveRecord: 0.3ms | Allocations: 11757)


Started GET "/products" for 127.0.0.1 at 2023-11-26 15:35:44 -0800
Processing by ProductsController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (Duration: 7.6ms | Allocations: 3225)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.8ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 28.6ms | Allocations: 12390)
Completed 200 OK in 33ms (Views: 29.4ms | ActiveRecord: 0.3ms | Allocations: 13389)


Started GET "/products/1/edit" for 127.0.0.1 at 2023-11-26 15:35:46 -0800
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:65:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 4.3ms | Allocations: 1561)
  Rendered products/edit.html.erb within layouts/application (Duration: 8.5ms | Allocations: 1889)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.8ms | Allocations: 954)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 25.5ms | Allocations: 11140)
Completed 200 OK in 30ms (Views: 26.0ms | ActiveRecord: 0.3ms | Allocations: 12670)


Started GET "/products" for 127.0.0.1 at 2023-11-26 15:35:49 -0800
Processing by ProductsController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (Duration: 7.7ms | Allocations: 3224)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.1ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 26.3ms | Allocations: 12325)
Completed 200 OK in 30ms (Views: 27.2ms | ActiveRecord: 0.6ms | Allocations: 13323)


Started DELETE "/products/1" for 127.0.0.1 at 2023-11-26 15:35:56 -0800
Processing by ProductsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:65:in `set_product'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/concerns/product.rb:12:in `make_sure_no_line_items'
  [1m[36mLineitem Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "lineitems" WHERE "lineitems"."product_id" = ? LIMIT ?[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/product.rb:12:in `make_sure_no_line_items'
  [1m[36mProduct Destroy (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 1]]
  ↳ app/controllers/products_controller.rb:54:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:54:in `destroy'
Redirected to http://127.0.0.1:3000/products
Completed 302 Found in 9ms (ActiveRecord: 1.3ms | Allocations: 4123)


Started GET "/products" for 127.0.0.1 at 2023-11-26 15:35:56 -0800
Processing by ProductsController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:10
  Rendered products/index.html.erb within layouts/application (Duration: 10.8ms | Allocations: 2608)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.2ms | Allocations: 951)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 27.4ms | Allocations: 11713)
Completed 200 OK in 30ms (Views: 27.8ms | ActiveRecord: 0.4ms | Allocations: 12729)


Started GET "/shopper" for 127.0.0.1 at 2023-11-26 15:35:59 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 7.5ms | Allocations: 3269)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.4ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 22.3ms | Allocations: 12359)
Completed 200 OK in 26ms (Views: 22.7ms | ActiveRecord: 0.3ms | Allocations: 13357)


Started POST "/logout" for 127.0.0.1 at 2023-11-26 15:36:00 -0800
Processing by AccessController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 984)


Started GET "/" for 127.0.0.1 at 2023-11-26 15:36:00 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 6.7ms | Allocations: 3274)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.1ms | Allocations: 951)
  Rendered layout layouts/application.html.erb (Duration: 17.5ms | Allocations: 11702)
Completed 200 OK in 21ms (Views: 18.2ms | ActiveRecord: 0.3ms | Allocations: 12704)


Started POST "/login" for 127.0.0.1 at 2023-11-26 15:36:02 -0800
Processing by AccessController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/access_controller.rb:13:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 4ms (ActiveRecord: 0.3ms | Allocations: 1524)


Started GET "/login" for 127.0.0.1 at 2023-11-26 15:36:02 -0800
Processing by AccessController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering access/new.html.erb within layouts/application
  Rendered access/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 642)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.2ms | Allocations: 947)
  Rendered layout layouts/application.html.erb (Duration: 14.1ms | Allocations: 9214)
Completed 200 OK in 18ms (Views: 15.1ms | ActiveRecord: 0.2ms | Allocations: 10344)


Started POST "/access/new" for 127.0.0.1 at 2023-11-26 15:36:06 -0800
Processing by AccessController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"admin", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  ↳ app/controllers/access_controller.rb:13:in `create'
Redirected to http://127.0.0.1:3000/admin
Completed 302 Found in 265ms (ActiveRecord: 0.3ms | Allocations: 1534)


Started GET "/admin" for 127.0.0.1 at 2023-11-26 15:36:07 -0800
Processing by AdminController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mOrder Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  ↳ app/controllers/admin_controller.rb:5:in `index'
  Rendering layout layouts/application.html.erb
  Rendering admin/index.html.erb within layouts/application
  Rendered admin/index.html.erb within layouts/application (Duration: 0.9ms | Allocations: 222)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.3ms | Allocations: 966)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 14.5ms | Allocations: 9496)
Completed 200 OK in 20ms (Views: 15.5ms | ActiveRecord: 1.0ms | Allocations: 11248)


  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2023-11-26 23:36:38.904729', '2023-11-26 23:36:38.904732') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCarts (20231119184715)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231119184715') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateLineitems (20231119185005)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "lineitems" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_774d1bb2b6"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_733d199599"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_lineitems_on_product_id" ON "lineitems" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_lineitems_on_cart_id" ON "lineitems" ("cart_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231119185005') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddQuantityToLineitems (20231119202423)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.4ms)[0m  [1m[35mALTER TABLE "lineitems" ADD "quantity" integer DEFAULT 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231119202423') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProducts (20231201183750)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" text, "image" varchar, "price" decimal, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231201183750') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateOrders (20231201192417)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "address" text, "email" varchar, "paytype" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231201192417') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddOrderToLineitems (20231201192708)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "lineitems" ADD "order_id" integer[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_lineitems_on_order_id" ON "lineitems" ("order_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "alineitems" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_alineitems_on_order_id" ON "alineitems" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_alineitems_on_cart_id" ON "alineitems" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_alineitems_on_product_id" ON "alineitems" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "alineitems" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "lineitems"[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "lineitems"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "lineitems" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_733d199599"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_774d1bb2b6"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_c468018124"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_lineitems_on_product_id" ON "lineitems" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_lineitems_on_cart_id" ON "lineitems" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_lineitems_on_order_id" ON "lineitems" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "lineitems" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "alineitems"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "alineitems"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231201192708') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateUsers (20231202192955)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231202192955') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CombineItemsInCart (20231202194517)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231202194517') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-11-26 15:36:54 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2023-11-26 23:36:54.615336"], ["updated_at", "2023-11-26 23:36:54.615336"]]
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1061)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 30.6ms | Allocations: 13193)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 169.0ms | Allocations: 72859)
Completed 500 Internal Server Error in 315ms (ActiveRecord: 5.3ms | Allocations: 151392)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    40:         <%= button_to 'Login', login_path%>
    41:       </ul>
    42:       <% if session[:user_id] %>
    43:         Hello, <%= User.find_by(id: session[:user_id]).name%>
    44:         <ul>
    45:           <li><%= link_to 'Orders',orders_path %></li>
    46:           <li><%= link_to 'Products', products_path %></li>
  
app/views/layouts/application.html.erb:43
Started GET "/" for 127.0.0.1 at 2023-11-26 15:36:55 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2023-11-26 23:36:55.111873"], ["updated_at", "2023-11-26 23:36:55.111873"]]
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 1.0ms | Allocations: 545)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.4ms | Allocations: 982)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 14.0ms | Allocations: 10945)
Completed 500 Internal Server Error in 22ms (ActiveRecord: 1.8ms | Allocations: 14087)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    40:         <%= button_to 'Login', login_path%>
    41:       </ul>
    42:       <% if session[:user_id] %>
    43:         Hello, <%= User.find_by(id: session[:user_id]).name%>
    44:         <ul>
    45:           <li><%= link_to 'Orders',orders_path %></li>
    46:           <li><%= link_to 'Products', products_path %></li>
  
app/views/layouts/application.html.erb:43
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (20.5ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Apple Watch"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Apple Watch"], ["description", "best product for health"], ["image", "applewatch.jpeg"], ["price", 100.55], ["created_at", "2023-11-26 23:37:12.959168"], ["updated_at", "2023-11-26 23:37:12.959168"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Macbook Air"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Macbook Air"], ["description", "an apple laptop"], ["image", "macbook.jpeg"], ["price", 250.55], ["created_at", "2023-11-26 23:37:12.986992"], ["updated_at", "2023-11-26 23:37:12.986992"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Ipad Air"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Ipad Air"], ["description", "a useful tool"], ["image", "ipad.jpeg"], ["price", 100.55], ["created_at", "2023-11-26 23:37:12.994036"], ["updated_at", "2023-11-26 23:37:12.994036"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."name" = ? LIMIT ?[0m  [["name", "Iphone 13"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "image", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Iphone 13"], ["description", "must have product"], ["image", "iPhone.jpeg"], ["price", 200.55], ["created_at", "2023-11-26 23:37:12.999862"], ["updated_at", "2023-11-26 23:37:12.999862"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Delete All (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["name", "admin"], ["password_digest", "[FILTERED]"], ["created_at", "2023-11-26 23:37:13.024440"], ["updated_at", "2023-11-26 23:37:13.024440"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? AND "users"."id" != ? LIMIT ?[0m  [["name", "admin"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-11-26 23:37:13.282869"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-11-26 15:37:25 -0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.9ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2023-11-26 23:37:25.555847"], ["updated_at", "2023-11-26 23:37:25.555847"]]
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 84.6ms | Allocations: 90025)
  [1m[36mLineitem Load (0.3ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 15.3ms | Allocations: 11442)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 149.9ms | Allocations: 140684)
Completed 200 OK in 268ms (Views: 151.8ms | ActiveRecord: 7.6ms | Allocations: 219250)


Started GET "/shopper" for 127.0.0.1 at 2023-11-26 15:37:28 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 9.4ms | Allocations: 4107)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 1.9ms | Allocations: 965)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 22.8ms | Allocations: 13222)
Completed 200 OK in 27ms (Views: 23.1ms | ActiveRecord: 0.4ms | Allocations: 14247)


Started GET "/navs/faq" for 127.0.0.1 at 2023-11-26 15:37:29 -0800
Processing by NavsController#faq as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/faq.html.erb within layouts/application
  Rendered navs/faq.html.erb within layouts/application (Duration: 1.7ms | Allocations: 136)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.8ms | Allocations: 977)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 18.5ms | Allocations: 9423)
Completed 200 OK in 22ms (Views: 19.7ms | ActiveRecord: 0.3ms | Allocations: 10620)


Started GET "/search/index" for 127.0.0.1 at 2023-11-26 15:37:30 -0800
Processing by SearchController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering search/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name like '%%' and description like '%%' and price like '%%') ORDER BY "products"."name" ASC[0m
  ↳ app/views/search/index.html.erb:29
  Rendered search/index.html.erb within layouts/application (Duration: 12.5ms | Allocations: 6289)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 1.8ms | Allocations: 956)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 26.8ms | Allocations: 15392)
Completed 200 OK in 31ms (Views: 28.0ms | ActiveRecord: 0.4ms | Allocations: 16597)


Started GET "/navs/contact" for 127.0.0.1 at 2023-11-26 15:37:31 -0800
Processing by NavsController#contact as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/contact.html.erb within layouts/application
  Rendered navs/contact.html.erb within layouts/application (Duration: 0.4ms | Allocations: 106)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.7ms | Allocations: 976)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 18.2ms | Allocations: 9382)
Completed 200 OK in 21ms (Views: 18.7ms | ActiveRecord: 0.2ms | Allocations: 10424)


Started GET "/orders/new" for 127.0.0.1 at 2023-11-26 15:45:55 -0800
Processing by OrdersController#new as HTML
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "lineitems" WHERE "lineitems"."cart_id" = ? LIMIT ?[0m  [["cart_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:18:in `new'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 6ms (ActiveRecord: 1.8ms | Allocations: 2193)


Started GET "/" for 127.0.0.1 at 2023-11-26 15:45:55 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 8.9ms | Allocations: 4144)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 984)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 37.5ms | Allocations: 13296)
Completed 200 OK in 40ms (Views: 37.7ms | ActiveRecord: 0.6ms | Allocations: 14308)


Started POST "/lineitems?product_id=1" for 127.0.0.1 at 2023-11-26 15:45:58 -0800
Processing by LineitemsController#create as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ? AND "lineitems"."product_id" = ? LIMIT ?[0m  [["cart_id", 3], ["product_id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/cart.rb:5:in `add_this_item'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mLineitem Create (0.2ms)[0m  [1m[32mINSERT INTO "lineitems" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["product_id", 1], ["cart_id", 3], ["created_at", "2023-11-26 23:45:58.131939"], ["updated_at", "2023-11-26 23:45:58.131939"], ["quantity", 1], ["order_id", nil]]
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/lineitems_controller.rb:34:in `block in create'
  Rendering lineitems/create.js.erb
  [1m[36mLineitem Load (0.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 3.4ms | Allocations: 1136)
  Rendered lineitems/create.js.erb (Duration: 4.1ms | Allocations: 1410)
Completed 200 OK in 43ms (Views: 5.8ms | ActiveRecord: 2.2ms | Allocations: 60769)


Started GET "/orders/new" for 127.0.0.1 at 2023-11-26 15:45:59 -0800
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mLineitem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "lineitems" WHERE "lineitems"."cart_id" = ? LIMIT ?[0m  [["cart_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:18:in `new'
  Rendering layout layouts/application.html.erb
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 10.3ms | Allocations: 2915)
  Rendered orders/new.html.erb within layouts/application (Duration: 11.5ms | Allocations: 3206)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:11
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 1687)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 26.8ms | Allocations: 13208)
Completed 200 OK in 53ms (Views: 27.8ms | ActiveRecord: 0.8ms | Allocations: 56220)


Started POST "/orders" for 127.0.0.1 at 2023-11-26 15:46:06 -0800
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "order"=>{"name"=>"abcd", "address"=>"abcd", "email"=>"aaa", "paytype"=>"Venmo"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mOrder Create (1.2ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "paytype", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "abcd"], ["address", "abcd"], ["email", "aaa"], ["paytype", "Venmo"], ["created_at", "2023-11-26 23:46:06.843400"], ["updated_at", "2023-11-26 23:46:06.843400"]]
  ↳ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineitem Load (1.2ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineitem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "lineitems" WHERE "lineitems"."id" = ?[0m  [["id", 1]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 3]]
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:35:in `block in create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 16ms (ActiveRecord: 3.3ms | Allocations: 6750)


Started GET "/" for 127.0.0.1 at 2023-11-26 15:46:06 -0800
Processing by ShopperController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (0.9ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2023-11-26 23:46:06.872214"], ["updated_at", "2023-11-26 23:46:06.872214"]]
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 8.9ms | Allocations: 4119)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.9ms | Allocations: 965)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 22.6ms | Allocations: 13232)
Completed 200 OK in 28ms (Views: 23.1ms | ActiveRecord: 1.4ms | Allocations: 15953)


Started DELETE "/carts/4" for 127.0.0.1 at 2023-11-26 15:46:10 -0800
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineitem Load (1.0ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 4]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 8ms (ActiveRecord: 1.4ms | Allocations: 3297)


Started GET "/" for 127.0.0.1 at 2023-11-26 15:46:10 -0800
Processing by ShopperController#index as HTML
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2023-11-26 23:46:10.912363"], ["updated_at", "2023-11-26 23:46:10.912363"]]
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 7.4ms | Allocations: 4111)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 5]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.1ms | Allocations: 965)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 20.5ms | Allocations: 13224)
Completed 200 OK in 26ms (Views: 21.4ms | ActiveRecord: 1.6ms | Allocations: 15946)


Started GET "/navs/contact" for 127.0.0.1 at 2023-11-26 15:46:14 -0800
Processing by NavsController#contact as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering navs/contact.html.erb within layouts/application
  Rendered navs/contact.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 5]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.6ms | Allocations: 975)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 18.4ms | Allocations: 9282)
Completed 200 OK in 22ms (Views: 19.0ms | ActiveRecord: 0.4ms | Allocations: 10245)


Started GET "/shopper" for 127.0.0.1 at 2023-11-26 15:46:16 -0800
Processing by ShopperController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering shopper/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."name" ASC[0m
  ↳ app/views/shopper/index.html.erb:10
  Rendered shopper/index.html.erb within layouts/application (Duration: 11.8ms | Allocations: 4106)
  [1m[36mLineitem Load (0.1ms)[0m  [1m[34mSELECT "lineitems".* FROM "lineitems" WHERE "lineitems"."cart_id" = ?[0m  [["cart_id", 5]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered carts/_cart.html.erb (Duration: 2.0ms | Allocations: 947)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:43
  Rendered layout layouts/application.html.erb (Duration: 27.3ms | Allocations: 13196)
Completed 200 OK in 30ms (Views: 27.8ms | ActiveRecord: 0.3ms | Allocations: 14182)


